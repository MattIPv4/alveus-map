{
  "version": 3,
  "sources": ["../node_modules/hammerjs/hammer.js", "../node_modules/svg-pan-zoom/src/uniwheel.js", "../node_modules/svg-pan-zoom/src/utilities.js", "../node_modules/svg-pan-zoom/src/svg-utilities.js", "../node_modules/svg-pan-zoom/src/control-icons.js", "../node_modules/svg-pan-zoom/src/shadow-viewport.js", "../node_modules/svg-pan-zoom/src/svg-pan-zoom.js", "../node_modules/svg-pan-zoom/src/browserify.js", "../src/js/animateMap.js", "../src/js/infoOutlines.js", "../src/js/panZoom.js", "../node_modules/screenfull/index.js", "../src/js/map.js"],
  "sourcesContent": ["/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n", "// uniwheel 0.1.2 (customized)\n// A unified cross browser mouse wheel event handler\n// https://github.com/teemualap/uniwheel\n\nmodule.exports = (function(){\n\n  //Full details: https://developer.mozilla.org/en-US/docs/Web/Reference/Events/wheel\n\n  var prefix = \"\", _addEventListener, _removeEventListener, support, fns = [];\n  var passiveOption = {passive: true};\n\n  // detect event model\n  if ( window.addEventListener ) {\n    _addEventListener = \"addEventListener\";\n    _removeEventListener = \"removeEventListener\";\n  } else {\n    _addEventListener = \"attachEvent\";\n    _removeEventListener = \"detachEvent\";\n    prefix = \"on\";\n  }\n\n  // detect available wheel event\n  support = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n            document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n            \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\n\n  function createCallback(element,callback) {\n\n    var fn = function(originalEvent) {\n\n      !originalEvent && ( originalEvent = window.event );\n\n      // create a normalized event object\n      var event = {\n        // keep a ref to the original event object\n        originalEvent: originalEvent,\n        target: originalEvent.target || originalEvent.srcElement,\n        type: \"wheel\",\n        deltaMode: originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\n        deltaX: 0,\n        delatZ: 0,\n        preventDefault: function() {\n          originalEvent.preventDefault ?\n            originalEvent.preventDefault() :\n            originalEvent.returnValue = false;\n        }\n      };\n\n      // calculate deltaY (and deltaX) according to the event\n      if ( support == \"mousewheel\" ) {\n        event.deltaY = - 1/40 * originalEvent.wheelDelta;\n        // Webkit also support wheelDeltaX\n        originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 * originalEvent.wheelDeltaX );\n      } else {\n        event.deltaY = originalEvent.detail;\n      }\n\n      // it's time to fire the callback\n      return callback( event );\n\n    };\n\n    fns.push({\n      element: element,\n      fn: fn,\n    });\n\n    return fn;\n  }\n\n  function getCallback(element) {\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i].element === element) {\n        return fns[i].fn;\n      }\n    }\n    return function(){};\n  }\n\n  function removeCallback(element) {\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i].element === element) {\n        return fns.splice(i,1);\n      }\n    }\n  }\n\n  function _addWheelListener(elem, eventName, callback, isPassiveListener ) {\n    var cb;\n\n    if (support === \"wheel\") {\n      cb = callback;\n    } else {\n      cb = createCallback(elem, callback);\n    }\n\n    elem[_addEventListener](prefix + eventName, cb, isPassiveListener ? passiveOption : false);\n  }\n\n  function _removeWheelListener(elem, eventName, callback, isPassiveListener ) {\n\n    var cb;\n\n    if (support === \"wheel\") {\n      cb = callback;\n    } else {\n      cb = getCallback(elem);\n    }\n\n    elem[_removeEventListener](prefix + eventName, cb, isPassiveListener ? passiveOption : false);\n\n    removeCallback(elem);\n  }\n\n  function addWheelListener( elem, callback, isPassiveListener ) {\n    _addWheelListener(elem, support, callback, isPassiveListener );\n\n    // handle MozMousePixelScroll in older Firefox\n    if( support == \"DOMMouseScroll\" ) {\n      _addWheelListener(elem, \"MozMousePixelScroll\", callback, isPassiveListener );\n    }\n  }\n\n  function removeWheelListener(elem, callback, isPassiveListener){\n    _removeWheelListener(elem, support, callback, isPassiveListener);\n\n    // handle MozMousePixelScroll in older Firefox\n    if( support == \"DOMMouseScroll\" ) {\n      _removeWheelListener(elem, \"MozMousePixelScroll\", callback, isPassiveListener);\n    }\n  }\n\n  return {\n    on: addWheelListener,\n    off: removeWheelListener\n  };\n\n})();\n", "module.exports = {\n  /**\n   * Extends an object\n   *\n   * @param  {Object} target object to extend\n   * @param  {Object} source object to take properties from\n   * @return {Object}        extended object\n   */\n  extend: function(target, source) {\n    target = target || {};\n    for (var prop in source) {\n      // Go recursively\n      if (this.isObject(source[prop])) {\n        target[prop] = this.extend(target[prop], source[prop]);\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n    return target;\n  },\n\n  /**\n   * Checks if an object is a DOM element\n   *\n   * @param  {Object}  o HTML element or String\n   * @return {Boolean}   returns true if object is a DOM element\n   */\n  isElement: function(o) {\n    return (\n      o instanceof HTMLElement ||\n      o instanceof SVGElement ||\n      o instanceof SVGSVGElement || //DOM2\n      (o &&\n        typeof o === \"object\" &&\n        o !== null &&\n        o.nodeType === 1 &&\n        typeof o.nodeName === \"string\")\n    );\n  },\n\n  /**\n   * Checks if an object is an Object\n   *\n   * @param  {Object}  o Object\n   * @return {Boolean}   returns true if object is an Object\n   */\n  isObject: function(o) {\n    return Object.prototype.toString.call(o) === \"[object Object]\";\n  },\n\n  /**\n   * Checks if variable is Number\n   *\n   * @param  {Integer|Float}  n\n   * @return {Boolean}   returns true if variable is Number\n   */\n  isNumber: function(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  },\n\n  /**\n   * Search for an SVG element\n   *\n   * @param  {Object|String} elementOrSelector DOM Element or selector String\n   * @return {Object|Null}                   SVG or null\n   */\n  getSvg: function(elementOrSelector) {\n    var element, svg;\n\n    if (!this.isElement(elementOrSelector)) {\n      // If selector provided\n      if (\n        typeof elementOrSelector === \"string\" ||\n        elementOrSelector instanceof String\n      ) {\n        // Try to find the element\n        element = document.querySelector(elementOrSelector);\n\n        if (!element) {\n          throw new Error(\n            \"Provided selector did not find any elements. Selector: \" +\n              elementOrSelector\n          );\n          return null;\n        }\n      } else {\n        throw new Error(\"Provided selector is not an HTML object nor String\");\n        return null;\n      }\n    } else {\n      element = elementOrSelector;\n    }\n\n    if (element.tagName.toLowerCase() === \"svg\") {\n      svg = element;\n    } else {\n      if (element.tagName.toLowerCase() === \"object\") {\n        svg = element.contentDocument.documentElement;\n      } else {\n        if (element.tagName.toLowerCase() === \"embed\") {\n          svg = element.getSVGDocument().documentElement;\n        } else {\n          if (element.tagName.toLowerCase() === \"img\") {\n            throw new Error(\n              'Cannot script an SVG in an \"img\" element. Please use an \"object\" element or an in-line SVG.'\n            );\n          } else {\n            throw new Error(\"Cannot get SVG.\");\n          }\n          return null;\n        }\n      }\n    }\n\n    return svg;\n  },\n\n  /**\n   * Attach a given context to a function\n   * @param  {Function} fn      Function\n   * @param  {Object}   context Context\n   * @return {Function}           Function with certain context\n   */\n  proxy: function(fn, context) {\n    return function() {\n      return fn.apply(context, arguments);\n    };\n  },\n\n  /**\n   * Returns object type\n   * Uses toString that returns [object SVGPoint]\n   * And than parses object type from string\n   *\n   * @param  {Object} o Any object\n   * @return {String}   Object type\n   */\n  getType: function(o) {\n    return Object.prototype.toString\n      .apply(o)\n      .replace(/^\\[object\\s/, \"\")\n      .replace(/\\]$/, \"\");\n  },\n\n  /**\n   * If it is a touch event than add clientX and clientY to event object\n   *\n   * @param  {Event} evt\n   * @param  {SVGSVGElement} svg\n   */\n  mouseAndTouchNormalize: function(evt, svg) {\n    // If no clientX then fallback\n    if (evt.clientX === void 0 || evt.clientX === null) {\n      // Fallback\n      evt.clientX = 0;\n      evt.clientY = 0;\n\n      // If it is a touch event\n      if (evt.touches !== void 0 && evt.touches.length) {\n        if (evt.touches[0].clientX !== void 0) {\n          evt.clientX = evt.touches[0].clientX;\n          evt.clientY = evt.touches[0].clientY;\n        } else if (evt.touches[0].pageX !== void 0) {\n          var rect = svg.getBoundingClientRect();\n\n          evt.clientX = evt.touches[0].pageX - rect.left;\n          evt.clientY = evt.touches[0].pageY - rect.top;\n        }\n        // If it is a custom event\n      } else if (evt.originalEvent !== void 0) {\n        if (evt.originalEvent.clientX !== void 0) {\n          evt.clientX = evt.originalEvent.clientX;\n          evt.clientY = evt.originalEvent.clientY;\n        }\n      }\n    }\n  },\n\n  /**\n   * Check if an event is a double click/tap\n   * TODO: For touch gestures use a library (hammer.js) that takes in account other events\n   * (touchmove and touchend). It should take in account tap duration and traveled distance\n   *\n   * @param  {Event}  evt\n   * @param  {Event}  prevEvt Previous Event\n   * @return {Boolean}\n   */\n  isDblClick: function(evt, prevEvt) {\n    // Double click detected by browser\n    if (evt.detail === 2) {\n      return true;\n    }\n    // Try to compare events\n    else if (prevEvt !== void 0 && prevEvt !== null) {\n      var timeStampDiff = evt.timeStamp - prevEvt.timeStamp, // should be lower than 250 ms\n        touchesDistance = Math.sqrt(\n          Math.pow(evt.clientX - prevEvt.clientX, 2) +\n            Math.pow(evt.clientY - prevEvt.clientY, 2)\n        );\n\n      return timeStampDiff < 250 && touchesDistance < 10;\n    }\n\n    // Nothing found\n    return false;\n  },\n\n  /**\n   * Returns current timestamp as an integer\n   *\n   * @return {Number}\n   */\n  now:\n    Date.now ||\n    function() {\n      return new Date().getTime();\n    },\n\n  // From underscore.\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  throttle: function(func, wait, options) {\n    var that = this;\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) {\n      options = {};\n    }\n    var later = function() {\n      previous = options.leading === false ? 0 : that.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) {\n        context = args = null;\n      }\n    };\n    return function() {\n      var now = that.now();\n      if (!previous && options.leading === false) {\n        previous = now;\n      }\n      var remaining = wait - (now - previous);\n      context = this; // eslint-disable-line consistent-this\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) {\n          context = args = null;\n        }\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  },\n\n  /**\n   * Create a requestAnimationFrame simulation\n   *\n   * @param  {Number|String} refreshRate\n   * @return {Function}\n   */\n  createRequestAnimationFrame: function(refreshRate) {\n    var timeout = null;\n\n    // Convert refreshRate to timeout\n    if (refreshRate !== \"auto\" && refreshRate < 60 && refreshRate > 1) {\n      timeout = Math.floor(1000 / refreshRate);\n    }\n\n    if (timeout === null) {\n      return window.requestAnimationFrame || requestTimeout(33);\n    } else {\n      return requestTimeout(timeout);\n    }\n  }\n};\n\n/**\n * Create a callback that will execute after a given timeout\n *\n * @param  {Function} timeout\n * @return {Function}\n */\nfunction requestTimeout(timeout) {\n  return function(callback) {\n    window.setTimeout(callback, timeout);\n  };\n}\n", "var Utils = require(\"./utilities\"),\n  _browser = \"unknown\";\n\n// http://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\nif (/*@cc_on!@*/ false || !!document.documentMode) {\n  // internet explorer\n  _browser = \"ie\";\n}\n\nmodule.exports = {\n  svgNS: \"http://www.w3.org/2000/svg\",\n  xmlNS: \"http://www.w3.org/XML/1998/namespace\",\n  xmlnsNS: \"http://www.w3.org/2000/xmlns/\",\n  xlinkNS: \"http://www.w3.org/1999/xlink\",\n  evNS: \"http://www.w3.org/2001/xml-events\",\n\n  /**\n   * Get svg dimensions: width and height\n   *\n   * @param  {SVGSVGElement} svg\n   * @return {Object}     {width: 0, height: 0}\n   */\n  getBoundingClientRectNormalized: function(svg) {\n    if (svg.clientWidth && svg.clientHeight) {\n      return { width: svg.clientWidth, height: svg.clientHeight };\n    } else if (!!svg.getBoundingClientRect()) {\n      return svg.getBoundingClientRect();\n    } else {\n      throw new Error(\"Cannot get BoundingClientRect for SVG.\");\n    }\n  },\n\n  /**\n   * Gets g element with class of \"viewport\" or creates it if it doesn't exist\n   *\n   * @param  {SVGSVGElement} svg\n   * @return {SVGElement}     g (group) element\n   */\n  getOrCreateViewport: function(svg, selector) {\n    var viewport = null;\n\n    if (Utils.isElement(selector)) {\n      viewport = selector;\n    } else {\n      viewport = svg.querySelector(selector);\n    }\n\n    // Check if there is just one main group in SVG\n    if (!viewport) {\n      var childNodes = Array.prototype.slice\n        .call(svg.childNodes || svg.children)\n        .filter(function(el) {\n          return el.nodeName !== \"defs\" && el.nodeName !== \"#text\";\n        });\n\n      // Node name should be SVGGElement and should have no transform attribute\n      // Groups with transform are not used as viewport because it involves parsing of all transform possibilities\n      if (\n        childNodes.length === 1 &&\n        childNodes[0].nodeName === \"g\" &&\n        childNodes[0].getAttribute(\"transform\") === null\n      ) {\n        viewport = childNodes[0];\n      }\n    }\n\n    // If no favorable group element exists then create one\n    if (!viewport) {\n      var viewportId =\n        \"viewport-\" + new Date().toISOString().replace(/\\D/g, \"\");\n      viewport = document.createElementNS(this.svgNS, \"g\");\n      viewport.setAttribute(\"id\", viewportId);\n\n      // Internet Explorer (all versions?) can't use childNodes, but other browsers prefer (require?) using childNodes\n      var svgChildren = svg.childNodes || svg.children;\n      if (!!svgChildren && svgChildren.length > 0) {\n        for (var i = svgChildren.length; i > 0; i--) {\n          // Move everything into viewport except defs\n          if (svgChildren[svgChildren.length - i].nodeName !== \"defs\") {\n            viewport.appendChild(svgChildren[svgChildren.length - i]);\n          }\n        }\n      }\n      svg.appendChild(viewport);\n    }\n\n    // Parse class names\n    var classNames = [];\n    if (viewport.getAttribute(\"class\")) {\n      classNames = viewport.getAttribute(\"class\").split(\" \");\n    }\n\n    // Set class (if not set already)\n    if (!~classNames.indexOf(\"svg-pan-zoom_viewport\")) {\n      classNames.push(\"svg-pan-zoom_viewport\");\n      viewport.setAttribute(\"class\", classNames.join(\" \"));\n    }\n\n    return viewport;\n  },\n\n  /**\n   * Set SVG attributes\n   *\n   * @param  {SVGSVGElement} svg\n   */\n  setupSvgAttributes: function(svg) {\n    // Setting default attributes\n    svg.setAttribute(\"xmlns\", this.svgNS);\n    svg.setAttributeNS(this.xmlnsNS, \"xmlns:xlink\", this.xlinkNS);\n    svg.setAttributeNS(this.xmlnsNS, \"xmlns:ev\", this.evNS);\n\n    // Needed for Internet Explorer, otherwise the viewport overflows\n    if (svg.parentNode !== null) {\n      var style = svg.getAttribute(\"style\") || \"\";\n      if (style.toLowerCase().indexOf(\"overflow\") === -1) {\n        svg.setAttribute(\"style\", \"overflow: hidden; \" + style);\n      }\n    }\n  },\n\n  /**\n   * How long Internet Explorer takes to finish updating its display (ms).\n   */\n  internetExplorerRedisplayInterval: 300,\n\n  /**\n   * Forces the browser to redisplay all SVG elements that rely on an\n   * element defined in a 'defs' section. It works globally, for every\n   * available defs element on the page.\n   * The throttling is intentionally global.\n   *\n   * This is only needed for IE. It is as a hack to make markers (and 'use' elements?)\n   * visible after pan/zoom when there are multiple SVGs on the page.\n   * See bug report: https://connect.microsoft.com/IE/feedback/details/781964/\n   * also see svg-pan-zoom issue: https://github.com/ariutta/svg-pan-zoom/issues/62\n   */\n  refreshDefsGlobal: Utils.throttle(\n    function() {\n      var allDefs = document.querySelectorAll(\"defs\");\n      var allDefsCount = allDefs.length;\n      for (var i = 0; i < allDefsCount; i++) {\n        var thisDefs = allDefs[i];\n        thisDefs.parentNode.insertBefore(thisDefs, thisDefs);\n      }\n    },\n    this ? this.internetExplorerRedisplayInterval : null\n  ),\n\n  /**\n   * Sets the current transform matrix of an element\n   *\n   * @param {SVGElement} element\n   * @param {SVGMatrix} matrix  CTM\n   * @param {SVGElement} defs\n   */\n  setCTM: function(element, matrix, defs) {\n    var that = this,\n      s =\n        \"matrix(\" +\n        matrix.a +\n        \",\" +\n        matrix.b +\n        \",\" +\n        matrix.c +\n        \",\" +\n        matrix.d +\n        \",\" +\n        matrix.e +\n        \",\" +\n        matrix.f +\n        \")\";\n\n    element.setAttributeNS(null, \"transform\", s);\n    if (\"transform\" in element.style) {\n      element.style.transform = s;\n    } else if (\"-ms-transform\" in element.style) {\n      element.style[\"-ms-transform\"] = s;\n    } else if (\"-webkit-transform\" in element.style) {\n      element.style[\"-webkit-transform\"] = s;\n    }\n\n    // IE has a bug that makes markers disappear on zoom (when the matrix \"a\" and/or \"d\" elements change)\n    // see http://stackoverflow.com/questions/17654578/svg-marker-does-not-work-in-ie9-10\n    // and http://srndolha.wordpress.com/2013/11/25/svg-line-markers-may-disappear-in-internet-explorer-11/\n    if (_browser === \"ie\" && !!defs) {\n      // this refresh is intended for redisplaying the SVG during zooming\n      defs.parentNode.insertBefore(defs, defs);\n      // this refresh is intended for redisplaying the other SVGs on a page when panning a given SVG\n      // it is also needed for the given SVG itself, on zoomEnd, if the SVG contains any markers that\n      // are located under any other element(s).\n      window.setTimeout(function() {\n        that.refreshDefsGlobal();\n      }, that.internetExplorerRedisplayInterval);\n    }\n  },\n\n  /**\n   * Instantiate an SVGPoint object with given event coordinates\n   *\n   * @param {Event} evt\n   * @param  {SVGSVGElement} svg\n   * @return {SVGPoint}     point\n   */\n  getEventPoint: function(evt, svg) {\n    var point = svg.createSVGPoint();\n\n    Utils.mouseAndTouchNormalize(evt, svg);\n\n    point.x = evt.clientX;\n    point.y = evt.clientY;\n\n    return point;\n  },\n\n  /**\n   * Get SVG center point\n   *\n   * @param  {SVGSVGElement} svg\n   * @return {SVGPoint}\n   */\n  getSvgCenterPoint: function(svg, width, height) {\n    return this.createSVGPoint(svg, width / 2, height / 2);\n  },\n\n  /**\n   * Create a SVGPoint with given x and y\n   *\n   * @param  {SVGSVGElement} svg\n   * @param  {Number} x\n   * @param  {Number} y\n   * @return {SVGPoint}\n   */\n  createSVGPoint: function(svg, x, y) {\n    var point = svg.createSVGPoint();\n    point.x = x;\n    point.y = y;\n\n    return point;\n  }\n};\n", "var SvgUtils = require(\"./svg-utilities\");\n\nmodule.exports = {\n  enable: function(instance) {\n    // Select (and create if necessary) defs\n    var defs = instance.svg.querySelector(\"defs\");\n    if (!defs) {\n      defs = document.createElementNS(SvgUtils.svgNS, \"defs\");\n      instance.svg.appendChild(defs);\n    }\n\n    // Check for style element, and create it if it doesn't exist\n    var styleEl = defs.querySelector(\"style#svg-pan-zoom-controls-styles\");\n    if (!styleEl) {\n      var style = document.createElementNS(SvgUtils.svgNS, \"style\");\n      style.setAttribute(\"id\", \"svg-pan-zoom-controls-styles\");\n      style.setAttribute(\"type\", \"text/css\");\n      style.textContent =\n        \".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }\";\n      defs.appendChild(style);\n    }\n\n    // Zoom Group\n    var zoomGroup = document.createElementNS(SvgUtils.svgNS, \"g\");\n    zoomGroup.setAttribute(\"id\", \"svg-pan-zoom-controls\");\n    zoomGroup.setAttribute(\n      \"transform\",\n      \"translate(\" +\n        (instance.width - 70) +\n        \" \" +\n        (instance.height - 76) +\n        \") scale(0.75)\"\n    );\n    zoomGroup.setAttribute(\"class\", \"svg-pan-zoom-control\");\n\n    // Control elements\n    zoomGroup.appendChild(this._createZoomIn(instance));\n    zoomGroup.appendChild(this._createZoomReset(instance));\n    zoomGroup.appendChild(this._createZoomOut(instance));\n\n    // Finally append created element\n    instance.svg.appendChild(zoomGroup);\n\n    // Cache control instance\n    instance.controlIcons = zoomGroup;\n  },\n\n  _createZoomIn: function(instance) {\n    var zoomIn = document.createElementNS(SvgUtils.svgNS, \"g\");\n    zoomIn.setAttribute(\"id\", \"svg-pan-zoom-zoom-in\");\n    zoomIn.setAttribute(\"transform\", \"translate(30.5 5) scale(0.015)\");\n    zoomIn.setAttribute(\"class\", \"svg-pan-zoom-control\");\n    zoomIn.addEventListener(\n      \"click\",\n      function() {\n        instance.getPublicInstance().zoomIn();\n      },\n      false\n    );\n    zoomIn.addEventListener(\n      \"touchstart\",\n      function() {\n        instance.getPublicInstance().zoomIn();\n      },\n      false\n    );\n\n    var zoomInBackground = document.createElementNS(SvgUtils.svgNS, \"rect\"); // TODO change these background space fillers to rounded rectangles so they look prettier\n    zoomInBackground.setAttribute(\"x\", \"0\");\n    zoomInBackground.setAttribute(\"y\", \"0\");\n    zoomInBackground.setAttribute(\"width\", \"1500\"); // larger than expected because the whole group is transformed to scale down\n    zoomInBackground.setAttribute(\"height\", \"1400\");\n    zoomInBackground.setAttribute(\"class\", \"svg-pan-zoom-control-background\");\n    zoomIn.appendChild(zoomInBackground);\n\n    var zoomInShape = document.createElementNS(SvgUtils.svgNS, \"path\");\n    zoomInShape.setAttribute(\n      \"d\",\n      \"M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z\"\n    );\n    zoomInShape.setAttribute(\"class\", \"svg-pan-zoom-control-element\");\n    zoomIn.appendChild(zoomInShape);\n\n    return zoomIn;\n  },\n\n  _createZoomReset: function(instance) {\n    // reset\n    var resetPanZoomControl = document.createElementNS(SvgUtils.svgNS, \"g\");\n    resetPanZoomControl.setAttribute(\"id\", \"svg-pan-zoom-reset-pan-zoom\");\n    resetPanZoomControl.setAttribute(\"transform\", \"translate(5 35) scale(0.4)\");\n    resetPanZoomControl.setAttribute(\"class\", \"svg-pan-zoom-control\");\n    resetPanZoomControl.addEventListener(\n      \"click\",\n      function() {\n        instance.getPublicInstance().reset();\n      },\n      false\n    );\n    resetPanZoomControl.addEventListener(\n      \"touchstart\",\n      function() {\n        instance.getPublicInstance().reset();\n      },\n      false\n    );\n\n    var resetPanZoomControlBackground = document.createElementNS(\n      SvgUtils.svgNS,\n      \"rect\"\n    ); // TODO change these background space fillers to rounded rectangles so they look prettier\n    resetPanZoomControlBackground.setAttribute(\"x\", \"2\");\n    resetPanZoomControlBackground.setAttribute(\"y\", \"2\");\n    resetPanZoomControlBackground.setAttribute(\"width\", \"182\"); // larger than expected because the whole group is transformed to scale down\n    resetPanZoomControlBackground.setAttribute(\"height\", \"58\");\n    resetPanZoomControlBackground.setAttribute(\n      \"class\",\n      \"svg-pan-zoom-control-background\"\n    );\n    resetPanZoomControl.appendChild(resetPanZoomControlBackground);\n\n    var resetPanZoomControlShape1 = document.createElementNS(\n      SvgUtils.svgNS,\n      \"path\"\n    );\n    resetPanZoomControlShape1.setAttribute(\n      \"d\",\n      \"M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z\"\n    );\n    resetPanZoomControlShape1.setAttribute(\n      \"class\",\n      \"svg-pan-zoom-control-element\"\n    );\n    resetPanZoomControl.appendChild(resetPanZoomControlShape1);\n\n    var resetPanZoomControlShape2 = document.createElementNS(\n      SvgUtils.svgNS,\n      \"path\"\n    );\n    resetPanZoomControlShape2.setAttribute(\n      \"d\",\n      \"M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z\"\n    );\n    resetPanZoomControlShape2.setAttribute(\n      \"class\",\n      \"svg-pan-zoom-control-element\"\n    );\n    resetPanZoomControl.appendChild(resetPanZoomControlShape2);\n\n    return resetPanZoomControl;\n  },\n\n  _createZoomOut: function(instance) {\n    // zoom out\n    var zoomOut = document.createElementNS(SvgUtils.svgNS, \"g\");\n    zoomOut.setAttribute(\"id\", \"svg-pan-zoom-zoom-out\");\n    zoomOut.setAttribute(\"transform\", \"translate(30.5 70) scale(0.015)\");\n    zoomOut.setAttribute(\"class\", \"svg-pan-zoom-control\");\n    zoomOut.addEventListener(\n      \"click\",\n      function() {\n        instance.getPublicInstance().zoomOut();\n      },\n      false\n    );\n    zoomOut.addEventListener(\n      \"touchstart\",\n      function() {\n        instance.getPublicInstance().zoomOut();\n      },\n      false\n    );\n\n    var zoomOutBackground = document.createElementNS(SvgUtils.svgNS, \"rect\"); // TODO change these background space fillers to rounded rectangles so they look prettier\n    zoomOutBackground.setAttribute(\"x\", \"0\");\n    zoomOutBackground.setAttribute(\"y\", \"0\");\n    zoomOutBackground.setAttribute(\"width\", \"1500\"); // larger than expected because the whole group is transformed to scale down\n    zoomOutBackground.setAttribute(\"height\", \"1400\");\n    zoomOutBackground.setAttribute(\"class\", \"svg-pan-zoom-control-background\");\n    zoomOut.appendChild(zoomOutBackground);\n\n    var zoomOutShape = document.createElementNS(SvgUtils.svgNS, \"path\");\n    zoomOutShape.setAttribute(\n      \"d\",\n      \"M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z\"\n    );\n    zoomOutShape.setAttribute(\"class\", \"svg-pan-zoom-control-element\");\n    zoomOut.appendChild(zoomOutShape);\n\n    return zoomOut;\n  },\n\n  disable: function(instance) {\n    if (instance.controlIcons) {\n      instance.controlIcons.parentNode.removeChild(instance.controlIcons);\n      instance.controlIcons = null;\n    }\n  }\n};\n", "var SvgUtils = require(\"./svg-utilities\"),\n  Utils = require(\"./utilities\");\n\nvar ShadowViewport = function(viewport, options) {\n  this.init(viewport, options);\n};\n\n/**\n * Initialization\n *\n * @param  {SVGElement} viewport\n * @param  {Object} options\n */\nShadowViewport.prototype.init = function(viewport, options) {\n  // DOM Elements\n  this.viewport = viewport;\n  this.options = options;\n\n  // State cache\n  this.originalState = { zoom: 1, x: 0, y: 0 };\n  this.activeState = { zoom: 1, x: 0, y: 0 };\n\n  this.updateCTMCached = Utils.proxy(this.updateCTM, this);\n\n  // Create a custom requestAnimationFrame taking in account refreshRate\n  this.requestAnimationFrame = Utils.createRequestAnimationFrame(\n    this.options.refreshRate\n  );\n\n  // ViewBox\n  this.viewBox = { x: 0, y: 0, width: 0, height: 0 };\n  this.cacheViewBox();\n\n  // Process CTM\n  var newCTM = this.processCTM();\n\n  // Update viewport CTM and cache zoom and pan\n  this.setCTM(newCTM);\n\n  // Update CTM in this frame\n  this.updateCTM();\n};\n\n/**\n * Cache initial viewBox value\n * If no viewBox is defined, then use viewport size/position instead for viewBox values\n */\nShadowViewport.prototype.cacheViewBox = function() {\n  var svgViewBox = this.options.svg.getAttribute(\"viewBox\");\n\n  if (svgViewBox) {\n    var viewBoxValues = svgViewBox\n      .split(/[\\s\\,]/)\n      .filter(function(v) {\n        return v;\n      })\n      .map(parseFloat);\n\n    // Cache viewbox x and y offset\n    this.viewBox.x = viewBoxValues[0];\n    this.viewBox.y = viewBoxValues[1];\n    this.viewBox.width = viewBoxValues[2];\n    this.viewBox.height = viewBoxValues[3];\n\n    var zoom = Math.min(\n      this.options.width / this.viewBox.width,\n      this.options.height / this.viewBox.height\n    );\n\n    // Update active state\n    this.activeState.zoom = zoom;\n    this.activeState.x = (this.options.width - this.viewBox.width * zoom) / 2;\n    this.activeState.y = (this.options.height - this.viewBox.height * zoom) / 2;\n\n    // Force updating CTM\n    this.updateCTMOnNextFrame();\n\n    this.options.svg.removeAttribute(\"viewBox\");\n  } else {\n    this.simpleViewBoxCache();\n  }\n};\n\n/**\n * Recalculate viewport sizes and update viewBox cache\n */\nShadowViewport.prototype.simpleViewBoxCache = function() {\n  var bBox = this.viewport.getBBox();\n\n  this.viewBox.x = bBox.x;\n  this.viewBox.y = bBox.y;\n  this.viewBox.width = bBox.width;\n  this.viewBox.height = bBox.height;\n};\n\n/**\n * Returns a viewbox object. Safe to alter\n *\n * @return {Object} viewbox object\n */\nShadowViewport.prototype.getViewBox = function() {\n  return Utils.extend({}, this.viewBox);\n};\n\n/**\n * Get initial zoom and pan values. Save them into originalState\n * Parses viewBox attribute to alter initial sizes\n *\n * @return {CTM} CTM object based on options\n */\nShadowViewport.prototype.processCTM = function() {\n  var newCTM = this.getCTM();\n\n  if (this.options.fit || this.options.contain) {\n    var newScale;\n    if (this.options.fit) {\n      newScale = Math.min(\n        this.options.width / this.viewBox.width,\n        this.options.height / this.viewBox.height\n      );\n    } else {\n      newScale = Math.max(\n        this.options.width / this.viewBox.width,\n        this.options.height / this.viewBox.height\n      );\n    }\n\n    newCTM.a = newScale; //x-scale\n    newCTM.d = newScale; //y-scale\n    newCTM.e = -this.viewBox.x * newScale; //x-transform\n    newCTM.f = -this.viewBox.y * newScale; //y-transform\n  }\n\n  if (this.options.center) {\n    var offsetX =\n        (this.options.width -\n          (this.viewBox.width + this.viewBox.x * 2) * newCTM.a) *\n        0.5,\n      offsetY =\n        (this.options.height -\n          (this.viewBox.height + this.viewBox.y * 2) * newCTM.a) *\n        0.5;\n\n    newCTM.e = offsetX;\n    newCTM.f = offsetY;\n  }\n\n  // Cache initial values. Based on activeState and fix+center opitons\n  this.originalState.zoom = newCTM.a;\n  this.originalState.x = newCTM.e;\n  this.originalState.y = newCTM.f;\n\n  return newCTM;\n};\n\n/**\n * Return originalState object. Safe to alter\n *\n * @return {Object}\n */\nShadowViewport.prototype.getOriginalState = function() {\n  return Utils.extend({}, this.originalState);\n};\n\n/**\n * Return actualState object. Safe to alter\n *\n * @return {Object}\n */\nShadowViewport.prototype.getState = function() {\n  return Utils.extend({}, this.activeState);\n};\n\n/**\n * Get zoom scale\n *\n * @return {Float} zoom scale\n */\nShadowViewport.prototype.getZoom = function() {\n  return this.activeState.zoom;\n};\n\n/**\n * Get zoom scale for pubilc usage\n *\n * @return {Float} zoom scale\n */\nShadowViewport.prototype.getRelativeZoom = function() {\n  return this.activeState.zoom / this.originalState.zoom;\n};\n\n/**\n * Compute zoom scale for pubilc usage\n *\n * @return {Float} zoom scale\n */\nShadowViewport.prototype.computeRelativeZoom = function(scale) {\n  return scale / this.originalState.zoom;\n};\n\n/**\n * Get pan\n *\n * @return {Object}\n */\nShadowViewport.prototype.getPan = function() {\n  return { x: this.activeState.x, y: this.activeState.y };\n};\n\n/**\n * Return cached viewport CTM value that can be safely modified\n *\n * @return {SVGMatrix}\n */\nShadowViewport.prototype.getCTM = function() {\n  var safeCTM = this.options.svg.createSVGMatrix();\n\n  // Copy values manually as in FF they are not itterable\n  safeCTM.a = this.activeState.zoom;\n  safeCTM.b = 0;\n  safeCTM.c = 0;\n  safeCTM.d = this.activeState.zoom;\n  safeCTM.e = this.activeState.x;\n  safeCTM.f = this.activeState.y;\n\n  return safeCTM;\n};\n\n/**\n * Set a new CTM\n *\n * @param {SVGMatrix} newCTM\n */\nShadowViewport.prototype.setCTM = function(newCTM) {\n  var willZoom = this.isZoomDifferent(newCTM),\n    willPan = this.isPanDifferent(newCTM);\n\n  if (willZoom || willPan) {\n    // Before zoom\n    if (willZoom) {\n      // If returns false then cancel zooming\n      if (\n        this.options.beforeZoom(\n          this.getRelativeZoom(),\n          this.computeRelativeZoom(newCTM.a)\n        ) === false\n      ) {\n        newCTM.a = newCTM.d = this.activeState.zoom;\n        willZoom = false;\n      } else {\n        this.updateCache(newCTM);\n        this.options.onZoom(this.getRelativeZoom());\n      }\n    }\n\n    // Before pan\n    if (willPan) {\n      var preventPan = this.options.beforePan(this.getPan(), {\n          x: newCTM.e,\n          y: newCTM.f\n        }),\n        // If prevent pan is an object\n        preventPanX = false,\n        preventPanY = false;\n\n      // If prevent pan is Boolean false\n      if (preventPan === false) {\n        // Set x and y same as before\n        newCTM.e = this.getPan().x;\n        newCTM.f = this.getPan().y;\n\n        preventPanX = preventPanY = true;\n      } else if (Utils.isObject(preventPan)) {\n        // Check for X axes attribute\n        if (preventPan.x === false) {\n          // Prevent panning on x axes\n          newCTM.e = this.getPan().x;\n          preventPanX = true;\n        } else if (Utils.isNumber(preventPan.x)) {\n          // Set a custom pan value\n          newCTM.e = preventPan.x;\n        }\n\n        // Check for Y axes attribute\n        if (preventPan.y === false) {\n          // Prevent panning on x axes\n          newCTM.f = this.getPan().y;\n          preventPanY = true;\n        } else if (Utils.isNumber(preventPan.y)) {\n          // Set a custom pan value\n          newCTM.f = preventPan.y;\n        }\n      }\n\n      // Update willPan flag\n      // Check if newCTM is still different\n      if ((preventPanX && preventPanY) || !this.isPanDifferent(newCTM)) {\n        willPan = false;\n      } else {\n        this.updateCache(newCTM);\n        this.options.onPan(this.getPan());\n      }\n    }\n\n    // Check again if should zoom or pan\n    if (willZoom || willPan) {\n      this.updateCTMOnNextFrame();\n    }\n  }\n};\n\nShadowViewport.prototype.isZoomDifferent = function(newCTM) {\n  return this.activeState.zoom !== newCTM.a;\n};\n\nShadowViewport.prototype.isPanDifferent = function(newCTM) {\n  return this.activeState.x !== newCTM.e || this.activeState.y !== newCTM.f;\n};\n\n/**\n * Update cached CTM and active state\n *\n * @param {SVGMatrix} newCTM\n */\nShadowViewport.prototype.updateCache = function(newCTM) {\n  this.activeState.zoom = newCTM.a;\n  this.activeState.x = newCTM.e;\n  this.activeState.y = newCTM.f;\n};\n\nShadowViewport.prototype.pendingUpdate = false;\n\n/**\n * Place a request to update CTM on next Frame\n */\nShadowViewport.prototype.updateCTMOnNextFrame = function() {\n  if (!this.pendingUpdate) {\n    // Lock\n    this.pendingUpdate = true;\n\n    // Throttle next update\n    this.requestAnimationFrame.call(window, this.updateCTMCached);\n  }\n};\n\n/**\n * Update viewport CTM with cached CTM\n */\nShadowViewport.prototype.updateCTM = function() {\n  var ctm = this.getCTM();\n\n  // Updates SVG element\n  SvgUtils.setCTM(this.viewport, ctm, this.defs);\n\n  // Free the lock\n  this.pendingUpdate = false;\n\n  // Notify about the update\n  if (this.options.onUpdatedCTM) {\n    this.options.onUpdatedCTM(ctm);\n  }\n};\n\nmodule.exports = function(viewport, options) {\n  return new ShadowViewport(viewport, options);\n};\n", "var Wheel = require(\"./uniwheel\"),\n  ControlIcons = require(\"./control-icons\"),\n  Utils = require(\"./utilities\"),\n  SvgUtils = require(\"./svg-utilities\"),\n  ShadowViewport = require(\"./shadow-viewport\");\n\nvar SvgPanZoom = function(svg, options) {\n  this.init(svg, options);\n};\n\nvar optionsDefaults = {\n  viewportSelector: \".svg-pan-zoom_viewport\", // Viewport selector. Can be querySelector string or SVGElement\n  panEnabled: true, // enable or disable panning (default enabled)\n  controlIconsEnabled: false, // insert icons to give user an option in addition to mouse events to control pan/zoom (default disabled)\n  zoomEnabled: true, // enable or disable zooming (default enabled)\n  dblClickZoomEnabled: true, // enable or disable zooming by double clicking (default enabled)\n  mouseWheelZoomEnabled: true, // enable or disable zooming by mouse wheel (default enabled)\n  preventMouseEventsDefault: true, // enable or disable preventDefault for mouse events\n  zoomScaleSensitivity: 0.1, // Zoom sensitivity\n  minZoom: 0.5, // Minimum Zoom level\n  maxZoom: 10, // Maximum Zoom level\n  fit: true, // enable or disable viewport fit in SVG (default true)\n  contain: false, // enable or disable viewport contain the svg (default false)\n  center: true, // enable or disable viewport centering in SVG (default true)\n  refreshRate: \"auto\", // Maximum number of frames per second (altering SVG's viewport)\n  beforeZoom: null,\n  onZoom: null,\n  beforePan: null,\n  onPan: null,\n  customEventsHandler: null,\n  eventsListenerElement: null,\n  onUpdatedCTM: null\n};\n\nvar passiveListenerOption = { passive: true };\n\nSvgPanZoom.prototype.init = function(svg, options) {\n  var that = this;\n\n  this.svg = svg;\n  this.defs = svg.querySelector(\"defs\");\n\n  // Add default attributes to SVG\n  SvgUtils.setupSvgAttributes(this.svg);\n\n  // Set options\n  this.options = Utils.extend(Utils.extend({}, optionsDefaults), options);\n\n  // Set default state\n  this.state = \"none\";\n\n  // Get dimensions\n  var boundingClientRectNormalized = SvgUtils.getBoundingClientRectNormalized(\n    svg\n  );\n  this.width = boundingClientRectNormalized.width;\n  this.height = boundingClientRectNormalized.height;\n\n  // Init shadow viewport\n  this.viewport = ShadowViewport(\n    SvgUtils.getOrCreateViewport(this.svg, this.options.viewportSelector),\n    {\n      svg: this.svg,\n      width: this.width,\n      height: this.height,\n      fit: this.options.fit,\n      contain: this.options.contain,\n      center: this.options.center,\n      refreshRate: this.options.refreshRate,\n      // Put callbacks into functions as they can change through time\n      beforeZoom: function(oldScale, newScale) {\n        if (that.viewport && that.options.beforeZoom) {\n          return that.options.beforeZoom(oldScale, newScale);\n        }\n      },\n      onZoom: function(scale) {\n        if (that.viewport && that.options.onZoom) {\n          return that.options.onZoom(scale);\n        }\n      },\n      beforePan: function(oldPoint, newPoint) {\n        if (that.viewport && that.options.beforePan) {\n          return that.options.beforePan(oldPoint, newPoint);\n        }\n      },\n      onPan: function(point) {\n        if (that.viewport && that.options.onPan) {\n          return that.options.onPan(point);\n        }\n      },\n      onUpdatedCTM: function(ctm) {\n        if (that.viewport && that.options.onUpdatedCTM) {\n          return that.options.onUpdatedCTM(ctm);\n        }\n      }\n    }\n  );\n\n  // Wrap callbacks into public API context\n  var publicInstance = this.getPublicInstance();\n  publicInstance.setBeforeZoom(this.options.beforeZoom);\n  publicInstance.setOnZoom(this.options.onZoom);\n  publicInstance.setBeforePan(this.options.beforePan);\n  publicInstance.setOnPan(this.options.onPan);\n  publicInstance.setOnUpdatedCTM(this.options.onUpdatedCTM);\n\n  if (this.options.controlIconsEnabled) {\n    ControlIcons.enable(this);\n  }\n\n  // Init events handlers\n  this.lastMouseWheelEventTime = Date.now();\n  this.setupHandlers();\n};\n\n/**\n * Register event handlers\n */\nSvgPanZoom.prototype.setupHandlers = function() {\n  var that = this,\n    prevEvt = null; // use for touchstart event to detect double tap\n\n  this.eventListeners = {\n    // Mouse down group\n    mousedown: function(evt) {\n      var result = that.handleMouseDown(evt, prevEvt);\n      prevEvt = evt;\n      return result;\n    },\n    touchstart: function(evt) {\n      var result = that.handleMouseDown(evt, prevEvt);\n      prevEvt = evt;\n      return result;\n    },\n\n    // Mouse up group\n    mouseup: function(evt) {\n      return that.handleMouseUp(evt);\n    },\n    touchend: function(evt) {\n      return that.handleMouseUp(evt);\n    },\n\n    // Mouse move group\n    mousemove: function(evt) {\n      return that.handleMouseMove(evt);\n    },\n    touchmove: function(evt) {\n      return that.handleMouseMove(evt);\n    },\n\n    // Mouse leave group\n    mouseleave: function(evt) {\n      return that.handleMouseUp(evt);\n    },\n    touchleave: function(evt) {\n      return that.handleMouseUp(evt);\n    },\n    touchcancel: function(evt) {\n      return that.handleMouseUp(evt);\n    }\n  };\n\n  // Init custom events handler if available\n  // eslint-disable-next-line eqeqeq\n  if (this.options.customEventsHandler != null) {\n    this.options.customEventsHandler.init({\n      svgElement: this.svg,\n      eventsListenerElement: this.options.eventsListenerElement,\n      instance: this.getPublicInstance()\n    });\n\n    // Custom event handler may halt builtin listeners\n    var haltEventListeners = this.options.customEventsHandler\n      .haltEventListeners;\n    if (haltEventListeners && haltEventListeners.length) {\n      for (var i = haltEventListeners.length - 1; i >= 0; i--) {\n        if (this.eventListeners.hasOwnProperty(haltEventListeners[i])) {\n          delete this.eventListeners[haltEventListeners[i]];\n        }\n      }\n    }\n  }\n\n  // Bind eventListeners\n  for (var event in this.eventListeners) {\n    // Attach event to eventsListenerElement or SVG if not available\n    (this.options.eventsListenerElement || this.svg).addEventListener(\n      event,\n      this.eventListeners[event],\n      !this.options.preventMouseEventsDefault ? passiveListenerOption : false\n    );\n  }\n\n  // Zoom using mouse wheel\n  if (this.options.mouseWheelZoomEnabled) {\n    this.options.mouseWheelZoomEnabled = false; // set to false as enable will set it back to true\n    this.enableMouseWheelZoom();\n  }\n};\n\n/**\n * Enable ability to zoom using mouse wheel\n */\nSvgPanZoom.prototype.enableMouseWheelZoom = function() {\n  if (!this.options.mouseWheelZoomEnabled) {\n    var that = this;\n\n    // Mouse wheel listener\n    this.wheelListener = function(evt) {\n      return that.handleMouseWheel(evt);\n    };\n\n    // Bind wheelListener\n    var isPassiveListener = !this.options.preventMouseEventsDefault;\n    Wheel.on(\n      this.options.eventsListenerElement || this.svg,\n      this.wheelListener,\n      isPassiveListener\n    );\n\n    this.options.mouseWheelZoomEnabled = true;\n  }\n};\n\n/**\n * Disable ability to zoom using mouse wheel\n */\nSvgPanZoom.prototype.disableMouseWheelZoom = function() {\n  if (this.options.mouseWheelZoomEnabled) {\n    var isPassiveListener = !this.options.preventMouseEventsDefault;\n    Wheel.off(\n      this.options.eventsListenerElement || this.svg,\n      this.wheelListener,\n      isPassiveListener\n    );\n    this.options.mouseWheelZoomEnabled = false;\n  }\n};\n\n/**\n * Handle mouse wheel event\n *\n * @param  {Event} evt\n */\nSvgPanZoom.prototype.handleMouseWheel = function(evt) {\n  if (!this.options.zoomEnabled || this.state !== \"none\") {\n    return;\n  }\n\n  if (this.options.preventMouseEventsDefault) {\n    if (evt.preventDefault) {\n      evt.preventDefault();\n    } else {\n      evt.returnValue = false;\n    }\n  }\n\n  // Default delta in case that deltaY is not available\n  var delta = evt.deltaY || 1,\n    timeDelta = Date.now() - this.lastMouseWheelEventTime,\n    divider = 3 + Math.max(0, 30 - timeDelta);\n\n  // Update cache\n  this.lastMouseWheelEventTime = Date.now();\n\n  // Make empirical adjustments for browsers that give deltaY in pixels (deltaMode=0)\n  if (\"deltaMode\" in evt && evt.deltaMode === 0 && evt.wheelDelta) {\n    delta = evt.deltaY === 0 ? 0 : Math.abs(evt.wheelDelta) / evt.deltaY;\n  }\n\n  delta =\n    -0.3 < delta && delta < 0.3\n      ? delta\n      : ((delta > 0 ? 1 : -1) * Math.log(Math.abs(delta) + 10)) / divider;\n\n  var inversedScreenCTM = this.svg.getScreenCTM().inverse(),\n    relativeMousePoint = SvgUtils.getEventPoint(evt, this.svg).matrixTransform(\n      inversedScreenCTM\n    ),\n    zoom = Math.pow(1 + this.options.zoomScaleSensitivity, -1 * delta); // multiplying by neg. 1 so as to make zoom in/out behavior match Google maps behavior\n\n  this.zoomAtPoint(zoom, relativeMousePoint);\n};\n\n/**\n * Zoom in at a SVG point\n *\n * @param  {SVGPoint} point\n * @param  {Float} zoomScale    Number representing how much to zoom\n * @param  {Boolean} zoomAbsolute Default false. If true, zoomScale is treated as an absolute value.\n *                                Otherwise, zoomScale is treated as a multiplied (e.g. 1.10 would zoom in 10%)\n */\nSvgPanZoom.prototype.zoomAtPoint = function(zoomScale, point, zoomAbsolute) {\n  var originalState = this.viewport.getOriginalState();\n\n  if (!zoomAbsolute) {\n    // Fit zoomScale in set bounds\n    if (\n      this.getZoom() * zoomScale <\n      this.options.minZoom * originalState.zoom\n    ) {\n      zoomScale = (this.options.minZoom * originalState.zoom) / this.getZoom();\n    } else if (\n      this.getZoom() * zoomScale >\n      this.options.maxZoom * originalState.zoom\n    ) {\n      zoomScale = (this.options.maxZoom * originalState.zoom) / this.getZoom();\n    }\n  } else {\n    // Fit zoomScale in set bounds\n    zoomScale = Math.max(\n      this.options.minZoom * originalState.zoom,\n      Math.min(this.options.maxZoom * originalState.zoom, zoomScale)\n    );\n    // Find relative scale to achieve desired scale\n    zoomScale = zoomScale / this.getZoom();\n  }\n\n  var oldCTM = this.viewport.getCTM(),\n    relativePoint = point.matrixTransform(oldCTM.inverse()),\n    modifier = this.svg\n      .createSVGMatrix()\n      .translate(relativePoint.x, relativePoint.y)\n      .scale(zoomScale)\n      .translate(-relativePoint.x, -relativePoint.y),\n    newCTM = oldCTM.multiply(modifier);\n\n  if (newCTM.a !== oldCTM.a) {\n    this.viewport.setCTM(newCTM);\n  }\n};\n\n/**\n * Zoom at center point\n *\n * @param  {Float} scale\n * @param  {Boolean} absolute Marks zoom scale as relative or absolute\n */\nSvgPanZoom.prototype.zoom = function(scale, absolute) {\n  this.zoomAtPoint(\n    scale,\n    SvgUtils.getSvgCenterPoint(this.svg, this.width, this.height),\n    absolute\n  );\n};\n\n/**\n * Zoom used by public instance\n *\n * @param  {Float} scale\n * @param  {Boolean} absolute Marks zoom scale as relative or absolute\n */\nSvgPanZoom.prototype.publicZoom = function(scale, absolute) {\n  if (absolute) {\n    scale = this.computeFromRelativeZoom(scale);\n  }\n\n  this.zoom(scale, absolute);\n};\n\n/**\n * Zoom at point used by public instance\n *\n * @param  {Float} scale\n * @param  {SVGPoint|Object} point    An object that has x and y attributes\n * @param  {Boolean} absolute Marks zoom scale as relative or absolute\n */\nSvgPanZoom.prototype.publicZoomAtPoint = function(scale, point, absolute) {\n  if (absolute) {\n    // Transform zoom into a relative value\n    scale = this.computeFromRelativeZoom(scale);\n  }\n\n  // If not a SVGPoint but has x and y then create a SVGPoint\n  if (Utils.getType(point) !== \"SVGPoint\") {\n    if (\"x\" in point && \"y\" in point) {\n      point = SvgUtils.createSVGPoint(this.svg, point.x, point.y);\n    } else {\n      throw new Error(\"Given point is invalid\");\n    }\n  }\n\n  this.zoomAtPoint(scale, point, absolute);\n};\n\n/**\n * Get zoom scale\n *\n * @return {Float} zoom scale\n */\nSvgPanZoom.prototype.getZoom = function() {\n  return this.viewport.getZoom();\n};\n\n/**\n * Get zoom scale for public usage\n *\n * @return {Float} zoom scale\n */\nSvgPanZoom.prototype.getRelativeZoom = function() {\n  return this.viewport.getRelativeZoom();\n};\n\n/**\n * Compute actual zoom from public zoom\n *\n * @param  {Float} zoom\n * @return {Float} zoom scale\n */\nSvgPanZoom.prototype.computeFromRelativeZoom = function(zoom) {\n  return zoom * this.viewport.getOriginalState().zoom;\n};\n\n/**\n * Set zoom to initial state\n */\nSvgPanZoom.prototype.resetZoom = function() {\n  var originalState = this.viewport.getOriginalState();\n\n  this.zoom(originalState.zoom, true);\n};\n\n/**\n * Set pan to initial state\n */\nSvgPanZoom.prototype.resetPan = function() {\n  this.pan(this.viewport.getOriginalState());\n};\n\n/**\n * Set pan and zoom to initial state\n */\nSvgPanZoom.prototype.reset = function() {\n  this.resetZoom();\n  this.resetPan();\n};\n\n/**\n * Handle double click event\n * See handleMouseDown() for alternate detection method\n *\n * @param {Event} evt\n */\nSvgPanZoom.prototype.handleDblClick = function(evt) {\n  if (this.options.preventMouseEventsDefault) {\n    if (evt.preventDefault) {\n      evt.preventDefault();\n    } else {\n      evt.returnValue = false;\n    }\n  }\n\n  // Check if target was a control button\n  if (this.options.controlIconsEnabled) {\n    var targetClass = evt.target.getAttribute(\"class\") || \"\";\n    if (targetClass.indexOf(\"svg-pan-zoom-control\") > -1) {\n      return false;\n    }\n  }\n\n  var zoomFactor;\n\n  if (evt.shiftKey) {\n    zoomFactor = 1 / ((1 + this.options.zoomScaleSensitivity) * 2); // zoom out when shift key pressed\n  } else {\n    zoomFactor = (1 + this.options.zoomScaleSensitivity) * 2;\n  }\n\n  var point = SvgUtils.getEventPoint(evt, this.svg).matrixTransform(\n    this.svg.getScreenCTM().inverse()\n  );\n  this.zoomAtPoint(zoomFactor, point);\n};\n\n/**\n * Handle click event\n *\n * @param {Event} evt\n */\nSvgPanZoom.prototype.handleMouseDown = function(evt, prevEvt) {\n  if (this.options.preventMouseEventsDefault) {\n    if (evt.preventDefault) {\n      evt.preventDefault();\n    } else {\n      evt.returnValue = false;\n    }\n  }\n\n  Utils.mouseAndTouchNormalize(evt, this.svg);\n\n  // Double click detection; more consistent than ondblclick\n  if (this.options.dblClickZoomEnabled && Utils.isDblClick(evt, prevEvt)) {\n    this.handleDblClick(evt);\n  } else {\n    // Pan mode\n    this.state = \"pan\";\n    this.firstEventCTM = this.viewport.getCTM();\n    this.stateOrigin = SvgUtils.getEventPoint(evt, this.svg).matrixTransform(\n      this.firstEventCTM.inverse()\n    );\n  }\n};\n\n/**\n * Handle mouse move event\n *\n * @param  {Event} evt\n */\nSvgPanZoom.prototype.handleMouseMove = function(evt) {\n  if (this.options.preventMouseEventsDefault) {\n    if (evt.preventDefault) {\n      evt.preventDefault();\n    } else {\n      evt.returnValue = false;\n    }\n  }\n\n  if (this.state === \"pan\" && this.options.panEnabled) {\n    // Pan mode\n    var point = SvgUtils.getEventPoint(evt, this.svg).matrixTransform(\n        this.firstEventCTM.inverse()\n      ),\n      viewportCTM = this.firstEventCTM.translate(\n        point.x - this.stateOrigin.x,\n        point.y - this.stateOrigin.y\n      );\n\n    this.viewport.setCTM(viewportCTM);\n  }\n};\n\n/**\n * Handle mouse button release event\n *\n * @param {Event} evt\n */\nSvgPanZoom.prototype.handleMouseUp = function(evt) {\n  if (this.options.preventMouseEventsDefault) {\n    if (evt.preventDefault) {\n      evt.preventDefault();\n    } else {\n      evt.returnValue = false;\n    }\n  }\n\n  if (this.state === \"pan\") {\n    // Quit pan mode\n    this.state = \"none\";\n  }\n};\n\n/**\n * Adjust viewport size (only) so it will fit in SVG\n * Does not center image\n */\nSvgPanZoom.prototype.fit = function() {\n  var viewBox = this.viewport.getViewBox(),\n    newScale = Math.min(\n      this.width / viewBox.width,\n      this.height / viewBox.height\n    );\n\n  this.zoom(newScale, true);\n};\n\n/**\n * Adjust viewport size (only) so it will contain the SVG\n * Does not center image\n */\nSvgPanZoom.prototype.contain = function() {\n  var viewBox = this.viewport.getViewBox(),\n    newScale = Math.max(\n      this.width / viewBox.width,\n      this.height / viewBox.height\n    );\n\n  this.zoom(newScale, true);\n};\n\n/**\n * Adjust viewport pan (only) so it will be centered in SVG\n * Does not zoom/fit/contain image\n */\nSvgPanZoom.prototype.center = function() {\n  var viewBox = this.viewport.getViewBox(),\n    offsetX =\n      (this.width - (viewBox.width + viewBox.x * 2) * this.getZoom()) * 0.5,\n    offsetY =\n      (this.height - (viewBox.height + viewBox.y * 2) * this.getZoom()) * 0.5;\n\n  this.getPublicInstance().pan({ x: offsetX, y: offsetY });\n};\n\n/**\n * Update content cached BorderBox\n * Use when viewport contents change\n */\nSvgPanZoom.prototype.updateBBox = function() {\n  this.viewport.simpleViewBoxCache();\n};\n\n/**\n * Pan to a rendered position\n *\n * @param  {Object} point {x: 0, y: 0}\n */\nSvgPanZoom.prototype.pan = function(point) {\n  var viewportCTM = this.viewport.getCTM();\n  viewportCTM.e = point.x;\n  viewportCTM.f = point.y;\n  this.viewport.setCTM(viewportCTM);\n};\n\n/**\n * Relatively pan the graph by a specified rendered position vector\n *\n * @param  {Object} point {x: 0, y: 0}\n */\nSvgPanZoom.prototype.panBy = function(point) {\n  var viewportCTM = this.viewport.getCTM();\n  viewportCTM.e += point.x;\n  viewportCTM.f += point.y;\n  this.viewport.setCTM(viewportCTM);\n};\n\n/**\n * Get pan vector\n *\n * @return {Object} {x: 0, y: 0}\n */\nSvgPanZoom.prototype.getPan = function() {\n  var state = this.viewport.getState();\n\n  return { x: state.x, y: state.y };\n};\n\n/**\n * Recalculates cached svg dimensions and controls position\n */\nSvgPanZoom.prototype.resize = function() {\n  // Get dimensions\n  var boundingClientRectNormalized = SvgUtils.getBoundingClientRectNormalized(\n    this.svg\n  );\n  this.width = boundingClientRectNormalized.width;\n  this.height = boundingClientRectNormalized.height;\n\n  // Recalculate original state\n  var viewport = this.viewport;\n  viewport.options.width = this.width;\n  viewport.options.height = this.height;\n  viewport.processCTM();\n\n  // Reposition control icons by re-enabling them\n  if (this.options.controlIconsEnabled) {\n    this.getPublicInstance().disableControlIcons();\n    this.getPublicInstance().enableControlIcons();\n  }\n};\n\n/**\n * Unbind mouse events, free callbacks and destroy public instance\n */\nSvgPanZoom.prototype.destroy = function() {\n  var that = this;\n\n  // Free callbacks\n  this.beforeZoom = null;\n  this.onZoom = null;\n  this.beforePan = null;\n  this.onPan = null;\n  this.onUpdatedCTM = null;\n\n  // Destroy custom event handlers\n  // eslint-disable-next-line eqeqeq\n  if (this.options.customEventsHandler != null) {\n    this.options.customEventsHandler.destroy({\n      svgElement: this.svg,\n      eventsListenerElement: this.options.eventsListenerElement,\n      instance: this.getPublicInstance()\n    });\n  }\n\n  // Unbind eventListeners\n  for (var event in this.eventListeners) {\n    (this.options.eventsListenerElement || this.svg).removeEventListener(\n      event,\n      this.eventListeners[event],\n      !this.options.preventMouseEventsDefault ? passiveListenerOption : false\n    );\n  }\n\n  // Unbind wheelListener\n  this.disableMouseWheelZoom();\n\n  // Remove control icons\n  this.getPublicInstance().disableControlIcons();\n\n  // Reset zoom and pan\n  this.reset();\n\n  // Remove instance from instancesStore\n  instancesStore = instancesStore.filter(function(instance) {\n    return instance.svg !== that.svg;\n  });\n\n  // Delete options and its contents\n  delete this.options;\n\n  // Delete viewport to make public shadow viewport functions uncallable\n  delete this.viewport;\n\n  // Destroy public instance and rewrite getPublicInstance\n  delete this.publicInstance;\n  delete this.pi;\n  this.getPublicInstance = function() {\n    return null;\n  };\n};\n\n/**\n * Returns a public instance object\n *\n * @return {Object} Public instance object\n */\nSvgPanZoom.prototype.getPublicInstance = function() {\n  var that = this;\n\n  // Create cache\n  if (!this.publicInstance) {\n    this.publicInstance = this.pi = {\n      // Pan\n      enablePan: function() {\n        that.options.panEnabled = true;\n        return that.pi;\n      },\n      disablePan: function() {\n        that.options.panEnabled = false;\n        return that.pi;\n      },\n      isPanEnabled: function() {\n        return !!that.options.panEnabled;\n      },\n      pan: function(point) {\n        that.pan(point);\n        return that.pi;\n      },\n      panBy: function(point) {\n        that.panBy(point);\n        return that.pi;\n      },\n      getPan: function() {\n        return that.getPan();\n      },\n      // Pan event\n      setBeforePan: function(fn) {\n        that.options.beforePan =\n          fn === null ? null : Utils.proxy(fn, that.publicInstance);\n        return that.pi;\n      },\n      setOnPan: function(fn) {\n        that.options.onPan =\n          fn === null ? null : Utils.proxy(fn, that.publicInstance);\n        return that.pi;\n      },\n      // Zoom and Control Icons\n      enableZoom: function() {\n        that.options.zoomEnabled = true;\n        return that.pi;\n      },\n      disableZoom: function() {\n        that.options.zoomEnabled = false;\n        return that.pi;\n      },\n      isZoomEnabled: function() {\n        return !!that.options.zoomEnabled;\n      },\n      enableControlIcons: function() {\n        if (!that.options.controlIconsEnabled) {\n          that.options.controlIconsEnabled = true;\n          ControlIcons.enable(that);\n        }\n        return that.pi;\n      },\n      disableControlIcons: function() {\n        if (that.options.controlIconsEnabled) {\n          that.options.controlIconsEnabled = false;\n          ControlIcons.disable(that);\n        }\n        return that.pi;\n      },\n      isControlIconsEnabled: function() {\n        return !!that.options.controlIconsEnabled;\n      },\n      // Double click zoom\n      enableDblClickZoom: function() {\n        that.options.dblClickZoomEnabled = true;\n        return that.pi;\n      },\n      disableDblClickZoom: function() {\n        that.options.dblClickZoomEnabled = false;\n        return that.pi;\n      },\n      isDblClickZoomEnabled: function() {\n        return !!that.options.dblClickZoomEnabled;\n      },\n      // Mouse wheel zoom\n      enableMouseWheelZoom: function() {\n        that.enableMouseWheelZoom();\n        return that.pi;\n      },\n      disableMouseWheelZoom: function() {\n        that.disableMouseWheelZoom();\n        return that.pi;\n      },\n      isMouseWheelZoomEnabled: function() {\n        return !!that.options.mouseWheelZoomEnabled;\n      },\n      // Zoom scale and bounds\n      setZoomScaleSensitivity: function(scale) {\n        that.options.zoomScaleSensitivity = scale;\n        return that.pi;\n      },\n      setMinZoom: function(zoom) {\n        that.options.minZoom = zoom;\n        return that.pi;\n      },\n      setMaxZoom: function(zoom) {\n        that.options.maxZoom = zoom;\n        return that.pi;\n      },\n      // Zoom event\n      setBeforeZoom: function(fn) {\n        that.options.beforeZoom =\n          fn === null ? null : Utils.proxy(fn, that.publicInstance);\n        return that.pi;\n      },\n      setOnZoom: function(fn) {\n        that.options.onZoom =\n          fn === null ? null : Utils.proxy(fn, that.publicInstance);\n        return that.pi;\n      },\n      // Zooming\n      zoom: function(scale) {\n        that.publicZoom(scale, true);\n        return that.pi;\n      },\n      zoomBy: function(scale) {\n        that.publicZoom(scale, false);\n        return that.pi;\n      },\n      zoomAtPoint: function(scale, point) {\n        that.publicZoomAtPoint(scale, point, true);\n        return that.pi;\n      },\n      zoomAtPointBy: function(scale, point) {\n        that.publicZoomAtPoint(scale, point, false);\n        return that.pi;\n      },\n      zoomIn: function() {\n        this.zoomBy(1 + that.options.zoomScaleSensitivity);\n        return that.pi;\n      },\n      zoomOut: function() {\n        this.zoomBy(1 / (1 + that.options.zoomScaleSensitivity));\n        return that.pi;\n      },\n      getZoom: function() {\n        return that.getRelativeZoom();\n      },\n      // CTM update\n      setOnUpdatedCTM: function(fn) {\n        that.options.onUpdatedCTM =\n          fn === null ? null : Utils.proxy(fn, that.publicInstance);\n        return that.pi;\n      },\n      // Reset\n      resetZoom: function() {\n        that.resetZoom();\n        return that.pi;\n      },\n      resetPan: function() {\n        that.resetPan();\n        return that.pi;\n      },\n      reset: function() {\n        that.reset();\n        return that.pi;\n      },\n      // Fit, Contain and Center\n      fit: function() {\n        that.fit();\n        return that.pi;\n      },\n      contain: function() {\n        that.contain();\n        return that.pi;\n      },\n      center: function() {\n        that.center();\n        return that.pi;\n      },\n      // Size and Resize\n      updateBBox: function() {\n        that.updateBBox();\n        return that.pi;\n      },\n      resize: function() {\n        that.resize();\n        return that.pi;\n      },\n      getSizes: function() {\n        return {\n          width: that.width,\n          height: that.height,\n          realZoom: that.getZoom(),\n          viewBox: that.viewport.getViewBox()\n        };\n      },\n      // Destroy\n      destroy: function() {\n        that.destroy();\n        return that.pi;\n      }\n    };\n  }\n\n  return this.publicInstance;\n};\n\n/**\n * Stores pairs of instances of SvgPanZoom and SVG\n * Each pair is represented by an object {svg: SVGSVGElement, instance: SvgPanZoom}\n *\n * @type {Array}\n */\nvar instancesStore = [];\n\nvar svgPanZoom = function(elementOrSelector, options) {\n  var svg = Utils.getSvg(elementOrSelector);\n\n  if (svg === null) {\n    return null;\n  } else {\n    // Look for existent instance\n    for (var i = instancesStore.length - 1; i >= 0; i--) {\n      if (instancesStore[i].svg === svg) {\n        return instancesStore[i].instance.getPublicInstance();\n      }\n    }\n\n    // If instance not found - create one\n    instancesStore.push({\n      svg: svg,\n      instance: new SvgPanZoom(svg, options)\n    });\n\n    // Return just pushed instance\n    return instancesStore[\n      instancesStore.length - 1\n    ].instance.getPublicInstance();\n  }\n};\n\nmodule.exports = svgPanZoom;\n", "var SvgPanZoom = require(\"./svg-pan-zoom.js\");\n\nmodule.exports = SvgPanZoom;\n", "const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\nconst frame = () => new Promise(resolve => window.requestAnimationFrame(resolve));\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nexport default async map => {\n  // Wrap the birds so we leave the original transform as-is for printing\n  const birdsInner = map.querySelector('#Birds');\n  const birds = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n  birdsInner.insertAdjacentElement('afterend', birds);\n  birds.appendChild(birdsInner);\n  birds.id = 'Birds-wrapper';\n\n  // Get some initial values from the birds and map\n  const opacity = Number(birds.getAttribute('opacity')) || Number(birds.style.opacity) || 1;\n  const { x: baseX, y: baseY, width, height } = birds.getBBox();\n  const { width: mapWidth, height: mapHeight } = map.getBBox();\n\n  // Define some constants for the animation\n  const totalTime = 5000;\n  const fadeTime = 2500; // Must not exceed totalTime / 2\n  const travelDistance = Math.min(200, mapWidth - width, mapHeight - height);\n\n  // Ensure the birds are hidden\n  birds.removeAttribute('opacity');\n  birds.style.opacity = '0';\n  birds.style.pointerEvents = 'none';\n  birds.style.transform = `translate(${-baseX}px, ${-baseY}px)`;\n\n  // Animate the birds\n  const animate = async () => {\n    const randX = random(travelDistance, mapWidth - width) - baseX;\n    const randY = random(travelDistance, mapHeight - height) - baseY;\n\n    birds.style.transform = `translate(${randX}px, ${randY}px)`;\n    await frame();\n    await frame();\n\n    birds.style.transition = `transform ${totalTime}ms linear, opacity ${fadeTime}ms ease-in-out`;\n    birds.style.opacity = opacity;\n    birds.style.transform = `translate(${randX - travelDistance}px, ${randY - travelDistance}px)`;\n    await sleep(totalTime - fadeTime);\n\n    birds.style.opacity = '0';\n    await sleep(fadeTime);\n\n    birds.style.transition = '';\n    await frame();\n    await frame();\n  };\n  let active = false;\n  const animateLoop = async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      if (!active) break;\n      await animate();\n      await sleep(random(5000, 30000));\n    }\n  };\n\n  // Track if we should run the animation\n  const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n  mediaQuery.addEventListener('change', () => {\n    // Ignore if no change\n    if (mediaQuery.matches === !active) return;\n\n    // Toggle the animation\n    active = !mediaQuery.matches;\n\n    // If now active, start the loop\n    if (active) animateLoop().then();\n  });\n\n  // Start the initial loop if active, but not immediately\n  await sleep(random(1000, 5000));\n  active = !mediaQuery.matches;\n  if (active) animateLoop().then();\n};\n", "import data from '../data/data.json';\n\nconst infoName = id => id.toLowerCase().replace(/ +\\[outline]$/, '').replace(/\\s/g, '_');\n\nconst setHash = hash => window.location.hash === (hash ? `#${hash}` : '')\n  ? null\n  : history?.pushState\n    ? history.pushState(null, null, hash ? `#${hash}` : ' ')\n    : window.location.hash = hash ? `#${hash}` : '';\n\nconst showMapInfoHandler = (outline, modal, id) => {\n  const name = infoName(id);\n  const info = data[name];\n  const title = info?.data?.title || name;\n  const desc = info?.content || `Sorry, there is no information available about '${title}'`;\n\n  return e => new Promise(resolve => {\n    e?.preventDefault();\n\n    // Mark the outline as active\n    outline.classList.add('active');\n    setHash(name);\n\n    // Inject the modal content\n    modal.querySelector('#info-title').textContent = title;\n    modal.querySelector('#info-desc').innerHTML = desc;\n\n    // Inject the GitHub link\n    modal.querySelector('#info-desc').appendChild(document.createElement('hr'));\n    const github = document.createElement('p');\n    github.appendChild(document.createTextNode('Want to improve this information? '));\n    const githubLink = document.createElement('a');\n    githubLink.href = `https://github.com/MattIPv4/alveus-map/edit/master/src/data/${info?.file || `${name}.md`}`;\n    githubLink.textContent = 'Edit it on GitHub';\n    githubLink.target = '_blank';\n    githubLink.rel = 'noreferrer';\n    github.appendChild(githubLink);\n    modal.querySelector('#info-desc').appendChild(github);\n\n    // Show the modal\n    modal.style.display = 'flex';\n    modal.style.transition = 'opacity 0.2s ease-in-out';\n    window.requestAnimationFrame(() => {\n      window.requestAnimationFrame(() => {\n        modal.style.opacity = '1';\n        modal.setAttribute('aria-hidden', 'false');\n        modal.focus();\n\n        setTimeout(() => {\n          modal.style.transition = '';\n          resolve();\n        }, 200);\n      });\n    });\n  });\n};\n\nconst hideMapInfoHandler = (map, modal, hash = true) => e => new Promise(resolve => {\n  e?.preventDefault();\n\n  // Clean up the active outline\n  const active = map.querySelector('.active');\n  if (active) active.classList.remove('active');\n  if (hash) setHash('');\n\n  // Hide the modal\n  modal.style.transition = 'opacity 0.2s ease-in-out';\n  window.requestAnimationFrame(() => {\n    window.requestAnimationFrame(() => {\n      modal.style.opacity = '0';\n      modal.setAttribute('aria-hidden', 'true');\n      map.focus();\n\n      setTimeout(() => {\n        modal.style.display = 'none';\n        modal.style.transition = '';\n        resolve();\n      }, 200);\n    });\n  });\n});\n\nconst hashHandler = (map, modal, outlines) => async () => {\n  const hash = window.location.hash.replace(/^#/, '');\n  if (Object.prototype.hasOwnProperty.call(data, hash)) {\n    const outline = outlines.find(elm => infoName(elm.getAttribute('id')) === (data[hash].data.outline || hash));\n    if (outline) {\n      outline.focus();\n      if (modal.style.display !== 'none') await hideMapInfoHandler(map, modal, false)();\n      await showMapInfoHandler(outline, modal, hash)();\n    }\n  }\n};\n\nexport default (map, modal) => {\n  // Track if we're panning the map\n  let isMouseDown = false, isPanning = false;\n  map.addEventListener('mousedown', () => {\n    isMouseDown = true;\n    isPanning = false;\n  });\n  map.addEventListener('mouseup', () => {\n    isMouseDown = false;\n  });\n  map.addEventListener('beforePan', () => {\n    if (isMouseDown) isPanning = true;\n  });\n\n  // Ensure the modal can be closed\n  const closeHandler = hideMapInfoHandler(map, modal);\n  modal.querySelector('button[aria-label=\"Close\"]').addEventListener('click', closeHandler);\n  modal.querySelector('button[aria-label=\"Close\"]').addEventListener('keydown', e => {\n    if (e.key === 'Enter' || e.key === ' ') closeHandler(e).then();\n  });\n  modal.addEventListener('click', e => {\n    if (e.target === modal) closeHandler(e).then();\n  });\n  modal.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeHandler(e).then();\n  });\n\n  const outlines = [ ...map.querySelectorAll('[id$=\" [outline]\"]') ];\n  outlines.forEach(outline => {\n    // Allow the user to tab between outlines\n    outline.setAttribute('tabindex', '0');\n    outline.addEventListener('focus', () => {\n      // Determine how much is visible already\n      const rect = outline.getBoundingClientRect();\n      const mapRect = map.getBoundingClientRect();\n      const top = Math.max(rect.top, mapRect.top);\n      const left = Math.max(rect.left, mapRect.left);\n      const bottom = Math.min(rect.bottom, mapRect.bottom);\n      const right = Math.min(rect.right, mapRect.right);\n      const areaFull = rect.width * rect.height;\n      const areaVisible = Math.max(right - left, 0) * Math.max(bottom - top, 0);\n\n      // Pan into view (centered) if not visible enough\n      if (areaVisible / areaFull < 0.25) {\n        map.dispatchEvent(new CustomEvent('panBy', {\n          detail: {\n            x: -(rect.left + (rect.width / 2) - (mapRect.width / 2)),\n            y: -(rect.top + (rect.height / 2) - (mapRect.height / 2)),\n          },\n        }));\n      }\n    });\n\n    // Allow each outline to open the modal\n    const showHandler = showMapInfoHandler(outline, modal, outline.getAttribute('id'));\n    outline.addEventListener('click', e => {\n      if (!isPanning) showHandler(e).then();\n    });\n    outline.addEventListener('keydown', e => {\n      if (e.key === 'Enter' || e.key === ' ') showHandler(e).then();\n    });\n  });\n\n  // Hide the built-in info overlay on the map\n  map.querySelector('#Overlay').style.display = 'none';\n\n  // Check if we need to open a modal\n  // We wait two frames to ensure the map panning/zooming has loaded\n  window.requestAnimationFrame(() => {\n    window.requestAnimationFrame(() => {\n      const handler = hashHandler(map, modal, outlines);\n      window.addEventListener('hashchange', handler);\n      handler().then();\n    });\n  });\n};\n", "import hammer from 'hammerjs';\nimport screenfull from 'screenfull';\nimport svgPanZoom from 'svg-pan-zoom';\n\nimport maximizeIcon from '../icons/maximize.svg';\nimport minimizeIcon from '../icons/minimize.svg';\n\nconst clampPosition = (pz, pos) => {\n  // Ensure all the edges remain pinned to the viewport edges\n  // Or, ensure we're pinned to the center if smaller than the viewport\n  const sizes = pz.getSizes();\n  const width = sizes.viewBox.width * sizes.realZoom;\n  const height = sizes.viewBox.height * sizes.realZoom;\n  const extraWidth = Math.max(sizes.width - width, 0) / 2;\n  const extraHeight = Math.max(sizes.height - height, 0) / 2;\n\n  // min(x, val) = how far pulled to the right from the left edge\n  // max(x, val) = how far pulled to the left from the right edge, offset by the width minus the viewport width\n  // min(y, val) = how far pulled to the bottom from the top edge\n  // max(y, val) = how far pulled to the top from the bottom edge, offset by the height minus the viewport height\n  return {\n    x: Math.max(Math.min(pos.x, extraWidth), -(extraWidth + width - sizes.width)),\n    y: Math.max(Math.min(pos.y, extraHeight), -(extraHeight + height - sizes.height)),\n  };\n};\n\nconst computeZoom = (pz, maxZoom, applyBase = false) => {\n  // Trigger panZoom to update the viewBox\n  pz.resize();\n\n  // Ensure the base zoom fills the screen\n  const currentSizes = pz.getSizes();\n  const actualWidth = currentSizes.viewBox.width * currentSizes.realZoom;\n  const widthRatio = currentSizes.width / actualWidth;\n  const actualHeight = currentSizes.viewBox.height * currentSizes.realZoom;\n  const heightRatio = currentSizes.height / actualHeight;\n  const baseZoom = Math.max(widthRatio, heightRatio) * pz.getZoom();\n\n  // Ensure the min zoom allows viewing the full map\n  const minZoom = Math.min(widthRatio, heightRatio) * pz.getZoom();\n\n  // Apply the new minimum zoom\n  pz.setMinZoom(minZoom);\n  if (pz.getZoom() < minZoom) {\n    pz.zoom(minZoom);\n    pz.pan(clampPosition(pz, pz.getPan()));\n  }\n\n  // Apply the new maximum zoom\n  const newMaxZoom = baseZoom * maxZoom;\n  pz.setMaxZoom(newMaxZoom);\n  if (pz.getZoom() > newMaxZoom) {\n    pz.zoom(newMaxZoom);\n    pz.pan(clampPosition(pz, pz.getPan()));\n  }\n\n  // Apply the base zoom if requested\n  if (applyBase) {\n    pz.zoom(baseZoom);\n    pz.center();\n    pz.pan(clampPosition(pz, pz.getPan()));\n  }\n};\n\nconst mobileEventsHandler = () => ({\n  haltEventListeners: [ 'touchstart', 'touchend', 'touchmove', 'touchleave', 'touchcancel' ],\n  init(options) {\n    const { instance } = options;\n    let initialScale = 1, pannedX = 0, pannedY = 0;\n\n    // Init Hammer\n    // Listen only for pointer and touch events\n    this.hammer = hammer(options.svgElement, {\n      inputClass: hammer.SUPPORT_POINTER_EVENTS ? hammer.PointerEventInput : hammer.TouchInput,\n    });\n\n    // Enable pinch\n    this.hammer.get('pinch').set({ enable: true });\n\n    // Handle double tap\n    this.hammer.on('doubletap', () => instance.zoomIn());\n\n    // Handle pan\n    this.hammer.on('panstart panmove', ev => {\n      // On pan start reset panned variables\n      if (ev.type === 'panstart') {\n        pannedX = 0;\n        pannedY = 0;\n      }\n\n      // Pan only the difference\n      instance.panBy({ x: ev.deltaX - pannedX, y: ev.deltaY - pannedY });\n      pannedX = ev.deltaX;\n      pannedY = ev.deltaY;\n    });\n\n    // Handle pinch\n    this.hammer.on('pinchstart pinchmove', ev => {\n      // On pinch start remember initial zoom\n      if (ev.type === 'pinchstart') {\n        initialScale = instance.getZoom();\n        instance.zoomAtPoint(initialScale * ev.scale, { x: ev.center.x, y: ev.center.y });\n      }\n\n      instance.zoomAtPoint(initialScale * ev.scale, { x: ev.center.x, y: ev.center.y });\n    });\n\n    // Prevent moving the page on some devices when panning over SVG\n    options.svgElement.addEventListener('touchmove', e => e.preventDefault());\n  },\n  destroy() {\n    this.hammer.destroy();\n  },\n});\n\nexport default svg => {\n  const maxZoom = 5;\n\n  // Start up basic panning and zooming\n  const panZoom = svgPanZoom(svg, {\n    zoomScaleSensitivity: 0.5,\n    minZoom: 1,\n    maxZoom,\n    customEventsHandler: mobileEventsHandler(),\n    beforePan(oldPan, newPan) {\n      // Let other logic know we're panning\n      svg.dispatchEvent(new CustomEvent('beforePan', { detail: { oldPan, newPan } }));\n\n      // Ensure the user doesn't pan the svg off the screen\n      return clampPosition(this, newPan);\n    },\n  });\n  svg.getElementsByClassName('svg-pan-zoom_viewport')[0].style.willChange = 'transform';\n\n  // Allow other logic to pan the svg\n  svg.addEventListener('panBy', e => {\n    panZoom.panBy(e.detail);\n  });\n\n  // Allow keyboard navigation\n  svg.setAttribute('tabindex', '-1');\n  svg.focus();\n  svg.addEventListener('click', () => {\n    svg.focus();\n  });\n  svg.addEventListener('keydown', e => {\n    // If the user is holding down shift, allow faster panning\n    const mult = e.shiftKey ? 10 : 1;\n\n    // Determine pan direction\n    let pan;\n    if (e.key === 'ArrowUp') pan = { x: 0, y: 20 * mult };\n    else if (e.key === 'ArrowDown') pan = { x: 0, y: -20 * mult };\n    else if (e.key === 'ArrowLeft') pan = { x: 20 * mult, y: 0 };\n    else if (e.key === 'ArrowRight') pan = { x: -20 * mult, y: 0 };\n\n    // If key was a pan direction, pan the svg\n    if (pan) {\n      e.preventDefault();\n      panZoom.panBy(pan);\n    }\n  });\n\n  // Ensure the zoom remains based on the screen size\n  computeZoom(panZoom, maxZoom, true);\n  window.addEventListener('resize', () => {\n    computeZoom(panZoom, maxZoom);\n    panZoom.pan(clampPosition(panZoom, panZoom.getPan()));\n  });\n\n  // Inject the fullscreen functionality\n  if (screenfull.isEnabled) {\n    // Create the button\n    const fullscreenButton = document.createElement('button');\n    fullscreenButton.className = 'fullscreen';\n    fullscreenButton.innerHTML = maximizeIcon;\n    fullscreenButton.setAttribute('type', 'button');\n    fullscreenButton.setAttribute('role', 'switch');\n    fullscreenButton.setAttribute('aria-label', 'Fullscreen');\n    fullscreenButton.setAttribute('aria-checked', 'false');\n\n    // Attach event handlers\n    fullscreenButton.addEventListener('click', e => {\n      e.preventDefault();\n      screenfull.toggle(svg.parentElement);\n    });\n    fullscreenButton.addEventListener('keydown', e => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        screenfull.toggle(svg.parentElement);\n      }\n    });\n\n    // Track fullscreen state\n    screenfull.on('change', () => {\n      fullscreenButton.className = `fullscreen${screenfull.isFullscreen ? ' active' : ''}`;\n      fullscreenButton.innerHTML = screenfull.isFullscreen ? minimizeIcon : maximizeIcon;\n      fullscreenButton.setAttribute('aria-checked', (!!screenfull.isFullscreen).toString());\n    });\n\n    // Show the button\n    svg.parentElement.appendChild(fullscreenButton);\n  }\n};\n", "/* eslint-disable promise/prefer-await-to-then */\n\nconst methodMap = [\n\t[\n\t\t'requestFullscreen',\n\t\t'exitFullscreen',\n\t\t'fullscreenElement',\n\t\t'fullscreenEnabled',\n\t\t'fullscreenchange',\n\t\t'fullscreenerror',\n\t],\n\t// New WebKit\n\t[\n\t\t'webkitRequestFullscreen',\n\t\t'webkitExitFullscreen',\n\t\t'webkitFullscreenElement',\n\t\t'webkitFullscreenEnabled',\n\t\t'webkitfullscreenchange',\n\t\t'webkitfullscreenerror',\n\n\t],\n\t// Old WebKit\n\t[\n\t\t'webkitRequestFullScreen',\n\t\t'webkitCancelFullScreen',\n\t\t'webkitCurrentFullScreenElement',\n\t\t'webkitCancelFullScreen',\n\t\t'webkitfullscreenchange',\n\t\t'webkitfullscreenerror',\n\n\t],\n\t[\n\t\t'mozRequestFullScreen',\n\t\t'mozCancelFullScreen',\n\t\t'mozFullScreenElement',\n\t\t'mozFullScreenEnabled',\n\t\t'mozfullscreenchange',\n\t\t'mozfullscreenerror',\n\t],\n\t[\n\t\t'msRequestFullscreen',\n\t\t'msExitFullscreen',\n\t\t'msFullscreenElement',\n\t\t'msFullscreenEnabled',\n\t\t'MSFullscreenChange',\n\t\t'MSFullscreenError',\n\t],\n];\n\nconst nativeAPI = (() => {\n\tif (typeof document === 'undefined') {\n\t\treturn false;\n\t}\n\n\tconst unprefixedMethods = methodMap[0];\n\tconst returnValue = {};\n\n\tfor (const methodList of methodMap) {\n\t\tconst exitFullscreenMethod = methodList?.[1];\n\t\tif (exitFullscreenMethod in document) {\n\t\t\tfor (const [index, method] of methodList.entries()) {\n\t\t\t\treturnValue[unprefixedMethods[index]] = method;\n\t\t\t}\n\n\t\t\treturn returnValue;\n\t\t}\n\t}\n\n\treturn false;\n})();\n\nconst eventNameMap = {\n\tchange: nativeAPI.fullscreenchange,\n\terror: nativeAPI.fullscreenerror,\n};\n\n// eslint-disable-next-line import/no-mutable-exports\nlet screenfull = {\n\t// eslint-disable-next-line default-param-last\n\trequest(element = document.documentElement, options) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst onFullScreenEntered = () => {\n\t\t\t\tscreenfull.off('change', onFullScreenEntered);\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tscreenfull.on('change', onFullScreenEntered);\n\n\t\t\tconst returnPromise = element[nativeAPI.requestFullscreen](options);\n\n\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t}\n\t\t});\n\t},\n\texit() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!screenfull.isFullscreen) {\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst onFullScreenExit = () => {\n\t\t\t\tscreenfull.off('change', onFullScreenExit);\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tscreenfull.on('change', onFullScreenExit);\n\n\t\t\tconst returnPromise = document[nativeAPI.exitFullscreen]();\n\n\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t}\n\t\t});\n\t},\n\ttoggle(element, options) {\n\t\treturn screenfull.isFullscreen ? screenfull.exit() : screenfull.request(element, options);\n\t},\n\tonchange(callback) {\n\t\tscreenfull.on('change', callback);\n\t},\n\tonerror(callback) {\n\t\tscreenfull.on('error', callback);\n\t},\n\ton(event, callback) {\n\t\tconst eventName = eventNameMap[event];\n\t\tif (eventName) {\n\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t}\n\t},\n\toff(event, callback) {\n\t\tconst eventName = eventNameMap[event];\n\t\tif (eventName) {\n\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t}\n\t},\n\traw: nativeAPI,\n};\n\nObject.defineProperties(screenfull, {\n\tisFullscreen: {\n\t\tget: () => Boolean(document[nativeAPI.fullscreenElement]),\n\t},\n\telement: {\n\t\tenumerable: true,\n\t\tget: () => document[nativeAPI.fullscreenElement] ?? undefined,\n\t},\n\tisEnabled: {\n\t\tenumerable: true,\n\t\t// Coerce to boolean in case of old WebKit.\n\t\tget: () => Boolean(document[nativeAPI.fullscreenEnabled]),\n\t},\n});\n\nif (!nativeAPI) {\n\tscreenfull = {isEnabled: false};\n}\n\nexport default screenfull;\n", "import animateMap from './animateMap';\nimport infoOutlines from './infoOutlines';\nimport panZoom from './panZoom';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const map = document.getElementsByTagName('svg')[0];\n  const info = document.getElementById('info');\n  infoOutlines(map, info);\n  animateMap(map);\n  panZoom(map);\n});\n"],
  "mappings": "+hBAAA,mBAKA,AAAC,UAAS,EAAQ,EAAU,EAAY,EAAW,CACjD,aAEF,GAAI,GAAkB,CAAC,GAAI,SAAU,MAAO,KAAM,KAAM,GAAG,EACvD,EAAe,EAAS,cAAc,KAAK,EAE3C,EAAgB,WAEhB,EAAQ,KAAK,MACb,EAAM,KAAK,IACX,EAAM,KAAK,IASf,WAA2B,EAAI,EAAS,EAAS,CAC7C,MAAO,YAAW,GAAO,EAAI,CAAO,EAAG,CAAO,CAClD,CAWA,WAAwB,EAAK,EAAI,EAAS,CACtC,MAAI,OAAM,QAAQ,CAAG,EACjB,GAAK,EAAK,EAAQ,GAAK,CAAO,EACvB,IAEJ,EACX,CAQA,WAAc,EAAK,EAAU,EAAS,CAClC,GAAI,GAEJ,GAAI,EAAC,EAIL,GAAI,EAAI,QACJ,EAAI,QAAQ,EAAU,CAAO,UACtB,EAAI,SAAW,EAEtB,IADA,EAAI,EACG,EAAI,EAAI,QACX,EAAS,KAAK,EAAS,EAAI,GAAI,EAAG,CAAG,EACrC,QAGJ,KAAK,IAAK,GACN,EAAI,eAAe,CAAC,GAAK,EAAS,KAAK,EAAS,EAAI,GAAI,EAAG,CAAG,CAG1E,CASA,WAAmB,EAAQ,EAAM,EAAS,CACtC,GAAI,GAAqB,sBAAwB,EAAO;AAAA,EAAO,EAAU;AAAA,EACzE,MAAO,WAAW,CACd,GAAI,GAAI,GAAI,OAAM,iBAAiB,EAC/B,EAAQ,GAAK,EAAE,MAAQ,EAAE,MAAM,QAAQ,kBAAmB,EAAE,EAC3D,QAAQ,cAAe,EAAE,EACzB,QAAQ,6BAA8B,gBAAgB,EAAI,sBAE3D,EAAM,EAAO,SAAY,GAAO,QAAQ,MAAQ,EAAO,QAAQ,KACnE,MAAI,IACA,EAAI,KAAK,EAAO,QAAS,EAAoB,CAAK,EAE/C,EAAO,MAAM,KAAM,SAAS,CACvC,CACJ,CASA,GAAI,GACJ,AAAI,MAAO,QAAO,QAAW,WACzB,EAAS,SAAgB,EAAQ,CAC7B,GAAI,IAAW,GAAa,IAAW,KACnC,KAAM,IAAI,WAAU,4CAA4C,EAIpE,OADI,GAAS,OAAO,CAAM,EACjB,EAAQ,EAAG,EAAQ,UAAU,OAAQ,IAAS,CACnD,GAAI,GAAS,UAAU,GACvB,GAAI,IAAW,GAAa,IAAW,KACnC,OAAS,KAAW,GAChB,AAAI,EAAO,eAAe,CAAO,GAC7B,GAAO,GAAW,EAAO,GAIzC,CACA,MAAO,EACX,EAEA,EAAS,OAAO,OAWpB,GAAI,GAAS,EAAU,SAAgB,EAAM,EAAK,EAAO,CAGrD,OAFI,GAAO,OAAO,KAAK,CAAG,EACtB,EAAI,EACD,EAAI,EAAK,QACZ,AAAI,EAAC,GAAU,GAAS,EAAK,EAAK,MAAQ,IACtC,GAAK,EAAK,IAAM,EAAI,EAAK,KAE7B,IAEJ,MAAO,EACX,EAAG,SAAU,eAAe,EASxB,EAAQ,EAAU,SAAe,EAAM,EAAK,CAC5C,MAAO,GAAO,EAAM,EAAK,EAAI,CACjC,EAAG,QAAS,eAAe,EAQ3B,WAAiB,EAAO,EAAM,EAAY,CACtC,GAAI,GAAQ,EAAK,UACb,EAEJ,EAAS,EAAM,UAAY,OAAO,OAAO,CAAK,EAC9C,EAAO,YAAc,EACrB,EAAO,OAAS,EAEZ,GACA,EAAO,EAAQ,CAAU,CAEjC,CAQA,YAAgB,EAAI,EAAS,CACzB,MAAO,WAAmB,CACtB,MAAO,GAAG,MAAM,EAAS,SAAS,CACtC,CACJ,CASA,YAAkB,EAAK,EAAM,CACzB,MAAI,OAAO,IAAO,EACP,EAAI,MAAM,GAAO,EAAK,IAAM,EAAuB,CAAI,EAE3D,CACX,CAQA,YAAqB,EAAM,EAAM,CAC7B,MAAQ,KAAS,EAAa,EAAO,CACzC,CAQA,YAA2B,EAAQ,EAAO,EAAS,CAC/C,EAAK,GAAS,CAAK,EAAG,SAAS,EAAM,CACjC,EAAO,iBAAiB,EAAM,EAAS,EAAK,CAChD,CAAC,CACL,CAQA,YAA8B,EAAQ,EAAO,EAAS,CAClD,EAAK,GAAS,CAAK,EAAG,SAAS,EAAM,CACjC,EAAO,oBAAoB,EAAM,EAAS,EAAK,CACnD,CAAC,CACL,CASA,YAAmB,EAAM,EAAQ,CAC7B,KAAO,GAAM,CACT,GAAI,GAAQ,EACR,MAAO,GAEX,EAAO,EAAK,UAChB,CACA,MAAO,EACX,CAQA,WAAe,EAAK,EAAM,CACtB,MAAO,GAAI,QAAQ,CAAI,EAAI,EAC/B,CAOA,YAAkB,EAAK,CACnB,MAAO,GAAI,KAAK,EAAE,MAAM,MAAM,CAClC,CASA,YAAiB,EAAK,EAAM,EAAW,CACnC,GAAI,EAAI,SAAW,CAAC,EAChB,MAAO,GAAI,QAAQ,CAAI,EAGvB,OADI,GAAI,EACD,EAAI,EAAI,QAAQ,CACnB,GAAK,GAAa,EAAI,GAAG,IAAc,GAAU,CAAC,GAAa,EAAI,KAAO,EACtE,MAAO,GAEX,GACJ,CACA,MAAO,EAEf,CAOA,YAAiB,EAAK,CAClB,MAAO,OAAM,UAAU,MAAM,KAAK,EAAK,CAAC,CAC5C,CASA,YAAqB,EAAK,EAAK,EAAM,CAKjC,OAJI,GAAU,CAAC,EACX,EAAS,CAAC,EACV,EAAI,EAED,EAAI,EAAI,QAAQ,CACnB,GAAI,GAAM,EAAM,EAAI,GAAG,GAAO,EAAI,GAClC,AAAI,GAAQ,EAAQ,CAAG,EAAI,GACvB,EAAQ,KAAK,EAAI,EAAE,EAEvB,EAAO,GAAK,EACZ,GACJ,CAEA,MAAI,IACA,CAAK,EAGD,EAAU,EAAQ,KAAK,SAAyB,EAAG,EAAG,CAClD,MAAO,GAAE,GAAO,EAAE,EACtB,CAAC,EAJD,EAAU,EAAQ,KAAK,GAQxB,CACX,CAQA,YAAkB,EAAK,EAAU,CAK7B,OAJI,GAAQ,EACR,EAAY,EAAS,GAAG,YAAY,EAAI,EAAS,MAAM,CAAC,EAExD,EAAI,EACD,EAAI,EAAgB,QAAQ,CAI/B,GAHA,EAAS,EAAgB,GACzB,EAAQ,EAAU,EAAS,EAAY,EAEnC,IAAQ,GACR,MAAO,GAEX,GACJ,CACA,MAAO,EACX,CAMA,GAAI,IAAY,EAChB,aAAoB,CAChB,MAAO,KACX,CAOA,YAA6B,EAAS,CAClC,GAAI,GAAM,EAAQ,eAAiB,EACnC,MAAQ,GAAI,aAAe,EAAI,cAAgB,CACnD,CAEA,GAAI,IAAe,wCAEf,GAAiB,gBAAkB,GACnC,GAAyB,GAAS,EAAQ,cAAc,IAAM,EAC9D,GAAqB,IAAiB,GAAa,KAAK,UAAU,SAAS,EAE3E,GAAmB,QACnB,GAAiB,MACjB,GAAmB,QACnB,GAAoB,SAEpB,GAAmB,GAEnB,EAAc,EACd,GAAa,EACb,EAAY,EACZ,EAAe,EAEf,GAAiB,EACjB,GAAiB,EACjB,GAAkB,EAClB,GAAe,EACf,GAAiB,GAEjB,EAAuB,GAAiB,GACxC,GAAqB,GAAe,GACpC,GAAgB,EAAuB,GAEvC,GAAW,CAAC,IAAK,GAAG,EACpB,GAAkB,CAAC,UAAW,SAAS,EAS3C,WAAe,EAAS,EAAU,CAC9B,GAAI,GAAO,KACX,KAAK,QAAU,EACf,KAAK,SAAW,EAChB,KAAK,QAAU,EAAQ,QACvB,KAAK,OAAS,EAAQ,QAAQ,YAI9B,KAAK,WAAa,SAAS,EAAI,CAC3B,AAAI,GAAS,EAAQ,QAAQ,OAAQ,CAAC,CAAO,CAAC,GAC1C,EAAK,QAAQ,CAAE,CAEvB,EAEA,KAAK,KAAK,CAEd,CAEA,EAAM,UAAY,CAKd,QAAS,UAAW,CAAE,EAKtB,KAAM,UAAW,CACb,KAAK,MAAQ,GAAkB,KAAK,QAAS,KAAK,KAAM,KAAK,UAAU,EACvE,KAAK,UAAY,GAAkB,KAAK,OAAQ,KAAK,SAAU,KAAK,UAAU,EAC9E,KAAK,OAAS,GAAkB,GAAoB,KAAK,OAAO,EAAG,KAAK,MAAO,KAAK,UAAU,CAClG,EAKA,QAAS,UAAW,CAChB,KAAK,MAAQ,GAAqB,KAAK,QAAS,KAAK,KAAM,KAAK,UAAU,EAC1E,KAAK,UAAY,GAAqB,KAAK,OAAQ,KAAK,SAAU,KAAK,UAAU,EACjF,KAAK,OAAS,GAAqB,GAAoB,KAAK,OAAO,EAAG,KAAK,MAAO,KAAK,UAAU,CACrG,CACJ,EAQA,YAA6B,EAAS,CAClC,GAAI,GACA,EAAa,EAAQ,QAAQ,WAEjC,MAAI,GACA,EAAO,EACJ,AAAI,GACP,EAAO,GACJ,AAAI,GACP,EAAO,GACJ,AAAK,GAGR,EAAO,GAFP,EAAO,GAIJ,GAAK,GAAM,EAAS,EAAY,CAC3C,CAQA,YAAsB,EAAS,EAAW,EAAO,CAC7C,GAAI,GAAc,EAAM,SAAS,OAC7B,EAAqB,EAAM,gBAAgB,OAC3C,EAAW,EAAY,GAAgB,EAAc,IAAuB,EAC5E,EAAW,EAAa,GAAY,IAAkB,EAAc,IAAuB,EAE/F,EAAM,QAAU,CAAC,CAAC,EAClB,EAAM,QAAU,CAAC,CAAC,EAEd,GACA,GAAQ,QAAU,CAAC,GAKvB,EAAM,UAAY,EAGlB,GAAiB,EAAS,CAAK,EAG/B,EAAQ,KAAK,eAAgB,CAAK,EAElC,EAAQ,UAAU,CAAK,EACvB,EAAQ,QAAQ,UAAY,CAChC,CAOA,YAA0B,EAAS,EAAO,CACtC,GAAI,GAAU,EAAQ,QAClB,EAAW,EAAM,SACjB,EAAiB,EAAS,OAG9B,AAAK,EAAQ,YACT,GAAQ,WAAa,GAAqB,CAAK,GAInD,AAAI,EAAiB,GAAK,CAAC,EAAQ,cAC/B,EAAQ,cAAgB,GAAqB,CAAK,EAC3C,IAAmB,GAC1B,GAAQ,cAAgB,IAG5B,GAAI,GAAa,EAAQ,WACrB,EAAgB,EAAQ,cACxB,EAAe,EAAgB,EAAc,OAAS,EAAW,OAEjE,EAAS,EAAM,OAAS,GAAU,CAAQ,EAC9C,EAAM,UAAY,EAAI,EACtB,EAAM,UAAY,EAAM,UAAY,EAAW,UAE/C,EAAM,MAAQ,GAAS,EAAc,CAAM,EAC3C,EAAM,SAAW,GAAY,EAAc,CAAM,EAEjD,GAAe,EAAS,CAAK,EAC7B,EAAM,gBAAkB,GAAa,EAAM,OAAQ,EAAM,MAAM,EAE/D,GAAI,GAAkB,GAAY,EAAM,UAAW,EAAM,OAAQ,EAAM,MAAM,EAC7E,EAAM,iBAAmB,EAAgB,EACzC,EAAM,iBAAmB,EAAgB,EACzC,EAAM,gBAAmB,EAAI,EAAgB,CAAC,EAAI,EAAI,EAAgB,CAAC,EAAK,EAAgB,EAAI,EAAgB,EAEhH,EAAM,MAAQ,EAAgB,GAAS,EAAc,SAAU,CAAQ,EAAI,EAC3E,EAAM,SAAW,EAAgB,GAAY,EAAc,SAAU,CAAQ,EAAI,EAEjF,EAAM,YAAc,AAAC,EAAQ,UAAsC,EAAM,SAAS,OAC9E,EAAQ,UAAU,YAAe,EAAM,SAAS,OAAS,EAAQ,UAAU,YADtC,EAAM,SAAS,OAGxD,GAAyB,EAAS,CAAK,EAGvC,GAAI,GAAS,EAAQ,QACrB,AAAI,GAAU,EAAM,SAAS,OAAQ,CAAM,GACvC,GAAS,EAAM,SAAS,QAE5B,EAAM,OAAS,CACnB,CAEA,YAAwB,EAAS,EAAO,CACpC,GAAI,GAAS,EAAM,OACf,EAAS,EAAQ,aAAe,CAAC,EACjC,EAAY,EAAQ,WAAa,CAAC,EAClC,EAAY,EAAQ,WAAa,CAAC,EAEtC,AAAI,GAAM,YAAc,GAAe,EAAU,YAAc,IAC3D,GAAY,EAAQ,UAAY,CAC5B,EAAG,EAAU,QAAU,EACvB,EAAG,EAAU,QAAU,CAC3B,EAEA,EAAS,EAAQ,YAAc,CAC3B,EAAG,EAAO,EACV,EAAG,EAAO,CACd,GAGJ,EAAM,OAAS,EAAU,EAAK,GAAO,EAAI,EAAO,GAChD,EAAM,OAAS,EAAU,EAAK,GAAO,EAAI,EAAO,EACpD,CAOA,YAAkC,EAAS,EAAO,CAC9C,GAAI,GAAO,EAAQ,cAAgB,EAC/B,EAAY,EAAM,UAAY,EAAK,UACnC,EAAU,EAAW,EAAW,EAEpC,GAAI,EAAM,WAAa,GAAiB,GAAY,IAAoB,EAAK,WAAa,GAAY,CAClG,GAAI,GAAS,EAAM,OAAS,EAAK,OAC7B,EAAS,EAAM,OAAS,EAAK,OAE7B,EAAI,GAAY,EAAW,EAAQ,CAAM,EAC7C,EAAY,EAAE,EACd,EAAY,EAAE,EACd,EAAY,EAAI,EAAE,CAAC,EAAI,EAAI,EAAE,CAAC,EAAK,EAAE,EAAI,EAAE,EAC3C,EAAY,GAAa,EAAQ,CAAM,EAEvC,EAAQ,aAAe,CAC3B,KAEI,GAAW,EAAK,SAChB,EAAY,EAAK,UACjB,EAAY,EAAK,UACjB,EAAY,EAAK,UAGrB,EAAM,SAAW,EACjB,EAAM,UAAY,EAClB,EAAM,UAAY,EAClB,EAAM,UAAY,CACtB,CAOA,YAA8B,EAAO,CAKjC,OAFI,GAAW,CAAC,EACZ,EAAI,EACD,EAAI,EAAM,SAAS,QACtB,EAAS,GAAK,CACV,QAAS,EAAM,EAAM,SAAS,GAAG,OAAO,EACxC,QAAS,EAAM,EAAM,SAAS,GAAG,OAAO,CAC5C,EACA,IAGJ,MAAO,CACH,UAAW,EAAI,EACf,SAAU,EACV,OAAQ,GAAU,CAAQ,EAC1B,OAAQ,EAAM,OACd,OAAQ,EAAM,MAClB,CACJ,CAOA,YAAmB,EAAU,CACzB,GAAI,GAAiB,EAAS,OAG9B,GAAI,IAAmB,EACnB,MAAO,CACH,EAAG,EAAM,EAAS,GAAG,OAAO,EAC5B,EAAG,EAAM,EAAS,GAAG,OAAO,CAChC,EAIJ,OADI,GAAI,EAAG,EAAI,EAAG,EAAI,EACf,EAAI,GACP,GAAK,EAAS,GAAG,QACjB,GAAK,EAAS,GAAG,QACjB,IAGJ,MAAO,CACH,EAAG,EAAM,EAAI,CAAc,EAC3B,EAAG,EAAM,EAAI,CAAc,CAC/B,CACJ,CASA,YAAqB,EAAW,EAAG,EAAG,CAClC,MAAO,CACH,EAAG,EAAI,GAAa,EACpB,EAAG,EAAI,GAAa,CACxB,CACJ,CAQA,YAAsB,EAAG,EAAG,CACxB,MAAI,KAAM,EACC,GAGP,EAAI,CAAC,GAAK,EAAI,CAAC,EACR,EAAI,EAAI,GAAiB,GAE7B,EAAI,EAAI,GAAe,EAClC,CASA,YAAqB,EAAI,EAAI,EAAO,CAChC,AAAK,GACD,GAAQ,IAEZ,GAAI,GAAI,EAAG,EAAM,IAAM,EAAG,EAAM,IAC5B,EAAI,EAAG,EAAM,IAAM,EAAG,EAAM,IAEhC,MAAO,MAAK,KAAM,EAAI,EAAM,EAAI,CAAE,CACtC,CASA,YAAkB,EAAI,EAAI,EAAO,CAC7B,AAAK,GACD,GAAQ,IAEZ,GAAI,GAAI,EAAG,EAAM,IAAM,EAAG,EAAM,IAC5B,EAAI,EAAG,EAAM,IAAM,EAAG,EAAM,IAChC,MAAO,MAAK,MAAM,EAAG,CAAC,EAAI,IAAM,KAAK,EACzC,CAQA,YAAqB,EAAO,EAAK,CAC7B,MAAO,IAAS,EAAI,GAAI,EAAI,GAAI,EAAe,EAAI,GAAS,EAAM,GAAI,EAAM,GAAI,EAAe,CACnG,CASA,YAAkB,EAAO,EAAK,CAC1B,MAAO,IAAY,EAAI,GAAI,EAAI,GAAI,EAAe,EAAI,GAAY,EAAM,GAAI,EAAM,GAAI,EAAe,CACzG,CAEA,GAAI,IAAkB,CAClB,UAAW,EACX,UAAW,GACX,QAAS,CACb,EAEI,GAAuB,YACvB,GAAsB,oBAO1B,aAAsB,CAClB,KAAK,KAAO,GACZ,KAAK,MAAQ,GAEb,KAAK,QAAU,GAEf,EAAM,MAAM,KAAM,SAAS,CAC/B,CAEA,EAAQ,GAAY,EAAO,CAKvB,QAAS,SAAmB,EAAI,CAC5B,GAAI,GAAY,GAAgB,EAAG,MAYnC,AATI,EAAY,GAAe,EAAG,SAAW,GACzC,MAAK,QAAU,IAGf,EAAY,IAAc,EAAG,QAAU,GACvC,GAAY,GAIZ,AAAC,KAAK,SAIN,GAAY,GACZ,MAAK,QAAU,IAGnB,KAAK,SAAS,KAAK,QAAS,EAAW,CACnC,SAAU,CAAC,CAAE,EACb,gBAAiB,CAAC,CAAE,EACpB,YAAa,GACb,SAAU,CACd,CAAC,EACL,CACJ,CAAC,EAED,GAAI,IAAoB,CACpB,YAAa,EACb,YAAa,GACb,UAAW,EACX,cAAe,EACf,WAAY,CAChB,EAGI,GAAyB,CACzB,EAAG,GACH,EAAG,GACH,EAAG,GACH,EAAG,EACP,EAEI,GAAyB,cACzB,GAAwB,sCAG5B,AAAI,EAAO,gBAAkB,CAAC,EAAO,cACjC,IAAyB,gBACzB,GAAwB,6CAQ5B,aAA6B,CACzB,KAAK,KAAO,GACZ,KAAK,MAAQ,GAEb,EAAM,MAAM,KAAM,SAAS,EAE3B,KAAK,MAAS,KAAK,QAAQ,QAAQ,cAAgB,CAAC,CACxD,CAEA,EAAQ,GAAmB,EAAO,CAK9B,QAAS,SAAmB,EAAI,CAC5B,GAAI,GAAQ,KAAK,MACb,EAAgB,GAEhB,EAAsB,EAAG,KAAK,YAAY,EAAE,QAAQ,KAAM,EAAE,EAC5D,EAAY,GAAkB,GAC9B,EAAc,GAAuB,EAAG,cAAgB,EAAG,YAE3D,EAAW,GAAe,GAG1B,EAAa,GAAQ,EAAO,EAAG,UAAW,WAAW,EAazD,AAVA,AAAI,EAAY,GAAgB,GAAG,SAAW,GAAK,GAC3C,EAAa,GACb,GAAM,KAAK,CAAE,EACb,EAAa,EAAM,OAAS,GAEzB,EAAa,GAAY,IAChC,GAAgB,IAIhB,IAAa,IAKjB,GAAM,GAAc,EAEpB,KAAK,SAAS,KAAK,QAAS,EAAW,CACnC,SAAU,EACV,gBAAiB,CAAC,CAAE,EACpB,YAAa,EACb,SAAU,CACd,CAAC,EAEG,GAEA,EAAM,OAAO,EAAY,CAAC,EAElC,CACJ,CAAC,EAED,GAAI,IAAyB,CACzB,WAAY,EACZ,UAAW,GACX,SAAU,EACV,YAAa,CACjB,EAEI,GAA6B,aAC7B,GAA6B,4CAOjC,aAA4B,CACxB,KAAK,SAAW,GAChB,KAAK,MAAQ,GACb,KAAK,QAAU,GAEf,EAAM,MAAM,KAAM,SAAS,CAC/B,CAEA,EAAQ,GAAkB,EAAO,CAC7B,QAAS,SAAmB,EAAI,CAC5B,GAAI,GAAO,GAAuB,EAAG,MAOrC,GAJI,IAAS,GACT,MAAK,QAAU,IAGf,EAAC,KAAK,QAIV,IAAI,GAAU,GAAuB,KAAK,KAAM,EAAI,CAAI,EAGxD,AAAI,EAAQ,GAAY,IAAiB,EAAQ,GAAG,OAAS,EAAQ,GAAG,SAAW,GAC/E,MAAK,QAAU,IAGnB,KAAK,SAAS,KAAK,QAAS,EAAM,CAC9B,SAAU,EAAQ,GAClB,gBAAiB,EAAQ,GACzB,YAAa,GACb,SAAU,CACd,CAAC,EACL,CACJ,CAAC,EAQD,YAAgC,EAAI,EAAM,CACtC,GAAI,GAAM,GAAQ,EAAG,OAAO,EACxB,EAAU,GAAQ,EAAG,cAAc,EAEvC,MAAI,GAAQ,GAAY,IACpB,GAAM,GAAY,EAAI,OAAO,CAAO,EAAG,aAAc,EAAI,GAGtD,CAAC,EAAK,CAAO,CACxB,CAEA,GAAI,IAAkB,CAClB,WAAY,EACZ,UAAW,GACX,SAAU,EACV,YAAa,CACjB,EAEI,GAAsB,4CAO1B,aAAsB,CAClB,KAAK,SAAW,GAChB,KAAK,UAAY,CAAC,EAElB,EAAM,MAAM,KAAM,SAAS,CAC/B,CAEA,EAAQ,GAAY,EAAO,CACvB,QAAS,SAAoB,EAAI,CAC7B,GAAI,GAAO,GAAgB,EAAG,MAC1B,EAAU,GAAW,KAAK,KAAM,EAAI,CAAI,EAC5C,AAAI,CAAC,GAIL,KAAK,SAAS,KAAK,QAAS,EAAM,CAC9B,SAAU,EAAQ,GAClB,gBAAiB,EAAQ,GACzB,YAAa,GACb,SAAU,CACd,CAAC,CACL,CACJ,CAAC,EAQD,YAAoB,EAAI,EAAM,CAC1B,GAAI,GAAa,GAAQ,EAAG,OAAO,EAC/B,EAAY,KAAK,UAGrB,GAAI,EAAQ,GAAc,KAAe,EAAW,SAAW,EAC3D,SAAU,EAAW,GAAG,YAAc,GAC/B,CAAC,EAAY,CAAU,EAGlC,GAAI,GACA,EACA,EAAiB,GAAQ,EAAG,cAAc,EAC1C,EAAuB,CAAC,EACxB,EAAS,KAAK,OAQlB,GALA,EAAgB,EAAW,OAAO,SAAS,EAAO,CAC9C,MAAO,IAAU,EAAM,OAAQ,CAAM,CACzC,CAAC,EAGG,IAAS,EAET,IADA,EAAI,EACG,EAAI,EAAc,QACrB,EAAU,EAAc,GAAG,YAAc,GACzC,IAMR,IADA,EAAI,EACG,EAAI,EAAe,QACtB,AAAI,EAAU,EAAe,GAAG,aAC5B,EAAqB,KAAK,EAAe,EAAE,EAI3C,EAAQ,GAAY,IACpB,MAAO,GAAU,EAAe,GAAG,YAEvC,IAGJ,GAAI,EAAC,EAAqB,OAI1B,MAAO,CAEH,GAAY,EAAc,OAAO,CAAoB,EAAG,aAAc,EAAI,EAC1E,CACJ,CACJ,CAYA,GAAI,IAAgB,KAChB,GAAiB,GAErB,aAA2B,CACvB,EAAM,MAAM,KAAM,SAAS,EAE3B,GAAI,GAAU,GAAO,KAAK,QAAS,IAAI,EACvC,KAAK,MAAQ,GAAI,IAAW,KAAK,QAAS,CAAO,EACjD,KAAK,MAAQ,GAAI,IAAW,KAAK,QAAS,CAAO,EAEjD,KAAK,aAAe,KACpB,KAAK,YAAc,CAAC,CACxB,CAEA,EAAQ,GAAiB,EAAO,CAO5B,QAAS,SAAoB,EAAS,EAAY,EAAW,CACzD,GAAI,GAAW,EAAU,aAAe,GACpC,EAAW,EAAU,aAAe,GAExC,GAAI,KAAW,EAAU,oBAAsB,EAAU,mBAAmB,kBAK5E,IAAI,EACA,GAAc,KAAK,KAAM,EAAY,CAAS,UACvC,GAAW,GAAiB,KAAK,KAAM,CAAS,EACvD,OAGJ,KAAK,SAAS,EAAS,EAAY,CAAS,EAChD,EAKA,QAAS,UAAmB,CACxB,KAAK,MAAM,QAAQ,EACnB,KAAK,MAAM,QAAQ,CACvB,CACJ,CAAC,EAED,YAAuB,EAAW,EAAW,CACzC,AAAI,EAAY,EACZ,MAAK,aAAe,EAAU,gBAAgB,GAAG,WACjD,GAAa,KAAK,KAAM,CAAS,GAC1B,EAAa,GAAY,IAChC,GAAa,KAAK,KAAM,CAAS,CAEzC,CAEA,YAAsB,EAAW,CAC7B,GAAI,GAAQ,EAAU,gBAAgB,GAEtC,GAAI,EAAM,aAAe,KAAK,aAAc,CACxC,GAAI,GAAY,CAAC,EAAG,EAAM,QAAS,EAAG,EAAM,OAAO,EACnD,KAAK,YAAY,KAAK,CAAS,EAC/B,GAAI,GAAM,KAAK,YACX,EAAkB,UAAW,CAC7B,GAAI,GAAI,EAAI,QAAQ,CAAS,EAC7B,AAAI,EAAI,IACJ,EAAI,OAAO,EAAG,CAAC,CAEvB,EACA,WAAW,EAAiB,EAAa,CAC7C,CACJ,CAEA,YAA0B,EAAW,CAEjC,OADI,GAAI,EAAU,SAAS,QAAS,EAAI,EAAU,SAAS,QAClD,EAAI,EAAG,EAAI,KAAK,YAAY,OAAQ,IAAK,CAC9C,GAAI,GAAI,KAAK,YAAY,GACrB,EAAK,KAAK,IAAI,EAAI,EAAE,CAAC,EAAG,EAAK,KAAK,IAAI,EAAI,EAAE,CAAC,EACjD,GAAI,GAAM,IAAkB,GAAM,GAC9B,MAAO,EAEf,CACA,MAAO,EACX,CAEA,GAAI,IAAwB,GAAS,EAAa,MAAO,aAAa,EAClE,GAAsB,KAA0B,EAGhD,GAAuB,UACvB,GAAoB,OACpB,GAA4B,eAC5B,GAAoB,OACpB,GAAqB,QACrB,GAAqB,QACrB,GAAmB,GAAoB,EAS3C,YAAqB,EAAS,EAAO,CACjC,KAAK,QAAU,EACf,KAAK,IAAI,CAAK,CAClB,CAEA,GAAY,UAAY,CAKpB,IAAK,SAAS,EAAO,CAEjB,AAAI,GAAS,IACT,GAAQ,KAAK,QAAQ,GAGrB,IAAuB,KAAK,QAAQ,QAAQ,OAAS,GAAiB,IACtE,MAAK,QAAQ,QAAQ,MAAM,IAAyB,GAExD,KAAK,QAAU,EAAM,YAAY,EAAE,KAAK,CAC5C,EAKA,OAAQ,UAAW,CACf,KAAK,IAAI,KAAK,QAAQ,QAAQ,WAAW,CAC7C,EAMA,QAAS,UAAW,CAChB,GAAI,GAAU,CAAC,EACf,SAAK,KAAK,QAAQ,YAAa,SAAS,EAAY,CAChD,AAAI,GAAS,EAAW,QAAQ,OAAQ,CAAC,CAAU,CAAC,GAChD,GAAU,EAAQ,OAAO,EAAW,eAAe,CAAC,EAE5D,CAAC,EACM,GAAkB,EAAQ,KAAK,GAAG,CAAC,CAC9C,EAMA,gBAAiB,SAAS,EAAO,CAC7B,GAAI,GAAW,EAAM,SACjB,EAAY,EAAM,gBAGtB,GAAI,KAAK,QAAQ,QAAQ,UAAW,CAChC,EAAS,eAAe,EACxB,MACJ,CAEA,GAAI,GAAU,KAAK,QACf,EAAU,EAAM,EAAS,EAAiB,GAAK,CAAC,GAAiB,IACjE,EAAU,EAAM,EAAS,EAAkB,GAAK,CAAC,GAAiB,IAClE,EAAU,EAAM,EAAS,EAAkB,GAAK,CAAC,GAAiB,IAEtE,GAAI,EAAS,CAGT,GAAI,GAAe,EAAM,SAAS,SAAW,EACzC,EAAgB,EAAM,SAAW,EACjC,EAAiB,EAAM,UAAY,IAEvC,GAAI,GAAgB,GAAiB,EACjC,MAER,CAEA,GAAI,KAAW,IAKX,IACC,GAAW,EAAY,GACvB,GAAW,EAAY,IACxB,MAAO,MAAK,WAAW,CAAQ,CAEvC,EAMA,WAAY,SAAS,EAAU,CAC3B,KAAK,QAAQ,QAAQ,UAAY,GACjC,EAAS,eAAe,CAC5B,CACJ,EAOA,YAA2B,EAAS,CAEhC,GAAI,EAAM,EAAS,EAAiB,EAChC,MAAO,IAGX,GAAI,GAAU,EAAM,EAAS,EAAkB,EAC3C,EAAU,EAAM,EAAS,EAAkB,EAM/C,MAAI,IAAW,EACJ,GAIP,GAAW,EACJ,EAAU,GAAqB,GAItC,EAAM,EAAS,EAAyB,EACjC,GAGJ,EACX,CAEA,aAA+B,CAC3B,GAAI,CAAC,GACD,MAAO,GAEX,GAAI,GAAW,CAAC,EACZ,EAAc,EAAO,KAAO,EAAO,IAAI,SAC3C,OAAC,OAAQ,eAAgB,QAAS,QAAS,cAAe,MAAM,EAAE,QAAQ,SAAS,EAAK,CAIpF,EAAS,GAAO,EAAc,EAAO,IAAI,SAAS,eAAgB,CAAG,EAAI,EAC7E,CAAC,EACM,CACX,CA6BA,GAAI,IAAiB,EACjB,EAAc,EACd,GAAgB,EAChB,EAAc,EACd,EAAmB,EACnB,GAAkB,GAClB,EAAe,GAQnB,WAAoB,EAAS,CACzB,KAAK,QAAU,EAAO,CAAC,EAAG,KAAK,SAAU,GAAW,CAAC,CAAC,EAEtD,KAAK,GAAK,GAAS,EAEnB,KAAK,QAAU,KAGf,KAAK,QAAQ,OAAS,GAAY,KAAK,QAAQ,OAAQ,EAAI,EAE3D,KAAK,MAAQ,GAEb,KAAK,aAAe,CAAC,EACrB,KAAK,YAAc,CAAC,CACxB,CAEA,EAAW,UAAY,CAKnB,SAAU,CAAC,EAOX,IAAK,SAAS,EAAS,CACnB,SAAO,KAAK,QAAS,CAAO,EAG5B,KAAK,SAAW,KAAK,QAAQ,YAAY,OAAO,EACzC,IACX,EAOA,cAAe,SAAS,EAAiB,CACrC,GAAI,EAAe,EAAiB,gBAAiB,IAAI,EACrD,MAAO,MAGX,GAAI,GAAe,KAAK,aACxB,SAAkB,GAA6B,EAAiB,IAAI,EAC/D,EAAa,EAAgB,KAC9B,GAAa,EAAgB,IAAM,EACnC,EAAgB,cAAc,IAAI,GAE/B,IACX,EAOA,kBAAmB,SAAS,EAAiB,CACzC,MAAI,GAAe,EAAiB,oBAAqB,IAAI,EAClD,KAGX,GAAkB,GAA6B,EAAiB,IAAI,EACpE,MAAO,MAAK,aAAa,EAAgB,IAClC,KACX,EAOA,eAAgB,SAAS,EAAiB,CACtC,GAAI,EAAe,EAAiB,iBAAkB,IAAI,EACtD,MAAO,MAGX,GAAI,GAAc,KAAK,YACvB,SAAkB,GAA6B,EAAiB,IAAI,EAChE,GAAQ,EAAa,CAAe,IAAM,IAC1C,GAAY,KAAK,CAAe,EAChC,EAAgB,eAAe,IAAI,GAEhC,IACX,EAOA,mBAAoB,SAAS,EAAiB,CAC1C,GAAI,EAAe,EAAiB,qBAAsB,IAAI,EAC1D,MAAO,MAGX,EAAkB,GAA6B,EAAiB,IAAI,EACpE,GAAI,GAAQ,GAAQ,KAAK,YAAa,CAAe,EACrD,MAAI,GAAQ,IACR,KAAK,YAAY,OAAO,EAAO,CAAC,EAE7B,IACX,EAMA,mBAAoB,UAAW,CAC3B,MAAO,MAAK,YAAY,OAAS,CACrC,EAOA,iBAAkB,SAAS,EAAiB,CACxC,MAAO,CAAC,CAAC,KAAK,aAAa,EAAgB,GAC/C,EAOA,KAAM,SAAS,EAAO,CAClB,GAAI,GAAO,KACP,EAAQ,KAAK,MAEjB,WAAc,EAAO,CACjB,EAAK,QAAQ,KAAK,EAAO,CAAK,CAClC,CAGA,AAAI,EAAQ,GACR,EAAK,EAAK,QAAQ,MAAQ,GAAS,CAAK,CAAC,EAG7C,EAAK,EAAK,QAAQ,KAAK,EAEnB,EAAM,iBACN,EAAK,EAAM,eAAe,EAI1B,GAAS,GACT,EAAK,EAAK,QAAQ,MAAQ,GAAS,CAAK,CAAC,CAEjD,EAQA,QAAS,SAAS,EAAO,CACrB,GAAI,KAAK,QAAQ,EACb,MAAO,MAAK,KAAK,CAAK,EAG1B,KAAK,MAAQ,CACjB,EAMA,QAAS,UAAW,CAEhB,OADI,GAAI,EACD,EAAI,KAAK,YAAY,QAAQ,CAChC,GAAI,CAAE,MAAK,YAAY,GAAG,MAAS,GAAe,KAC9C,MAAO,GAEX,GACJ,CACA,MAAO,EACX,EAMA,UAAW,SAAS,EAAW,CAG3B,GAAI,GAAiB,EAAO,CAAC,EAAG,CAAS,EAGzC,GAAI,CAAC,GAAS,KAAK,QAAQ,OAAQ,CAAC,KAAM,CAAc,CAAC,EAAG,CACxD,KAAK,MAAM,EACX,KAAK,MAAQ,EACb,MACJ,CAGA,AAAI,KAAK,MAAS,GAAmB,GAAkB,IACnD,MAAK,MAAQ,IAGjB,KAAK,MAAQ,KAAK,QAAQ,CAAc,EAIpC,KAAK,MAAS,GAAc,GAAgB,EAAc,KAC1D,KAAK,QAAQ,CAAc,CAEnC,EASA,QAAS,SAAS,EAAW,CAAE,EAO/B,eAAgB,UAAW,CAAE,EAO7B,MAAO,UAAW,CAAE,CACxB,EAOA,YAAkB,EAAO,CACrB,MAAI,GAAQ,GACD,SACA,EAAQ,EACR,MACA,EAAQ,GACR,OACA,EAAQ,EACR,QAEJ,EACX,CAOA,YAAsB,EAAW,CAC7B,MAAI,IAAa,GACN,OACA,GAAa,GACb,KACA,GAAa,GACb,OACA,GAAa,GACb,QAEJ,EACX,CAQA,YAAsC,EAAiB,EAAY,CAC/D,GAAI,GAAU,EAAW,QACzB,MAAI,GACO,EAAQ,IAAI,CAAe,EAE/B,CACX,CAOA,YAA0B,CACtB,EAAW,MAAM,KAAM,SAAS,CACpC,CAEA,EAAQ,EAAgB,EAAY,CAKhC,SAAU,CAKN,SAAU,CACd,EAQA,SAAU,SAAS,EAAO,CACtB,GAAI,GAAiB,KAAK,QAAQ,SAClC,MAAO,KAAmB,GAAK,EAAM,SAAS,SAAW,CAC7D,EAQA,QAAS,SAAS,EAAO,CACrB,GAAI,GAAQ,KAAK,MACb,EAAY,EAAM,UAElB,EAAe,EAAS,GAAc,IACtC,EAAU,KAAK,SAAS,CAAK,EAGjC,MAAI,IAAiB,GAAY,GAAgB,CAAC,GACvC,EAAQ,GACR,GAAgB,EACnB,EAAY,EACL,EAAQ,EACN,EAAQ,EAGd,EAAQ,GAFJ,EAIR,CACX,CACJ,CAAC,EAQD,aAAyB,CACrB,EAAe,MAAM,KAAM,SAAS,EAEpC,KAAK,GAAK,KACV,KAAK,GAAK,IACd,CAEA,EAAQ,GAAe,EAAgB,CAKnC,SAAU,CACN,MAAO,MACP,UAAW,GACX,SAAU,EACV,UAAW,EACf,EAEA,eAAgB,UAAW,CACvB,GAAI,GAAY,KAAK,QAAQ,UACzB,EAAU,CAAC,EACf,MAAI,GAAY,GACZ,EAAQ,KAAK,EAAkB,EAE/B,EAAY,IACZ,EAAQ,KAAK,EAAkB,EAE5B,CACX,EAEA,cAAe,SAAS,EAAO,CAC3B,GAAI,GAAU,KAAK,QACf,EAAW,GACX,EAAW,EAAM,SACjB,EAAY,EAAM,UAClB,EAAI,EAAM,OACV,EAAI,EAAM,OAGd,MAAM,GAAY,EAAQ,WACtB,CAAI,EAAQ,UAAY,EACpB,GAAa,IAAM,EAAK,GAAkB,EAAI,EAAK,GAAiB,GACpE,EAAW,GAAK,KAAK,GACrB,EAAW,KAAK,IAAI,EAAM,MAAM,GAEhC,GAAa,IAAM,EAAK,GAAkB,EAAI,EAAK,GAAe,GAClE,EAAW,GAAK,KAAK,GACrB,EAAW,KAAK,IAAI,EAAM,MAAM,IAGxC,EAAM,UAAY,EACX,GAAY,EAAW,EAAQ,WAAa,EAAY,EAAQ,SAC3E,EAEA,SAAU,SAAS,EAAO,CACtB,MAAO,GAAe,UAAU,SAAS,KAAK,KAAM,CAAK,GACpD,MAAK,MAAQ,GAAgB,CAAE,MAAK,MAAQ,IAAgB,KAAK,cAAc,CAAK,EAC7F,EAEA,KAAM,SAAS,EAAO,CAElB,KAAK,GAAK,EAAM,OAChB,KAAK,GAAK,EAAM,OAEhB,GAAI,GAAY,GAAa,EAAM,SAAS,EAE5C,AAAI,GACA,GAAM,gBAAkB,KAAK,QAAQ,MAAQ,GAEjD,KAAK,OAAO,KAAK,KAAK,KAAM,CAAK,CACrC,CACJ,CAAC,EAQD,aAA2B,CACvB,EAAe,MAAM,KAAM,SAAS,CACxC,CAEA,EAAQ,GAAiB,EAAgB,CAKrC,SAAU,CACN,MAAO,QACP,UAAW,EACX,SAAU,CACd,EAEA,eAAgB,UAAW,CACvB,MAAO,CAAC,EAAiB,CAC7B,EAEA,SAAU,SAAS,EAAO,CACtB,MAAO,MAAK,OAAO,SAAS,KAAK,KAAM,CAAK,GACvC,MAAK,IAAI,EAAM,MAAQ,CAAC,EAAI,KAAK,QAAQ,WAAa,KAAK,MAAQ,EAC5E,EAEA,KAAM,SAAS,EAAO,CAClB,GAAI,EAAM,QAAU,EAAG,CACnB,GAAI,GAAQ,EAAM,MAAQ,EAAI,KAAO,MACrC,EAAM,gBAAkB,KAAK,QAAQ,MAAQ,CACjD,CACA,KAAK,OAAO,KAAK,KAAK,KAAM,CAAK,CACrC,CACJ,CAAC,EAQD,aAA2B,CACvB,EAAW,MAAM,KAAM,SAAS,EAEhC,KAAK,OAAS,KACd,KAAK,OAAS,IAClB,CAEA,EAAQ,GAAiB,EAAY,CAKjC,SAAU,CACN,MAAO,QACP,SAAU,EACV,KAAM,IACN,UAAW,CACf,EAEA,eAAgB,UAAW,CACvB,MAAO,CAAC,EAAiB,CAC7B,EAEA,QAAS,SAAS,EAAO,CACrB,GAAI,GAAU,KAAK,QACf,EAAgB,EAAM,SAAS,SAAW,EAAQ,SAClD,EAAgB,EAAM,SAAW,EAAQ,UACzC,EAAY,EAAM,UAAY,EAAQ,KAM1C,GAJA,KAAK,OAAS,EAIV,CAAC,GAAiB,CAAC,GAAkB,EAAM,UAAa,GAAY,IAAiB,CAAC,EACtF,KAAK,MAAM,UACJ,EAAM,UAAY,EACzB,KAAK,MAAM,EACX,KAAK,OAAS,EAAkB,UAAW,CACvC,KAAK,MAAQ,EACb,KAAK,QAAQ,CACjB,EAAG,EAAQ,KAAM,IAAI,UACd,EAAM,UAAY,EACzB,MAAO,GAEX,MAAO,EACX,EAEA,MAAO,UAAW,CACd,aAAa,KAAK,MAAM,CAC5B,EAEA,KAAM,SAAS,EAAO,CAClB,AAAI,KAAK,QAAU,GAInB,CAAI,GAAU,EAAM,UAAY,EAC5B,KAAK,QAAQ,KAAK,KAAK,QAAQ,MAAQ,KAAM,CAAK,EAElD,MAAK,OAAO,UAAY,EAAI,EAC5B,KAAK,QAAQ,KAAK,KAAK,QAAQ,MAAO,KAAK,MAAM,GAEzD,CACJ,CAAC,EAQD,aAA4B,CACxB,EAAe,MAAM,KAAM,SAAS,CACxC,CAEA,EAAQ,GAAkB,EAAgB,CAKtC,SAAU,CACN,MAAO,SACP,UAAW,EACX,SAAU,CACd,EAEA,eAAgB,UAAW,CACvB,MAAO,CAAC,EAAiB,CAC7B,EAEA,SAAU,SAAS,EAAO,CACtB,MAAO,MAAK,OAAO,SAAS,KAAK,KAAM,CAAK,GACvC,MAAK,IAAI,EAAM,QAAQ,EAAI,KAAK,QAAQ,WAAa,KAAK,MAAQ,EAC3E,CACJ,CAAC,EAQD,aAA2B,CACvB,EAAe,MAAM,KAAM,SAAS,CACxC,CAEA,EAAQ,GAAiB,EAAgB,CAKrC,SAAU,CACN,MAAO,QACP,UAAW,GACX,SAAU,GACV,UAAW,EAAuB,GAClC,SAAU,CACd,EAEA,eAAgB,UAAW,CACvB,MAAO,IAAc,UAAU,eAAe,KAAK,IAAI,CAC3D,EAEA,SAAU,SAAS,EAAO,CACtB,GAAI,GAAY,KAAK,QAAQ,UACzB,EAEJ,MAAI,GAAa,GAAuB,IACpC,EAAW,EAAM,gBACd,AAAI,EAAY,EACnB,EAAW,EAAM,iBACV,EAAY,IACnB,GAAW,EAAM,kBAGd,KAAK,OAAO,SAAS,KAAK,KAAM,CAAK,GACxC,EAAY,EAAM,iBAClB,EAAM,SAAW,KAAK,QAAQ,WAC9B,EAAM,aAAe,KAAK,QAAQ,UAClC,EAAI,CAAQ,EAAI,KAAK,QAAQ,UAAY,EAAM,UAAY,CACnE,EAEA,KAAM,SAAS,EAAO,CAClB,GAAI,GAAY,GAAa,EAAM,eAAe,EAClD,AAAI,GACA,KAAK,QAAQ,KAAK,KAAK,QAAQ,MAAQ,EAAW,CAAK,EAG3D,KAAK,QAAQ,KAAK,KAAK,QAAQ,MAAO,CAAK,CAC/C,CACJ,CAAC,EAYD,aAAyB,CACrB,EAAW,MAAM,KAAM,SAAS,EAIhC,KAAK,MAAQ,GACb,KAAK,QAAU,GAEf,KAAK,OAAS,KACd,KAAK,OAAS,KACd,KAAK,MAAQ,CACjB,CAEA,EAAQ,GAAe,EAAY,CAK/B,SAAU,CACN,MAAO,MACP,SAAU,EACV,KAAM,EACN,SAAU,IACV,KAAM,IACN,UAAW,EACX,aAAc,EAClB,EAEA,eAAgB,UAAW,CACvB,MAAO,CAAC,EAAyB,CACrC,EAEA,QAAS,SAAS,EAAO,CACrB,GAAI,GAAU,KAAK,QAEf,EAAgB,EAAM,SAAS,SAAW,EAAQ,SAClD,EAAgB,EAAM,SAAW,EAAQ,UACzC,EAAiB,EAAM,UAAY,EAAQ,KAI/C,GAFA,KAAK,MAAM,EAEN,EAAM,UAAY,GAAiB,KAAK,QAAU,EACnD,MAAO,MAAK,YAAY,EAK5B,GAAI,GAAiB,GAAkB,EAAe,CAClD,GAAI,EAAM,WAAa,EACnB,MAAO,MAAK,YAAY,EAG5B,GAAI,GAAgB,KAAK,MAAS,EAAM,UAAY,KAAK,MAAQ,EAAQ,SAAY,GACjF,EAAgB,CAAC,KAAK,SAAW,GAAY,KAAK,QAAS,EAAM,MAAM,EAAI,EAAQ,aAEvF,KAAK,MAAQ,EAAM,UACnB,KAAK,QAAU,EAAM,OAErB,AAAI,CAAC,GAAiB,CAAC,EACnB,KAAK,MAAQ,EAEb,KAAK,OAAS,EAGlB,KAAK,OAAS,EAId,GAAI,GAAW,KAAK,MAAQ,EAAQ,KACpC,GAAI,IAAa,EAGb,MAAK,MAAK,mBAAmB,EAGzB,MAAK,OAAS,EAAkB,UAAW,CACvC,KAAK,MAAQ,EACb,KAAK,QAAQ,CACjB,EAAG,EAAQ,SAAU,IAAI,EAClB,GANA,CASnB,CACA,MAAO,EACX,EAEA,YAAa,UAAW,CACpB,YAAK,OAAS,EAAkB,UAAW,CACvC,KAAK,MAAQ,CACjB,EAAG,KAAK,QAAQ,SAAU,IAAI,EACvB,CACX,EAEA,MAAO,UAAW,CACd,aAAa,KAAK,MAAM,CAC5B,EAEA,KAAM,UAAW,CACb,AAAI,KAAK,OAAS,GACd,MAAK,OAAO,SAAW,KAAK,MAC5B,KAAK,QAAQ,KAAK,KAAK,QAAQ,MAAO,KAAK,MAAM,EAEzD,CACJ,CAAC,EAQD,WAAgB,EAAS,EAAS,CAC9B,SAAU,GAAW,CAAC,EACtB,EAAQ,YAAc,GAAY,EAAQ,YAAa,EAAO,SAAS,MAAM,EACtE,GAAI,IAAQ,EAAS,CAAO,CACvC,CAKA,EAAO,QAAU,QAMjB,EAAO,SAAW,CAOd,UAAW,GAQX,YAAa,GAMb,OAAQ,GASR,YAAa,KAOb,WAAY,KAOZ,OAAQ,CAEJ,CAAC,GAAkB,CAAC,OAAQ,EAAK,CAAC,EAClC,CAAC,GAAiB,CAAC,OAAQ,EAAK,EAAG,CAAC,QAAQ,CAAC,EAC7C,CAAC,GAAiB,CAAC,UAAW,CAAoB,CAAC,EACnD,CAAC,GAAe,CAAC,UAAW,CAAoB,EAAG,CAAC,OAAO,CAAC,EAC5D,CAAC,EAAa,EACd,CAAC,GAAe,CAAC,MAAO,YAAa,KAAM,CAAC,EAAG,CAAC,KAAK,CAAC,EACtD,CAAC,EAAe,CACpB,EAOA,SAAU,CAMN,WAAY,OAOZ,YAAa,OASb,aAAc,OAOd,eAAgB,OAOhB,SAAU,OAQV,kBAAmB,eACvB,CACJ,EAEA,GAAI,IAAO,EACP,GAAc,EAQlB,YAAiB,EAAS,EAAS,CAC/B,KAAK,QAAU,EAAO,CAAC,EAAG,EAAO,SAAU,GAAW,CAAC,CAAC,EAExD,KAAK,QAAQ,YAAc,KAAK,QAAQ,aAAe,EAEvD,KAAK,SAAW,CAAC,EACjB,KAAK,QAAU,CAAC,EAChB,KAAK,YAAc,CAAC,EACpB,KAAK,YAAc,CAAC,EAEpB,KAAK,QAAU,EACf,KAAK,MAAQ,GAAoB,IAAI,EACrC,KAAK,YAAc,GAAI,IAAY,KAAM,KAAK,QAAQ,WAAW,EAEjE,GAAe,KAAM,EAAI,EAEzB,EAAK,KAAK,QAAQ,YAAa,SAAS,EAAM,CAC1C,GAAI,GAAa,KAAK,IAAI,GAAK,GAAK,GAAI,EAAK,EAAE,CAAC,EAChD,EAAK,IAAM,EAAW,cAAc,EAAK,EAAE,EAC3C,EAAK,IAAM,EAAW,eAAe,EAAK,EAAE,CAChD,EAAG,IAAI,CACX,CAEA,GAAQ,UAAY,CAMhB,IAAK,SAAS,EAAS,CACnB,SAAO,KAAK,QAAS,CAAO,EAGxB,EAAQ,aACR,KAAK,YAAY,OAAO,EAExB,EAAQ,aAER,MAAK,MAAM,QAAQ,EACnB,KAAK,MAAM,OAAS,EAAQ,YAC5B,KAAK,MAAM,KAAK,GAEb,IACX,EAQA,KAAM,SAAS,EAAO,CAClB,KAAK,QAAQ,QAAU,EAAQ,GAAc,EACjD,EAQA,UAAW,SAAS,EAAW,CAC3B,GAAI,GAAU,KAAK,QACnB,GAAI,GAAQ,QAKZ,MAAK,YAAY,gBAAgB,CAAS,EAE1C,GAAI,GACA,EAAc,KAAK,YAKnB,EAAgB,EAAQ,cAI5B,AAAI,EAAC,GAAkB,GAAiB,EAAc,MAAQ,IAC1D,GAAgB,EAAQ,cAAgB,MAI5C,OADI,GAAI,EACD,EAAI,EAAY,QACnB,EAAa,EAAY,GAQzB,AAAI,EAAQ,UAAY,IAChB,EAAC,GAAiB,GAAc,GAChC,EAAW,iBAAiB,CAAa,GAC7C,EAAW,UAAU,CAAS,EAE9B,EAAW,MAAM,EAKjB,CAAC,GAAiB,EAAW,MAAS,GAAc,GAAgB,IACpE,GAAgB,EAAQ,cAAgB,GAE5C,IAER,EAOA,IAAK,SAAS,EAAY,CACtB,GAAI,YAAsB,GACtB,MAAO,GAIX,OADI,GAAc,KAAK,YACd,EAAI,EAAG,EAAI,EAAY,OAAQ,IACpC,GAAI,EAAY,GAAG,QAAQ,OAAS,EAChC,MAAO,GAAY,GAG3B,MAAO,KACX,EAQA,IAAK,SAAS,EAAY,CACtB,GAAI,EAAe,EAAY,MAAO,IAAI,EACtC,MAAO,MAIX,GAAI,GAAW,KAAK,IAAI,EAAW,QAAQ,KAAK,EAChD,MAAI,IACA,KAAK,OAAO,CAAQ,EAGxB,KAAK,YAAY,KAAK,CAAU,EAChC,EAAW,QAAU,KAErB,KAAK,YAAY,OAAO,EACjB,CACX,EAOA,OAAQ,SAAS,EAAY,CACzB,GAAI,EAAe,EAAY,SAAU,IAAI,EACzC,MAAO,MAMX,GAHA,EAAa,KAAK,IAAI,CAAU,EAG5B,EAAY,CACZ,GAAI,GAAc,KAAK,YACnB,EAAQ,GAAQ,EAAa,CAAU,EAE3C,AAAI,IAAU,IACV,GAAY,OAAO,EAAO,CAAC,EAC3B,KAAK,YAAY,OAAO,EAEhC,CAEA,MAAO,KACX,EAQA,GAAI,SAAS,EAAQ,EAAS,CAC1B,GAAI,IAAW,GAGX,IAAY,EAIhB,IAAI,GAAW,KAAK,SACpB,SAAK,GAAS,CAAM,EAAG,SAAS,EAAO,CACnC,EAAS,GAAS,EAAS,IAAU,CAAC,EACtC,EAAS,GAAO,KAAK,CAAO,CAChC,CAAC,EACM,KACX,EAQA,IAAK,SAAS,EAAQ,EAAS,CAC3B,GAAI,IAAW,EAIf,IAAI,GAAW,KAAK,SACpB,SAAK,GAAS,CAAM,EAAG,SAAS,EAAO,CACnC,AAAK,EAGD,EAAS,IAAU,EAAS,GAAO,OAAO,GAAQ,EAAS,GAAQ,CAAO,EAAG,CAAC,EAF9E,MAAO,GAAS,EAIxB,CAAC,EACM,KACX,EAOA,KAAM,SAAS,EAAO,EAAM,CAExB,AAAI,KAAK,QAAQ,WACb,GAAgB,EAAO,CAAI,EAI/B,GAAI,GAAW,KAAK,SAAS,IAAU,KAAK,SAAS,GAAO,MAAM,EAClE,GAAI,GAAC,GAAY,CAAC,EAAS,QAI3B,GAAK,KAAO,EACZ,EAAK,eAAiB,UAAW,CAC7B,EAAK,SAAS,eAAe,CACjC,EAGA,OADI,GAAI,EACD,EAAI,EAAS,QAChB,EAAS,GAAG,CAAI,EAChB,IAER,EAMA,QAAS,UAAW,CAChB,KAAK,SAAW,GAAe,KAAM,EAAK,EAE1C,KAAK,SAAW,CAAC,EACjB,KAAK,QAAU,CAAC,EAChB,KAAK,MAAM,QAAQ,EACnB,KAAK,QAAU,IACnB,CACJ,EAOA,YAAwB,EAAS,EAAK,CAClC,GAAI,GAAU,EAAQ,QACtB,GAAI,EAAC,EAAQ,MAGb,IAAI,GACJ,EAAK,EAAQ,QAAQ,SAAU,SAAS,EAAO,EAAM,CACjD,EAAO,GAAS,EAAQ,MAAO,CAAI,EACnC,AAAI,EACA,GAAQ,YAAY,GAAQ,EAAQ,MAAM,GAC1C,EAAQ,MAAM,GAAQ,GAEtB,EAAQ,MAAM,GAAQ,EAAQ,YAAY,IAAS,EAE3D,CAAC,EACI,GACD,GAAQ,YAAc,CAAC,GAE/B,CAOA,YAAyB,EAAO,EAAM,CAClC,GAAI,GAAe,EAAS,YAAY,OAAO,EAC/C,EAAa,UAAU,EAAO,GAAM,EAAI,EACxC,EAAa,QAAU,EACvB,EAAK,OAAO,cAAc,CAAY,CAC1C,CAEA,EAAO,EAAQ,CACX,YAAa,EACb,WAAY,GACZ,UAAW,EACX,aAAc,EAEd,eAAgB,GAChB,YAAa,EACb,cAAe,GACf,YAAa,EACb,iBAAkB,EAClB,gBAAiB,GACjB,aAAc,EAEd,eAAgB,GAChB,eAAgB,GAChB,gBAAiB,GACjB,aAAc,GACd,eAAgB,GAChB,qBAAsB,EACtB,mBAAoB,GACpB,cAAe,GAEf,QAAS,GACT,MAAO,EACP,YAAa,GAEb,WAAY,GACZ,WAAY,GACZ,kBAAmB,GACnB,gBAAiB,GACjB,iBAAkB,GAElB,WAAY,EACZ,eAAgB,EAChB,IAAK,GACL,IAAK,GACL,MAAO,GACP,MAAO,GACP,OAAQ,GACR,MAAO,GAEP,GAAI,GACJ,IAAK,GACL,KAAM,EACN,MAAO,EACP,OAAQ,EACR,OAAQ,EACR,QAAS,EACT,OAAQ,GACR,SAAU,EACd,CAAC,EAID,GAAI,IAAc,MAAO,GAAW,IAAc,EAAU,MAAO,MAAS,IAAc,KAAO,CAAC,EAClG,GAAW,OAAS,EAEpB,AAAI,MAAO,SAAW,YAAc,OAAO,IACvC,OAAO,UAAW,CACd,MAAO,EACX,CAAC,EACE,AAAI,MAAO,IAAU,KAAe,GAAO,QAC9C,GAAO,QAAU,EAEjB,EAAO,GAAc,CAGzB,GAAG,OAAQ,SAAU,QAAQ,ICllF7B,mBAIA,GAAO,QAAW,UAAU,CAI1B,GAAI,GAAS,GAAI,EAAmB,EAAsB,EAAS,EAAM,CAAC,EACtE,EAAgB,CAAC,QAAS,EAAI,EAGlC,AAAK,OAAO,iBACV,GAAoB,mBACpB,EAAuB,uBAEvB,GAAoB,cACpB,EAAuB,cACvB,EAAS,MAIX,EAAU,WAAa,UAAS,cAAc,KAAK,EAAI,QAC7C,SAAS,eAAiB,OAAY,aACtC,iBAGV,WAAwB,EAAQ,EAAU,CAExC,GAAI,GAAK,SAAS,EAAe,CAE/B,CAAC,GAAmB,GAAgB,OAAO,OAG3C,GAAI,GAAQ,CAEV,cAAe,EACf,OAAQ,EAAc,QAAU,EAAc,WAC9C,KAAM,QACN,UAAW,EAAc,MAAQ,sBAAwB,EAAI,EAC7D,OAAQ,EACR,OAAQ,EACR,eAAgB,UAAW,CACzB,EAAc,eACZ,EAAc,eAAe,EAC7B,EAAc,YAAc,EAChC,CACF,EAGA,MAAK,IAAW,aACd,GAAM,OAAS,MAAS,EAAc,WAEtC,EAAc,aAAiB,GAAM,OAAS,MAAS,EAAc,cAErE,EAAM,OAAS,EAAc,OAIxB,EAAU,CAAM,CAEzB,EAEA,SAAI,KAAK,CACP,QAAS,EACT,GAAI,CACN,CAAC,EAEM,CACT,CAEA,WAAqB,EAAS,CAC5B,OAAS,GAAI,EAAG,EAAI,EAAI,OAAQ,IAC9B,GAAI,EAAI,GAAG,UAAY,EACrB,MAAO,GAAI,GAAG,GAGlB,MAAO,WAAU,CAAC,CACpB,CAEA,WAAwB,EAAS,CAC/B,OAAS,GAAI,EAAG,EAAI,EAAI,OAAQ,IAC9B,GAAI,EAAI,GAAG,UAAY,EACrB,MAAO,GAAI,OAAO,EAAE,CAAC,CAG3B,CAEA,WAA2B,EAAM,EAAW,EAAU,EAAoB,CACxE,GAAI,GAEJ,AAAI,IAAY,QACd,EAAK,EAEL,EAAK,EAAe,EAAM,CAAQ,EAGpC,EAAK,GAAmB,EAAS,EAAW,EAAI,EAAoB,EAAgB,EAAK,CAC3F,CAEA,WAA8B,EAAM,EAAW,EAAU,EAAoB,CAE3E,GAAI,GAEJ,AAAI,IAAY,QACd,EAAK,EAEL,EAAK,EAAY,CAAI,EAGvB,EAAK,GAAsB,EAAS,EAAW,EAAI,EAAoB,EAAgB,EAAK,EAE5F,EAAe,CAAI,CACrB,CAEA,WAA2B,EAAM,EAAU,EAAoB,CAC7D,EAAkB,EAAM,EAAS,EAAU,CAAkB,EAGzD,GAAW,kBACb,EAAkB,EAAM,sBAAuB,EAAU,CAAkB,CAE/E,CAEA,WAA6B,EAAM,EAAU,EAAkB,CAC7D,EAAqB,EAAM,EAAS,EAAU,CAAiB,EAG3D,GAAW,kBACb,EAAqB,EAAM,sBAAuB,EAAU,CAAiB,CAEjF,CAEA,MAAO,CACL,GAAI,EACJ,IAAK,CACP,CAEF,EAAG,IC1IH,sBAAO,QAAU,CAQf,OAAQ,SAAS,EAAQ,EAAQ,CAC/B,EAAS,GAAU,CAAC,EACpB,OAAS,KAAQ,GAEf,AAAI,KAAK,SAAS,EAAO,EAAK,EAC5B,EAAO,GAAQ,KAAK,OAAO,EAAO,GAAO,EAAO,EAAK,EAErD,EAAO,GAAQ,EAAO,GAG1B,MAAO,EACT,EAQA,UAAW,SAAS,EAAG,CACrB,MACE,aAAa,cACb,YAAa,aACb,YAAa,gBACZ,GACC,MAAO,IAAM,UACb,IAAM,MACN,EAAE,WAAa,GACf,MAAO,GAAE,UAAa,QAE5B,EAQA,SAAU,SAAS,EAAG,CACpB,MAAO,QAAO,UAAU,SAAS,KAAK,CAAC,IAAM,iBAC/C,EAQA,SAAU,SAAS,EAAG,CACpB,MAAO,CAAC,MAAM,WAAW,CAAC,CAAC,GAAK,SAAS,CAAC,CAC5C,EAQA,OAAQ,SAAS,EAAmB,CAClC,GAAI,GAAS,EAEb,GAAK,KAAK,UAAU,CAAiB,EAqBnC,EAAU,UAlBR,MAAO,IAAsB,UAC7B,YAA6B,SAK7B,GAFA,EAAU,SAAS,cAAc,CAAiB,EAE9C,CAAC,EACH,KAAM,IAAI,OACR,0DACE,CACJ,MAIF,MAAM,IAAI,OAAM,oDAAoD,EAOxE,GAAI,EAAQ,QAAQ,YAAY,IAAM,MACpC,EAAM,UAEF,EAAQ,QAAQ,YAAY,IAAM,SACpC,EAAM,EAAQ,gBAAgB,wBAE1B,EAAQ,QAAQ,YAAY,IAAM,QACpC,EAAM,EAAQ,eAAe,EAAE,oBAE/B,MAAI,GAAQ,QAAQ,YAAY,IAAM,MAC9B,GAAI,OACR,6FACF,EAEM,GAAI,OAAM,iBAAiB,EAOzC,MAAO,EACT,EAQA,MAAO,SAAS,EAAI,EAAS,CAC3B,MAAO,WAAW,CAChB,MAAO,GAAG,MAAM,EAAS,SAAS,CACpC,CACF,EAUA,QAAS,SAAS,EAAG,CACnB,MAAO,QAAO,UAAU,SACrB,MAAM,CAAC,EACP,QAAQ,cAAe,EAAE,EACzB,QAAQ,MAAO,EAAE,CACtB,EAQA,uBAAwB,SAAS,EAAK,EAAK,CAEzC,GAAI,EAAI,UAAY,QAAU,EAAI,UAAY,KAM5C,GAJA,EAAI,QAAU,EACd,EAAI,QAAU,EAGV,EAAI,UAAY,QAAU,EAAI,QAAQ,QACxC,GAAI,EAAI,QAAQ,GAAG,UAAY,OAC7B,EAAI,QAAU,EAAI,QAAQ,GAAG,QAC7B,EAAI,QAAU,EAAI,QAAQ,GAAG,gBACpB,EAAI,QAAQ,GAAG,QAAU,OAAQ,CAC1C,GAAI,GAAO,EAAI,sBAAsB,EAErC,EAAI,QAAU,EAAI,QAAQ,GAAG,MAAQ,EAAK,KAC1C,EAAI,QAAU,EAAI,QAAQ,GAAG,MAAQ,EAAK,GAC5C,MAEK,AAAI,GAAI,gBAAkB,QAC3B,EAAI,cAAc,UAAY,QAChC,GAAI,QAAU,EAAI,cAAc,QAChC,EAAI,QAAU,EAAI,cAAc,QAIxC,EAWA,WAAY,SAAS,EAAK,EAAS,CAEjC,GAAI,EAAI,SAAW,EACjB,MAAO,GAGJ,GAAI,AAAsB,GAAY,KAAM,CAC/C,GAAI,GAAgB,EAAI,UAAY,EAAQ,UAC1C,EAAkB,KAAK,KACrB,KAAK,IAAI,EAAI,QAAU,EAAQ,QAAS,CAAC,EACvC,KAAK,IAAI,EAAI,QAAU,EAAQ,QAAS,CAAC,CAC7C,EAEF,MAAO,GAAgB,KAAO,EAAkB,EAClD,CAGA,MAAO,EACT,EAOA,IACE,KAAK,KACL,UAAW,CACT,MAAO,IAAI,MAAK,EAAE,QAAQ,CAC5B,EAQF,SAAU,SAAS,EAAM,EAAM,EAAS,CACtC,GAAI,GAAO,KACP,EAAS,EAAM,EACf,EAAU,KACV,EAAW,EACf,AAAK,GACH,GAAU,CAAC,GAEb,GAAI,GAAQ,UAAW,CACrB,EAAW,EAAQ,UAAY,GAAQ,EAAI,EAAK,IAAI,EACpD,EAAU,KACV,EAAS,EAAK,MAAM,EAAS,CAAI,EAC5B,GACH,GAAU,EAAO,KAErB,EACA,MAAO,WAAW,CAChB,GAAI,GAAM,EAAK,IAAI,EACnB,AAAI,CAAC,GAAY,EAAQ,UAAY,IACnC,GAAW,GAEb,GAAI,GAAY,EAAQ,GAAM,GAC9B,SAAU,KACV,EAAO,UACP,AAAI,GAAa,GAAK,EAAY,EAChC,cAAa,CAAO,EACpB,EAAU,KACV,EAAW,EACX,EAAS,EAAK,MAAM,EAAS,CAAI,EAC5B,GACH,GAAU,EAAO,OAEV,CAAC,GAAW,EAAQ,WAAa,IAC1C,GAAU,WAAW,EAAO,CAAS,GAEhC,CACT,CACF,EAQA,4BAA6B,SAAS,EAAa,CACjD,GAAI,GAAU,KAOd,MAJI,KAAgB,QAAU,EAAc,IAAM,EAAc,GAC9D,GAAU,KAAK,MAAM,IAAO,CAAW,GAGrC,IAAY,KACP,OAAO,uBAAyB,GAAe,EAAE,EAEjD,GAAe,CAAO,CAEjC,CACF,EAQA,YAAwB,EAAS,CAC/B,MAAO,UAAS,EAAU,CACxB,OAAO,WAAW,EAAU,CAAO,CACrC,CACF,ICvSA,sBAAI,IAAQ,KACV,GAAW,UAGb,AAA4B,SAAS,cAEnC,IAAW,MAGb,GAAO,QAAU,CACf,MAAO,6BACP,MAAO,uCACP,QAAS,gCACT,QAAS,+BACT,KAAM,oCAQN,gCAAiC,SAAS,EAAK,CAC7C,GAAI,EAAI,aAAe,EAAI,aACzB,MAAO,CAAE,MAAO,EAAI,YAAa,OAAQ,EAAI,YAAa,EACrD,GAAM,EAAI,sBAAsB,EACrC,MAAO,GAAI,sBAAsB,EAEjC,KAAM,IAAI,OAAM,wCAAwC,CAE5D,EAQA,oBAAqB,SAAS,EAAK,EAAU,CAC3C,GAAI,GAAW,KASf,GAPA,AAAI,GAAM,UAAU,CAAQ,EAC1B,EAAW,EAEX,EAAW,EAAI,cAAc,CAAQ,EAInC,CAAC,EAAU,CACb,GAAI,GAAa,MAAM,UAAU,MAC9B,KAAK,EAAI,YAAc,EAAI,QAAQ,EACnC,OAAO,SAAS,EAAI,CACnB,MAAO,GAAG,WAAa,QAAU,EAAG,WAAa,OACnD,CAAC,EAIH,AACE,EAAW,SAAW,GACtB,EAAW,GAAG,WAAa,KAC3B,EAAW,GAAG,aAAa,WAAW,IAAM,MAE5C,GAAW,EAAW,GAE1B,CAGA,GAAI,CAAC,EAAU,CACb,GAAI,GACF,YAAc,GAAI,MAAK,EAAE,YAAY,EAAE,QAAQ,MAAO,EAAE,EAC1D,EAAW,SAAS,gBAAgB,KAAK,MAAO,GAAG,EACnD,EAAS,aAAa,KAAM,CAAU,EAGtC,GAAI,GAAc,EAAI,YAAc,EAAI,SACxC,GAAI,CAAC,CAAC,GAAe,EAAY,OAAS,EACxC,OAAS,GAAI,EAAY,OAAQ,EAAI,EAAG,IAEtC,AAAI,EAAY,EAAY,OAAS,GAAG,WAAa,QACnD,EAAS,YAAY,EAAY,EAAY,OAAS,EAAE,EAI9D,EAAI,YAAY,CAAQ,CAC1B,CAGA,GAAI,GAAa,CAAC,EAClB,MAAI,GAAS,aAAa,OAAO,GAC/B,GAAa,EAAS,aAAa,OAAO,EAAE,MAAM,GAAG,GAIlD,CAAC,EAAW,QAAQ,uBAAuB,GAC9C,GAAW,KAAK,uBAAuB,EACvC,EAAS,aAAa,QAAS,EAAW,KAAK,GAAG,CAAC,GAG9C,CACT,EAOA,mBAAoB,SAAS,EAAK,CAOhC,GALA,EAAI,aAAa,QAAS,KAAK,KAAK,EACpC,EAAI,eAAe,KAAK,QAAS,cAAe,KAAK,OAAO,EAC5D,EAAI,eAAe,KAAK,QAAS,WAAY,KAAK,IAAI,EAGlD,EAAI,aAAe,KAAM,CAC3B,GAAI,GAAQ,EAAI,aAAa,OAAO,GAAK,GACzC,AAAI,EAAM,YAAY,EAAE,QAAQ,UAAU,IAAM,IAC9C,EAAI,aAAa,QAAS,qBAAuB,CAAK,CAE1D,CACF,EAKA,kCAAmC,IAanC,kBAAmB,GAAM,SACvB,UAAW,CAGT,OAFI,GAAU,SAAS,iBAAiB,MAAM,EAC1C,EAAe,EAAQ,OAClB,EAAI,EAAG,EAAI,EAAc,IAAK,CACrC,GAAI,GAAW,EAAQ,GACvB,EAAS,WAAW,aAAa,EAAU,CAAQ,CACrD,CACF,EACA,GAAO,GAAK,kCAAoC,IAClD,EASA,OAAQ,SAAS,EAAS,EAAQ,EAAM,CACtC,GAAI,GAAO,KACT,EACE,UACA,EAAO,EACP,IACA,EAAO,EACP,IACA,EAAO,EACP,IACA,EAAO,EACP,IACA,EAAO,EACP,IACA,EAAO,EACP,IAEJ,EAAQ,eAAe,KAAM,YAAa,CAAC,EAC3C,AAAI,aAAe,GAAQ,MACzB,EAAQ,MAAM,UAAY,EACrB,AAAI,iBAAmB,GAAQ,MACpC,EAAQ,MAAM,iBAAmB,EACxB,qBAAuB,GAAQ,OACxC,GAAQ,MAAM,qBAAuB,GAMnC,KAAa,MAAQ,CAAC,CAAC,GAEzB,GAAK,WAAW,aAAa,EAAM,CAAI,EAIvC,OAAO,WAAW,UAAW,CAC3B,EAAK,kBAAkB,CACzB,EAAG,EAAK,iCAAiC,EAE7C,EASA,cAAe,SAAS,EAAK,EAAK,CAChC,GAAI,GAAQ,EAAI,eAAe,EAE/B,UAAM,uBAAuB,EAAK,CAAG,EAErC,EAAM,EAAI,EAAI,QACd,EAAM,EAAI,EAAI,QAEP,CACT,EAQA,kBAAmB,SAAS,EAAK,EAAO,EAAQ,CAC9C,MAAO,MAAK,eAAe,EAAK,EAAQ,EAAG,EAAS,CAAC,CACvD,EAUA,eAAgB,SAAS,EAAK,EAAG,EAAG,CAClC,GAAI,GAAQ,EAAI,eAAe,EAC/B,SAAM,EAAI,EACV,EAAM,EAAI,EAEH,CACT,CACF,IChPA,sBAAI,GAAW,KAEf,GAAO,QAAU,CACf,OAAQ,SAAS,EAAU,CAEzB,GAAI,GAAO,EAAS,IAAI,cAAc,MAAM,EAC5C,AAAK,GACH,GAAO,SAAS,gBAAgB,EAAS,MAAO,MAAM,EACtD,EAAS,IAAI,YAAY,CAAI,GAI/B,GAAI,GAAU,EAAK,cAAc,oCAAoC,EACrE,GAAI,CAAC,EAAS,CACZ,GAAI,GAAQ,SAAS,gBAAgB,EAAS,MAAO,OAAO,EAC5D,EAAM,aAAa,KAAM,8BAA8B,EACvD,EAAM,aAAa,OAAQ,UAAU,EACrC,EAAM,YACJ,+PACF,EAAK,YAAY,CAAK,CACxB,CAGA,GAAI,GAAY,SAAS,gBAAgB,EAAS,MAAO,GAAG,EAC5D,EAAU,aAAa,KAAM,uBAAuB,EACpD,EAAU,aACR,YACA,aACG,GAAS,MAAQ,IAClB,IACC,GAAS,OAAS,IACnB,eACJ,EACA,EAAU,aAAa,QAAS,sBAAsB,EAGtD,EAAU,YAAY,KAAK,cAAc,CAAQ,CAAC,EAClD,EAAU,YAAY,KAAK,iBAAiB,CAAQ,CAAC,EACrD,EAAU,YAAY,KAAK,eAAe,CAAQ,CAAC,EAGnD,EAAS,IAAI,YAAY,CAAS,EAGlC,EAAS,aAAe,CAC1B,EAEA,cAAe,SAAS,EAAU,CAChC,GAAI,GAAS,SAAS,gBAAgB,EAAS,MAAO,GAAG,EACzD,EAAO,aAAa,KAAM,sBAAsB,EAChD,EAAO,aAAa,YAAa,gCAAgC,EACjE,EAAO,aAAa,QAAS,sBAAsB,EACnD,EAAO,iBACL,QACA,UAAW,CACT,EAAS,kBAAkB,EAAE,OAAO,CACtC,EACA,EACF,EACA,EAAO,iBACL,aACA,UAAW,CACT,EAAS,kBAAkB,EAAE,OAAO,CACtC,EACA,EACF,EAEA,GAAI,GAAmB,SAAS,gBAAgB,EAAS,MAAO,MAAM,EACtE,EAAiB,aAAa,IAAK,GAAG,EACtC,EAAiB,aAAa,IAAK,GAAG,EACtC,EAAiB,aAAa,QAAS,MAAM,EAC7C,EAAiB,aAAa,SAAU,MAAM,EAC9C,EAAiB,aAAa,QAAS,iCAAiC,EACxE,EAAO,YAAY,CAAgB,EAEnC,GAAI,GAAc,SAAS,gBAAgB,EAAS,MAAO,MAAM,EACjE,SAAY,aACV,IACA,sXACF,EACA,EAAY,aAAa,QAAS,8BAA8B,EAChE,EAAO,YAAY,CAAW,EAEvB,CACT,EAEA,iBAAkB,SAAS,EAAU,CAEnC,GAAI,GAAsB,SAAS,gBAAgB,EAAS,MAAO,GAAG,EACtE,EAAoB,aAAa,KAAM,6BAA6B,EACpE,EAAoB,aAAa,YAAa,4BAA4B,EAC1E,EAAoB,aAAa,QAAS,sBAAsB,EAChE,EAAoB,iBAClB,QACA,UAAW,CACT,EAAS,kBAAkB,EAAE,MAAM,CACrC,EACA,EACF,EACA,EAAoB,iBAClB,aACA,UAAW,CACT,EAAS,kBAAkB,EAAE,MAAM,CACrC,EACA,EACF,EAEA,GAAI,GAAgC,SAAS,gBAC3C,EAAS,MACT,MACF,EACA,EAA8B,aAAa,IAAK,GAAG,EACnD,EAA8B,aAAa,IAAK,GAAG,EACnD,EAA8B,aAAa,QAAS,KAAK,EACzD,EAA8B,aAAa,SAAU,IAAI,EACzD,EAA8B,aAC5B,QACA,iCACF,EACA,EAAoB,YAAY,CAA6B,EAE7D,GAAI,GAA4B,SAAS,gBACvC,EAAS,MACT,MACF,EACA,EAA0B,aACxB,IACA,uLACF,EACA,EAA0B,aACxB,QACA,8BACF,EACA,EAAoB,YAAY,CAAyB,EAEzD,GAAI,GAA4B,SAAS,gBACvC,EAAS,MACT,MACF,EACA,SAA0B,aACxB,IACA,szDACF,EACA,EAA0B,aACxB,QACA,8BACF,EACA,EAAoB,YAAY,CAAyB,EAElD,CACT,EAEA,eAAgB,SAAS,EAAU,CAEjC,GAAI,GAAU,SAAS,gBAAgB,EAAS,MAAO,GAAG,EAC1D,EAAQ,aAAa,KAAM,uBAAuB,EAClD,EAAQ,aAAa,YAAa,iCAAiC,EACnE,EAAQ,aAAa,QAAS,sBAAsB,EACpD,EAAQ,iBACN,QACA,UAAW,CACT,EAAS,kBAAkB,EAAE,QAAQ,CACvC,EACA,EACF,EACA,EAAQ,iBACN,aACA,UAAW,CACT,EAAS,kBAAkB,EAAE,QAAQ,CACvC,EACA,EACF,EAEA,GAAI,GAAoB,SAAS,gBAAgB,EAAS,MAAO,MAAM,EACvE,EAAkB,aAAa,IAAK,GAAG,EACvC,EAAkB,aAAa,IAAK,GAAG,EACvC,EAAkB,aAAa,QAAS,MAAM,EAC9C,EAAkB,aAAa,SAAU,MAAM,EAC/C,EAAkB,aAAa,QAAS,iCAAiC,EACzE,EAAQ,YAAY,CAAiB,EAErC,GAAI,GAAe,SAAS,gBAAgB,EAAS,MAAO,MAAM,EAClE,SAAa,aACX,IACA,oQACF,EACA,EAAa,aAAa,QAAS,8BAA8B,EACjE,EAAQ,YAAY,CAAY,EAEzB,CACT,EAEA,QAAS,SAAS,EAAU,CAC1B,AAAI,EAAS,cACX,GAAS,aAAa,WAAW,YAAY,EAAS,YAAY,EAClE,EAAS,aAAe,KAE5B,CACF,ICtMA,sBAAI,IAAW,KACb,EAAQ,KAEN,EAAiB,SAAS,EAAU,EAAS,CAC/C,KAAK,KAAK,EAAU,CAAO,CAC7B,EAQA,EAAe,UAAU,KAAO,SAAS,EAAU,EAAS,CAE1D,KAAK,SAAW,EAChB,KAAK,QAAU,EAGf,KAAK,cAAgB,CAAE,KAAM,EAAG,EAAG,EAAG,EAAG,CAAE,EAC3C,KAAK,YAAc,CAAE,KAAM,EAAG,EAAG,EAAG,EAAG,CAAE,EAEzC,KAAK,gBAAkB,EAAM,MAAM,KAAK,UAAW,IAAI,EAGvD,KAAK,sBAAwB,EAAM,4BACjC,KAAK,QAAQ,WACf,EAGA,KAAK,QAAU,CAAE,EAAG,EAAG,EAAG,EAAG,MAAO,EAAG,OAAQ,CAAE,EACjD,KAAK,aAAa,EAGlB,GAAI,GAAS,KAAK,WAAW,EAG7B,KAAK,OAAO,CAAM,EAGlB,KAAK,UAAU,CACjB,EAMA,EAAe,UAAU,aAAe,UAAW,CACjD,GAAI,GAAa,KAAK,QAAQ,IAAI,aAAa,SAAS,EAExD,GAAI,EAAY,CACd,GAAI,GAAgB,EACjB,MAAM,QAAQ,EACd,OAAO,SAAS,EAAG,CAClB,MAAO,EACT,CAAC,EACA,IAAI,UAAU,EAGjB,KAAK,QAAQ,EAAI,EAAc,GAC/B,KAAK,QAAQ,EAAI,EAAc,GAC/B,KAAK,QAAQ,MAAQ,EAAc,GACnC,KAAK,QAAQ,OAAS,EAAc,GAEpC,GAAI,GAAO,KAAK,IACd,KAAK,QAAQ,MAAQ,KAAK,QAAQ,MAClC,KAAK,QAAQ,OAAS,KAAK,QAAQ,MACrC,EAGA,KAAK,YAAY,KAAO,EACxB,KAAK,YAAY,EAAK,MAAK,QAAQ,MAAQ,KAAK,QAAQ,MAAQ,GAAQ,EACxE,KAAK,YAAY,EAAK,MAAK,QAAQ,OAAS,KAAK,QAAQ,OAAS,GAAQ,EAG1E,KAAK,qBAAqB,EAE1B,KAAK,QAAQ,IAAI,gBAAgB,SAAS,CAC5C,KACE,MAAK,mBAAmB,CAE5B,EAKA,EAAe,UAAU,mBAAqB,UAAW,CACvD,GAAI,GAAO,KAAK,SAAS,QAAQ,EAEjC,KAAK,QAAQ,EAAI,EAAK,EACtB,KAAK,QAAQ,EAAI,EAAK,EACtB,KAAK,QAAQ,MAAQ,EAAK,MAC1B,KAAK,QAAQ,OAAS,EAAK,MAC7B,EAOA,EAAe,UAAU,WAAa,UAAW,CAC/C,MAAO,GAAM,OAAO,CAAC,EAAG,KAAK,OAAO,CACtC,EAQA,EAAe,UAAU,WAAa,UAAW,CAC/C,GAAI,GAAS,KAAK,OAAO,EAEzB,GAAI,KAAK,QAAQ,KAAO,KAAK,QAAQ,QAAS,CAC5C,GAAI,GACJ,AAAI,KAAK,QAAQ,IACf,EAAW,KAAK,IACd,KAAK,QAAQ,MAAQ,KAAK,QAAQ,MAClC,KAAK,QAAQ,OAAS,KAAK,QAAQ,MACrC,EAEA,EAAW,KAAK,IACd,KAAK,QAAQ,MAAQ,KAAK,QAAQ,MAClC,KAAK,QAAQ,OAAS,KAAK,QAAQ,MACrC,EAGF,EAAO,EAAI,EACX,EAAO,EAAI,EACX,EAAO,EAAI,CAAC,KAAK,QAAQ,EAAI,EAC7B,EAAO,EAAI,CAAC,KAAK,QAAQ,EAAI,CAC/B,CAEA,GAAI,KAAK,QAAQ,OAAQ,CACvB,GAAI,GACC,MAAK,QAAQ,MACX,MAAK,QAAQ,MAAQ,KAAK,QAAQ,EAAI,GAAK,EAAO,GACrD,GACF,EACG,MAAK,QAAQ,OACX,MAAK,QAAQ,OAAS,KAAK,QAAQ,EAAI,GAAK,EAAO,GACtD,GAEJ,EAAO,EAAI,EACX,EAAO,EAAI,CACb,CAGA,YAAK,cAAc,KAAO,EAAO,EACjC,KAAK,cAAc,EAAI,EAAO,EAC9B,KAAK,cAAc,EAAI,EAAO,EAEvB,CACT,EAOA,EAAe,UAAU,iBAAmB,UAAW,CACrD,MAAO,GAAM,OAAO,CAAC,EAAG,KAAK,aAAa,CAC5C,EAOA,EAAe,UAAU,SAAW,UAAW,CAC7C,MAAO,GAAM,OAAO,CAAC,EAAG,KAAK,WAAW,CAC1C,EAOA,EAAe,UAAU,QAAU,UAAW,CAC5C,MAAO,MAAK,YAAY,IAC1B,EAOA,EAAe,UAAU,gBAAkB,UAAW,CACpD,MAAO,MAAK,YAAY,KAAO,KAAK,cAAc,IACpD,EAOA,EAAe,UAAU,oBAAsB,SAAS,EAAO,CAC7D,MAAO,GAAQ,KAAK,cAAc,IACpC,EAOA,EAAe,UAAU,OAAS,UAAW,CAC3C,MAAO,CAAE,EAAG,KAAK,YAAY,EAAG,EAAG,KAAK,YAAY,CAAE,CACxD,EAOA,EAAe,UAAU,OAAS,UAAW,CAC3C,GAAI,GAAU,KAAK,QAAQ,IAAI,gBAAgB,EAG/C,SAAQ,EAAI,KAAK,YAAY,KAC7B,EAAQ,EAAI,EACZ,EAAQ,EAAI,EACZ,EAAQ,EAAI,KAAK,YAAY,KAC7B,EAAQ,EAAI,KAAK,YAAY,EAC7B,EAAQ,EAAI,KAAK,YAAY,EAEtB,CACT,EAOA,EAAe,UAAU,OAAS,SAAS,EAAQ,CACjD,GAAI,GAAW,KAAK,gBAAgB,CAAM,EACxC,EAAU,KAAK,eAAe,CAAM,EAEtC,GAAI,GAAY,EAAS,CAmBvB,GAjBI,GAEF,CACE,KAAK,QAAQ,WACX,KAAK,gBAAgB,EACrB,KAAK,oBAAoB,EAAO,CAAC,CACnC,IAAM,GAEN,GAAO,EAAI,EAAO,EAAI,KAAK,YAAY,KACvC,EAAW,IAEX,MAAK,YAAY,CAAM,EACvB,KAAK,QAAQ,OAAO,KAAK,gBAAgB,CAAC,IAK1C,EAAS,CACX,GAAI,GAAa,KAAK,QAAQ,UAAU,KAAK,OAAO,EAAG,CACnD,EAAG,EAAO,EACV,EAAG,EAAO,CACZ,CAAC,EAED,EAAc,GACd,EAAc,GAGhB,AAAI,IAAe,GAEjB,GAAO,EAAI,KAAK,OAAO,EAAE,EACzB,EAAO,EAAI,KAAK,OAAO,EAAE,EAEzB,EAAc,EAAc,IACnB,EAAM,SAAS,CAAU,GAElC,CAAI,EAAW,IAAM,GAEnB,GAAO,EAAI,KAAK,OAAO,EAAE,EACzB,EAAc,IACL,EAAM,SAAS,EAAW,CAAC,GAEpC,GAAO,EAAI,EAAW,GAIxB,AAAI,EAAW,IAAM,GAEnB,GAAO,EAAI,KAAK,OAAO,EAAE,EACzB,EAAc,IACL,EAAM,SAAS,EAAW,CAAC,GAEpC,GAAO,EAAI,EAAW,IAM1B,AAAK,GAAe,GAAgB,CAAC,KAAK,eAAe,CAAM,EAC7D,EAAU,GAEV,MAAK,YAAY,CAAM,EACvB,KAAK,QAAQ,MAAM,KAAK,OAAO,CAAC,EAEpC,CAGA,AAAI,IAAY,IACd,KAAK,qBAAqB,CAE9B,CACF,EAEA,EAAe,UAAU,gBAAkB,SAAS,EAAQ,CAC1D,MAAO,MAAK,YAAY,OAAS,EAAO,CAC1C,EAEA,EAAe,UAAU,eAAiB,SAAS,EAAQ,CACzD,MAAO,MAAK,YAAY,IAAM,EAAO,GAAK,KAAK,YAAY,IAAM,EAAO,CAC1E,EAOA,EAAe,UAAU,YAAc,SAAS,EAAQ,CACtD,KAAK,YAAY,KAAO,EAAO,EAC/B,KAAK,YAAY,EAAI,EAAO,EAC5B,KAAK,YAAY,EAAI,EAAO,CAC9B,EAEA,EAAe,UAAU,cAAgB,GAKzC,EAAe,UAAU,qBAAuB,UAAW,CACzD,AAAK,KAAK,eAER,MAAK,cAAgB,GAGrB,KAAK,sBAAsB,KAAK,OAAQ,KAAK,eAAe,EAEhE,EAKA,EAAe,UAAU,UAAY,UAAW,CAC9C,GAAI,GAAM,KAAK,OAAO,EAGtB,GAAS,OAAO,KAAK,SAAU,EAAK,KAAK,IAAI,EAG7C,KAAK,cAAgB,GAGjB,KAAK,QAAQ,cACf,KAAK,QAAQ,aAAa,CAAG,CAEjC,EAEA,GAAO,QAAU,SAAS,EAAU,EAAS,CAC3C,MAAO,IAAI,GAAe,EAAU,CAAO,CAC7C,IC7WA,sBAAI,IAAQ,KACV,GAAe,KACf,EAAQ,KACR,EAAW,KACX,GAAiB,KAEf,EAAa,SAAS,EAAK,EAAS,CACtC,KAAK,KAAK,EAAK,CAAO,CACxB,EAEI,GAAkB,CACpB,iBAAkB,yBAClB,WAAY,GACZ,oBAAqB,GACrB,YAAa,GACb,oBAAqB,GACrB,sBAAuB,GACvB,0BAA2B,GAC3B,qBAAsB,GACtB,QAAS,GACT,QAAS,GACT,IAAK,GACL,QAAS,GACT,OAAQ,GACR,YAAa,OACb,WAAY,KACZ,OAAQ,KACR,UAAW,KACX,MAAO,KACP,oBAAqB,KACrB,sBAAuB,KACvB,aAAc,IAChB,EAEI,GAAwB,CAAE,QAAS,EAAK,EAE5C,EAAW,UAAU,KAAO,SAAS,EAAK,EAAS,CACjD,GAAI,GAAO,KAEX,KAAK,IAAM,EACX,KAAK,KAAO,EAAI,cAAc,MAAM,EAGpC,EAAS,mBAAmB,KAAK,GAAG,EAGpC,KAAK,QAAU,EAAM,OAAO,EAAM,OAAO,CAAC,EAAG,EAAe,EAAG,CAAO,EAGtE,KAAK,MAAQ,OAGb,GAAI,GAA+B,EAAS,gCAC1C,CACF,EACA,KAAK,MAAQ,EAA6B,MAC1C,KAAK,OAAS,EAA6B,OAG3C,KAAK,SAAW,GACd,EAAS,oBAAoB,KAAK,IAAK,KAAK,QAAQ,gBAAgB,EACpE,CACE,IAAK,KAAK,IACV,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,IAAK,KAAK,QAAQ,IAClB,QAAS,KAAK,QAAQ,QACtB,OAAQ,KAAK,QAAQ,OACrB,YAAa,KAAK,QAAQ,YAE1B,WAAY,SAAS,EAAU,EAAU,CACvC,GAAI,EAAK,UAAY,EAAK,QAAQ,WAChC,MAAO,GAAK,QAAQ,WAAW,EAAU,CAAQ,CAErD,EACA,OAAQ,SAAS,EAAO,CACtB,GAAI,EAAK,UAAY,EAAK,QAAQ,OAChC,MAAO,GAAK,QAAQ,OAAO,CAAK,CAEpC,EACA,UAAW,SAAS,EAAU,EAAU,CACtC,GAAI,EAAK,UAAY,EAAK,QAAQ,UAChC,MAAO,GAAK,QAAQ,UAAU,EAAU,CAAQ,CAEpD,EACA,MAAO,SAAS,EAAO,CACrB,GAAI,EAAK,UAAY,EAAK,QAAQ,MAChC,MAAO,GAAK,QAAQ,MAAM,CAAK,CAEnC,EACA,aAAc,SAAS,EAAK,CAC1B,GAAI,EAAK,UAAY,EAAK,QAAQ,aAChC,MAAO,GAAK,QAAQ,aAAa,CAAG,CAExC,CACF,CACF,EAGA,GAAI,GAAiB,KAAK,kBAAkB,EAC5C,EAAe,cAAc,KAAK,QAAQ,UAAU,EACpD,EAAe,UAAU,KAAK,QAAQ,MAAM,EAC5C,EAAe,aAAa,KAAK,QAAQ,SAAS,EAClD,EAAe,SAAS,KAAK,QAAQ,KAAK,EAC1C,EAAe,gBAAgB,KAAK,QAAQ,YAAY,EAEpD,KAAK,QAAQ,qBACf,GAAa,OAAO,IAAI,EAI1B,KAAK,wBAA0B,KAAK,IAAI,EACxC,KAAK,cAAc,CACrB,EAKA,EAAW,UAAU,cAAgB,UAAW,CAC9C,GAAI,GAAO,KACT,EAAU,KA6CZ,GA3CA,KAAK,eAAiB,CAEpB,UAAW,SAAS,EAAK,CACvB,GAAI,GAAS,EAAK,gBAAgB,EAAK,CAAO,EAC9C,SAAU,EACH,CACT,EACA,WAAY,SAAS,EAAK,CACxB,GAAI,GAAS,EAAK,gBAAgB,EAAK,CAAO,EAC9C,SAAU,EACH,CACT,EAGA,QAAS,SAAS,EAAK,CACrB,MAAO,GAAK,cAAc,CAAG,CAC/B,EACA,SAAU,SAAS,EAAK,CACtB,MAAO,GAAK,cAAc,CAAG,CAC/B,EAGA,UAAW,SAAS,EAAK,CACvB,MAAO,GAAK,gBAAgB,CAAG,CACjC,EACA,UAAW,SAAS,EAAK,CACvB,MAAO,GAAK,gBAAgB,CAAG,CACjC,EAGA,WAAY,SAAS,EAAK,CACxB,MAAO,GAAK,cAAc,CAAG,CAC/B,EACA,WAAY,SAAS,EAAK,CACxB,MAAO,GAAK,cAAc,CAAG,CAC/B,EACA,YAAa,SAAS,EAAK,CACzB,MAAO,GAAK,cAAc,CAAG,CAC/B,CACF,EAII,KAAK,QAAQ,qBAAuB,KAAM,CAC5C,KAAK,QAAQ,oBAAoB,KAAK,CACpC,WAAY,KAAK,IACjB,sBAAuB,KAAK,QAAQ,sBACpC,SAAU,KAAK,kBAAkB,CACnC,CAAC,EAGD,GAAI,GAAqB,KAAK,QAAQ,oBACnC,mBACH,GAAI,GAAsB,EAAmB,OAC3C,OAAS,GAAI,EAAmB,OAAS,EAAG,GAAK,EAAG,IAClD,AAAI,KAAK,eAAe,eAAe,EAAmB,EAAE,GAC1D,MAAO,MAAK,eAAe,EAAmB,GAItD,CAGA,OAAS,KAAS,MAAK,eAErB,AAAC,MAAK,QAAQ,uBAAyB,KAAK,KAAK,iBAC/C,EACA,KAAK,eAAe,GACpB,AAAC,KAAK,QAAQ,0BAAoD,GAAxB,EAC5C,EAIF,AAAI,KAAK,QAAQ,uBACf,MAAK,QAAQ,sBAAwB,GACrC,KAAK,qBAAqB,EAE9B,EAKA,EAAW,UAAU,qBAAuB,UAAW,CACrD,GAAI,CAAC,KAAK,QAAQ,sBAAuB,CACvC,GAAI,GAAO,KAGX,KAAK,cAAgB,SAAS,EAAK,CACjC,MAAO,GAAK,iBAAiB,CAAG,CAClC,EAGA,GAAI,GAAoB,CAAC,KAAK,QAAQ,0BACtC,GAAM,GACJ,KAAK,QAAQ,uBAAyB,KAAK,IAC3C,KAAK,cACL,CACF,EAEA,KAAK,QAAQ,sBAAwB,EACvC,CACF,EAKA,EAAW,UAAU,sBAAwB,UAAW,CACtD,GAAI,KAAK,QAAQ,sBAAuB,CACtC,GAAI,GAAoB,CAAC,KAAK,QAAQ,0BACtC,GAAM,IACJ,KAAK,QAAQ,uBAAyB,KAAK,IAC3C,KAAK,cACL,CACF,EACA,KAAK,QAAQ,sBAAwB,EACvC,CACF,EAOA,EAAW,UAAU,iBAAmB,SAAS,EAAK,CACpD,GAAI,GAAC,KAAK,QAAQ,aAAe,KAAK,QAAU,QAIhD,CAAI,KAAK,QAAQ,2BACf,CAAI,EAAI,eACN,EAAI,eAAe,EAEnB,EAAI,YAAc,IAKtB,GAAI,GAAQ,EAAI,QAAU,EACxB,EAAY,KAAK,IAAI,EAAI,KAAK,wBAC9B,EAAU,EAAI,KAAK,IAAI,EAAG,GAAK,CAAS,EAG1C,KAAK,wBAA0B,KAAK,IAAI,EAGpC,aAAe,IAAO,EAAI,YAAc,GAAK,EAAI,YACnD,GAAQ,EAAI,SAAW,EAAI,EAAI,KAAK,IAAI,EAAI,UAAU,EAAI,EAAI,QAGhE,EACE,IAAO,GAAS,EAAQ,GACpB,EACE,GAAQ,EAAI,EAAI,IAAM,KAAK,IAAI,KAAK,IAAI,CAAK,EAAI,EAAE,EAAK,EAEhE,GAAI,GAAoB,KAAK,IAAI,aAAa,EAAE,QAAQ,EACtD,EAAqB,EAAS,cAAc,EAAK,KAAK,GAAG,EAAE,gBACzD,CACF,EACA,EAAO,KAAK,IAAI,EAAI,KAAK,QAAQ,qBAAsB,GAAK,CAAK,EAEnE,KAAK,YAAY,EAAM,CAAkB,EAC3C,EAUA,EAAW,UAAU,YAAc,SAAS,EAAW,EAAO,EAAc,CAC1E,GAAI,GAAgB,KAAK,SAAS,iBAAiB,EAEnD,AAAK,EAeH,GAAY,KAAK,IACf,KAAK,QAAQ,QAAU,EAAc,KACrC,KAAK,IAAI,KAAK,QAAQ,QAAU,EAAc,KAAM,CAAS,CAC/D,EAEA,EAAY,EAAY,KAAK,QAAQ,GAlBrC,AACE,KAAK,QAAQ,EAAI,EACjB,KAAK,QAAQ,QAAU,EAAc,KAErC,EAAa,KAAK,QAAQ,QAAU,EAAc,KAAQ,KAAK,QAAQ,EAEvE,KAAK,QAAQ,EAAI,EACjB,KAAK,QAAQ,QAAU,EAAc,MAErC,GAAa,KAAK,QAAQ,QAAU,EAAc,KAAQ,KAAK,QAAQ,GAY3E,GAAI,GAAS,KAAK,SAAS,OAAO,EAChC,EAAgB,EAAM,gBAAgB,EAAO,QAAQ,CAAC,EACtD,EAAW,KAAK,IACb,gBAAgB,EAChB,UAAU,EAAc,EAAG,EAAc,CAAC,EAC1C,MAAM,CAAS,EACf,UAAU,CAAC,EAAc,EAAG,CAAC,EAAc,CAAC,EAC/C,EAAS,EAAO,SAAS,CAAQ,EAEnC,AAAI,EAAO,IAAM,EAAO,GACtB,KAAK,SAAS,OAAO,CAAM,CAE/B,EAQA,EAAW,UAAU,KAAO,SAAS,EAAO,EAAU,CACpD,KAAK,YACH,EACA,EAAS,kBAAkB,KAAK,IAAK,KAAK,MAAO,KAAK,MAAM,EAC5D,CACF,CACF,EAQA,EAAW,UAAU,WAAa,SAAS,EAAO,EAAU,CAC1D,AAAI,GACF,GAAQ,KAAK,wBAAwB,CAAK,GAG5C,KAAK,KAAK,EAAO,CAAQ,CAC3B,EASA,EAAW,UAAU,kBAAoB,SAAS,EAAO,EAAO,EAAU,CAOxE,GANI,GAEF,GAAQ,KAAK,wBAAwB,CAAK,GAIxC,EAAM,QAAQ,CAAK,IAAM,WAC3B,GAAI,KAAO,IAAS,KAAO,GACzB,EAAQ,EAAS,eAAe,KAAK,IAAK,EAAM,EAAG,EAAM,CAAC,MAE1D,MAAM,IAAI,OAAM,wBAAwB,EAI5C,KAAK,YAAY,EAAO,EAAO,CAAQ,CACzC,EAOA,EAAW,UAAU,QAAU,UAAW,CACxC,MAAO,MAAK,SAAS,QAAQ,CAC/B,EAOA,EAAW,UAAU,gBAAkB,UAAW,CAChD,MAAO,MAAK,SAAS,gBAAgB,CACvC,EAQA,EAAW,UAAU,wBAA0B,SAAS,EAAM,CAC5D,MAAO,GAAO,KAAK,SAAS,iBAAiB,EAAE,IACjD,EAKA,EAAW,UAAU,UAAY,UAAW,CAC1C,GAAI,GAAgB,KAAK,SAAS,iBAAiB,EAEnD,KAAK,KAAK,EAAc,KAAM,EAAI,CACpC,EAKA,EAAW,UAAU,SAAW,UAAW,CACzC,KAAK,IAAI,KAAK,SAAS,iBAAiB,CAAC,CAC3C,EAKA,EAAW,UAAU,MAAQ,UAAW,CACtC,KAAK,UAAU,EACf,KAAK,SAAS,CAChB,EAQA,EAAW,UAAU,eAAiB,SAAS,EAAK,CAUlD,GATI,KAAK,QAAQ,2BACf,CAAI,EAAI,eACN,EAAI,eAAe,EAEnB,EAAI,YAAc,IAKlB,KAAK,QAAQ,oBAAqB,CACpC,GAAI,GAAc,EAAI,OAAO,aAAa,OAAO,GAAK,GACtD,GAAI,EAAY,QAAQ,sBAAsB,EAAI,GAChD,MAAO,EAEX,CAEA,GAAI,GAEJ,AAAI,EAAI,SACN,EAAa,EAAM,IAAI,KAAK,QAAQ,sBAAwB,GAE5D,EAAc,GAAI,KAAK,QAAQ,sBAAwB,EAGzD,GAAI,GAAQ,EAAS,cAAc,EAAK,KAAK,GAAG,EAAE,gBAChD,KAAK,IAAI,aAAa,EAAE,QAAQ,CAClC,EACA,KAAK,YAAY,EAAY,CAAK,CACpC,EAOA,EAAW,UAAU,gBAAkB,SAAS,EAAK,EAAS,CAC5D,AAAI,KAAK,QAAQ,2BACf,CAAI,EAAI,eACN,EAAI,eAAe,EAEnB,EAAI,YAAc,IAItB,EAAM,uBAAuB,EAAK,KAAK,GAAG,EAG1C,AAAI,KAAK,QAAQ,qBAAuB,EAAM,WAAW,EAAK,CAAO,EACnE,KAAK,eAAe,CAAG,EAGvB,MAAK,MAAQ,MACb,KAAK,cAAgB,KAAK,SAAS,OAAO,EAC1C,KAAK,YAAc,EAAS,cAAc,EAAK,KAAK,GAAG,EAAE,gBACvD,KAAK,cAAc,QAAQ,CAC7B,EAEJ,EAOA,EAAW,UAAU,gBAAkB,SAAS,EAAK,CASnD,GARI,KAAK,QAAQ,2BACf,CAAI,EAAI,eACN,EAAI,eAAe,EAEnB,EAAI,YAAc,IAIlB,KAAK,QAAU,OAAS,KAAK,QAAQ,WAAY,CAEnD,GAAI,GAAQ,EAAS,cAAc,EAAK,KAAK,GAAG,EAAE,gBAC9C,KAAK,cAAc,QAAQ,CAC7B,EACA,EAAc,KAAK,cAAc,UAC/B,EAAM,EAAI,KAAK,YAAY,EAC3B,EAAM,EAAI,KAAK,YAAY,CAC7B,EAEF,KAAK,SAAS,OAAO,CAAW,CAClC,CACF,EAOA,EAAW,UAAU,cAAgB,SAAS,EAAK,CACjD,AAAI,KAAK,QAAQ,2BACf,CAAI,EAAI,eACN,EAAI,eAAe,EAEnB,EAAI,YAAc,IAIlB,KAAK,QAAU,OAEjB,MAAK,MAAQ,OAEjB,EAMA,EAAW,UAAU,IAAM,UAAW,CACpC,GAAI,GAAU,KAAK,SAAS,WAAW,EACrC,EAAW,KAAK,IACd,KAAK,MAAQ,EAAQ,MACrB,KAAK,OAAS,EAAQ,MACxB,EAEF,KAAK,KAAK,EAAU,EAAI,CAC1B,EAMA,EAAW,UAAU,QAAU,UAAW,CACxC,GAAI,GAAU,KAAK,SAAS,WAAW,EACrC,EAAW,KAAK,IACd,KAAK,MAAQ,EAAQ,MACrB,KAAK,OAAS,EAAQ,MACxB,EAEF,KAAK,KAAK,EAAU,EAAI,CAC1B,EAMA,EAAW,UAAU,OAAS,UAAW,CACvC,GAAI,GAAU,KAAK,SAAS,WAAW,EACrC,EACG,MAAK,MAAS,GAAQ,MAAQ,EAAQ,EAAI,GAAK,KAAK,QAAQ,GAAK,GACpE,EACG,MAAK,OAAU,GAAQ,OAAS,EAAQ,EAAI,GAAK,KAAK,QAAQ,GAAK,GAExE,KAAK,kBAAkB,EAAE,IAAI,CAAE,EAAG,EAAS,EAAG,CAAQ,CAAC,CACzD,EAMA,EAAW,UAAU,WAAa,UAAW,CAC3C,KAAK,SAAS,mBAAmB,CACnC,EAOA,EAAW,UAAU,IAAM,SAAS,EAAO,CACzC,GAAI,GAAc,KAAK,SAAS,OAAO,EACvC,EAAY,EAAI,EAAM,EACtB,EAAY,EAAI,EAAM,EACtB,KAAK,SAAS,OAAO,CAAW,CAClC,EAOA,EAAW,UAAU,MAAQ,SAAS,EAAO,CAC3C,GAAI,GAAc,KAAK,SAAS,OAAO,EACvC,EAAY,GAAK,EAAM,EACvB,EAAY,GAAK,EAAM,EACvB,KAAK,SAAS,OAAO,CAAW,CAClC,EAOA,EAAW,UAAU,OAAS,UAAW,CACvC,GAAI,GAAQ,KAAK,SAAS,SAAS,EAEnC,MAAO,CAAE,EAAG,EAAM,EAAG,EAAG,EAAM,CAAE,CAClC,EAKA,EAAW,UAAU,OAAS,UAAW,CAEvC,GAAI,GAA+B,EAAS,gCAC1C,KAAK,GACP,EACA,KAAK,MAAQ,EAA6B,MAC1C,KAAK,OAAS,EAA6B,OAG3C,GAAI,GAAW,KAAK,SACpB,EAAS,QAAQ,MAAQ,KAAK,MAC9B,EAAS,QAAQ,OAAS,KAAK,OAC/B,EAAS,WAAW,EAGhB,KAAK,QAAQ,qBACf,MAAK,kBAAkB,EAAE,oBAAoB,EAC7C,KAAK,kBAAkB,EAAE,mBAAmB,EAEhD,EAKA,EAAW,UAAU,QAAU,UAAW,CACxC,GAAI,GAAO,KAGX,KAAK,WAAa,KAClB,KAAK,OAAS,KACd,KAAK,UAAY,KACjB,KAAK,MAAQ,KACb,KAAK,aAAe,KAIhB,KAAK,QAAQ,qBAAuB,MACtC,KAAK,QAAQ,oBAAoB,QAAQ,CACvC,WAAY,KAAK,IACjB,sBAAuB,KAAK,QAAQ,sBACpC,SAAU,KAAK,kBAAkB,CACnC,CAAC,EAIH,OAAS,KAAS,MAAK,eACrB,AAAC,MAAK,QAAQ,uBAAyB,KAAK,KAAK,oBAC/C,EACA,KAAK,eAAe,GACpB,AAAC,KAAK,QAAQ,0BAAoD,GAAxB,EAC5C,EAIF,KAAK,sBAAsB,EAG3B,KAAK,kBAAkB,EAAE,oBAAoB,EAG7C,KAAK,MAAM,EAGX,EAAiB,EAAe,OAAO,SAAS,EAAU,CACxD,MAAO,GAAS,MAAQ,EAAK,GAC/B,CAAC,EAGD,MAAO,MAAK,QAGZ,MAAO,MAAK,SAGZ,MAAO,MAAK,eACZ,MAAO,MAAK,GACZ,KAAK,kBAAoB,UAAW,CAClC,MAAO,KACT,CACF,EAOA,EAAW,UAAU,kBAAoB,UAAW,CAClD,GAAI,GAAO,KAGX,MAAK,MAAK,gBACR,MAAK,eAAiB,KAAK,GAAK,CAE9B,UAAW,UAAW,CACpB,SAAK,QAAQ,WAAa,GACnB,EAAK,EACd,EACA,WAAY,UAAW,CACrB,SAAK,QAAQ,WAAa,GACnB,EAAK,EACd,EACA,aAAc,UAAW,CACvB,MAAO,CAAC,CAAC,EAAK,QAAQ,UACxB,EACA,IAAK,SAAS,EAAO,CACnB,SAAK,IAAI,CAAK,EACP,EAAK,EACd,EACA,MAAO,SAAS,EAAO,CACrB,SAAK,MAAM,CAAK,EACT,EAAK,EACd,EACA,OAAQ,UAAW,CACjB,MAAO,GAAK,OAAO,CACrB,EAEA,aAAc,SAAS,EAAI,CACzB,SAAK,QAAQ,UACX,IAAO,KAAO,KAAO,EAAM,MAAM,EAAI,EAAK,cAAc,EACnD,EAAK,EACd,EACA,SAAU,SAAS,EAAI,CACrB,SAAK,QAAQ,MACX,IAAO,KAAO,KAAO,EAAM,MAAM,EAAI,EAAK,cAAc,EACnD,EAAK,EACd,EAEA,WAAY,UAAW,CACrB,SAAK,QAAQ,YAAc,GACpB,EAAK,EACd,EACA,YAAa,UAAW,CACtB,SAAK,QAAQ,YAAc,GACpB,EAAK,EACd,EACA,cAAe,UAAW,CACxB,MAAO,CAAC,CAAC,EAAK,QAAQ,WACxB,EACA,mBAAoB,UAAW,CAC7B,MAAK,GAAK,QAAQ,qBAChB,GAAK,QAAQ,oBAAsB,GACnC,GAAa,OAAO,CAAI,GAEnB,EAAK,EACd,EACA,oBAAqB,UAAW,CAC9B,MAAI,GAAK,QAAQ,qBACf,GAAK,QAAQ,oBAAsB,GACnC,GAAa,QAAQ,CAAI,GAEpB,EAAK,EACd,EACA,sBAAuB,UAAW,CAChC,MAAO,CAAC,CAAC,EAAK,QAAQ,mBACxB,EAEA,mBAAoB,UAAW,CAC7B,SAAK,QAAQ,oBAAsB,GAC5B,EAAK,EACd,EACA,oBAAqB,UAAW,CAC9B,SAAK,QAAQ,oBAAsB,GAC5B,EAAK,EACd,EACA,sBAAuB,UAAW,CAChC,MAAO,CAAC,CAAC,EAAK,QAAQ,mBACxB,EAEA,qBAAsB,UAAW,CAC/B,SAAK,qBAAqB,EACnB,EAAK,EACd,EACA,sBAAuB,UAAW,CAChC,SAAK,sBAAsB,EACpB,EAAK,EACd,EACA,wBAAyB,UAAW,CAClC,MAAO,CAAC,CAAC,EAAK,QAAQ,qBACxB,EAEA,wBAAyB,SAAS,EAAO,CACvC,SAAK,QAAQ,qBAAuB,EAC7B,EAAK,EACd,EACA,WAAY,SAAS,EAAM,CACzB,SAAK,QAAQ,QAAU,EAChB,EAAK,EACd,EACA,WAAY,SAAS,EAAM,CACzB,SAAK,QAAQ,QAAU,EAChB,EAAK,EACd,EAEA,cAAe,SAAS,EAAI,CAC1B,SAAK,QAAQ,WACX,IAAO,KAAO,KAAO,EAAM,MAAM,EAAI,EAAK,cAAc,EACnD,EAAK,EACd,EACA,UAAW,SAAS,EAAI,CACtB,SAAK,QAAQ,OACX,IAAO,KAAO,KAAO,EAAM,MAAM,EAAI,EAAK,cAAc,EACnD,EAAK,EACd,EAEA,KAAM,SAAS,EAAO,CACpB,SAAK,WAAW,EAAO,EAAI,EACpB,EAAK,EACd,EACA,OAAQ,SAAS,EAAO,CACtB,SAAK,WAAW,EAAO,EAAK,EACrB,EAAK,EACd,EACA,YAAa,SAAS,EAAO,EAAO,CAClC,SAAK,kBAAkB,EAAO,EAAO,EAAI,EAClC,EAAK,EACd,EACA,cAAe,SAAS,EAAO,EAAO,CACpC,SAAK,kBAAkB,EAAO,EAAO,EAAK,EACnC,EAAK,EACd,EACA,OAAQ,UAAW,CACjB,YAAK,OAAO,EAAI,EAAK,QAAQ,oBAAoB,EAC1C,EAAK,EACd,EACA,QAAS,UAAW,CAClB,YAAK,OAAO,EAAK,GAAI,EAAK,QAAQ,qBAAqB,EAChD,EAAK,EACd,EACA,QAAS,UAAW,CAClB,MAAO,GAAK,gBAAgB,CAC9B,EAEA,gBAAiB,SAAS,EAAI,CAC5B,SAAK,QAAQ,aACX,IAAO,KAAO,KAAO,EAAM,MAAM,EAAI,EAAK,cAAc,EACnD,EAAK,EACd,EAEA,UAAW,UAAW,CACpB,SAAK,UAAU,EACR,EAAK,EACd,EACA,SAAU,UAAW,CACnB,SAAK,SAAS,EACP,EAAK,EACd,EACA,MAAO,UAAW,CAChB,SAAK,MAAM,EACJ,EAAK,EACd,EAEA,IAAK,UAAW,CACd,SAAK,IAAI,EACF,EAAK,EACd,EACA,QAAS,UAAW,CAClB,SAAK,QAAQ,EACN,EAAK,EACd,EACA,OAAQ,UAAW,CACjB,SAAK,OAAO,EACL,EAAK,EACd,EAEA,WAAY,UAAW,CACrB,SAAK,WAAW,EACT,EAAK,EACd,EACA,OAAQ,UAAW,CACjB,SAAK,OAAO,EACL,EAAK,EACd,EACA,SAAU,UAAW,CACnB,MAAO,CACL,MAAO,EAAK,MACZ,OAAQ,EAAK,OACb,SAAU,EAAK,QAAQ,EACvB,QAAS,EAAK,SAAS,WAAW,CACpC,CACF,EAEA,QAAS,UAAW,CAClB,SAAK,QAAQ,EACN,EAAK,EACd,CACF,GAGK,KAAK,cACd,EAQA,GAAI,GAAiB,CAAC,EAElB,GAAa,SAAS,EAAmB,EAAS,CACpD,GAAI,GAAM,EAAM,OAAO,CAAiB,EAExC,GAAI,IAAQ,KACV,MAAO,MAGP,OAAS,GAAI,EAAe,OAAS,EAAG,GAAK,EAAG,IAC9C,GAAI,EAAe,GAAG,MAAQ,EAC5B,MAAO,GAAe,GAAG,SAAS,kBAAkB,EAKxD,SAAe,KAAK,CAClB,IAAK,EACL,SAAU,GAAI,GAAW,EAAK,CAAO,CACvC,CAAC,EAGM,EACL,EAAe,OAAS,GACxB,SAAS,kBAAkB,CAEjC,EAEA,GAAO,QAAU,KCr8BjB,sBAAI,IAAa,KAEjB,GAAO,QAAU,KCFjB,GAAM,IAAS,CAAC,EAAK,IAAQ,KAAK,MAAM,KAAK,OAAO,EAAK,GAAM,EAAM,EAAE,EAAI,EACrE,GAAQ,IAAM,GAAI,SAAQ,GAAW,OAAO,sBAAsB,CAAO,CAAC,EAC1E,GAAQ,GAAM,GAAI,SAAQ,GAAW,WAAW,EAAS,CAAE,CAAC,EAE3D,GAAQ,KAAM,IAAO,CAE1B,GAAM,GAAa,EAAI,cAAc,QAAQ,EACvC,EAAQ,SAAS,gBAAgB,6BAA8B,GAAG,EACxE,EAAW,sBAAsB,WAAY,CAAK,EAClD,EAAM,YAAY,CAAU,EAC5B,EAAM,GAAK,gBAGX,GAAM,GAAU,OAAO,EAAM,aAAa,SAAS,CAAC,GAAK,OAAO,EAAM,MAAM,OAAO,GAAK,EAClF,CAAE,EAAG,EAAO,EAAG,EAAO,QAAO,UAAW,EAAM,QAAQ,EACtD,CAAE,MAAO,EAAU,OAAQ,GAAc,EAAI,QAAQ,EAGrD,EAAY,IACZ,EAAW,KACX,EAAiB,KAAK,IAAI,IAAK,EAAW,EAAO,EAAY,CAAM,EAGzE,EAAM,gBAAgB,SAAS,EAC/B,EAAM,MAAM,QAAU,IACtB,EAAM,MAAM,cAAgB,OAC5B,EAAM,MAAM,UAAY,aAAa,CAAC,QAAY,CAAC,OAGnD,GAAM,GAAU,SAAY,CAC1B,GAAM,GAAQ,GAAO,EAAgB,EAAW,CAAK,EAAI,EACnD,GAAQ,GAAO,EAAgB,EAAY,CAAM,EAAI,EAE3D,EAAM,MAAM,UAAY,aAAa,QAAY,QACjD,KAAM,IAAM,EACZ,KAAM,IAAM,EAEZ,EAAM,MAAM,WAAa,aAAa,uBAA+B,kBACrE,EAAM,MAAM,QAAU,EACtB,EAAM,MAAM,UAAY,aAAa,EAAQ,QAAqB,GAAQ,OAC1E,KAAM,IAAM,EAAY,CAAQ,EAEhC,EAAM,MAAM,QAAU,IACtB,KAAM,IAAM,CAAQ,EAEpB,EAAM,MAAM,WAAa,GACzB,KAAM,IAAM,EACZ,KAAM,IAAM,CACd,EACI,EAAS,GACP,EAAc,SAAY,CAE9B,KACO,GACL,KAAM,GAAQ,EACd,KAAM,IAAM,GAAO,IAAM,GAAK,CAAC,CAEnC,EAGM,EAAa,OAAO,WAAW,kCAAkC,EACvE,EAAW,iBAAiB,SAAU,IAAM,CAE1C,AAAI,EAAW,UAAY,CAAC,GAG5B,GAAS,CAAC,EAAW,QAGjB,GAAQ,EAAY,EAAE,KAAK,EACjC,CAAC,EAGD,KAAM,IAAM,GAAO,IAAM,GAAI,CAAC,EAC9B,EAAS,CAAC,EAAW,QACjB,GAAQ,EAAY,EAAE,KAAK,CACjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8PC1EA,GAAM,IAAW,GAAM,EAAG,YAAY,EAAE,QAAQ,gBAAiB,EAAE,EAAE,QAAQ,MAAO,GAAG,EAEjF,GAAU,GAAQ,OAAO,SAAS,OAAU,GAAO,IAAI,IAAS,IAClE,KACA,SAAS,UACP,QAAQ,UAAU,KAAM,KAAM,EAAO,IAAI,IAAS,GAAG,EACrD,OAAO,SAAS,KAAO,EAAO,IAAI,IAAS,GAE3C,GAAqB,CAAC,EAAS,EAAO,IAAO,CACjD,GAAM,GAAO,GAAS,CAAE,EAClB,EAAO,GAAK,GACZ,EAAQ,GAAM,MAAM,OAAS,EAC7B,EAAO,GAAM,SAAW,mDAAmD,KAEjF,MAAO,IAAK,GAAI,SAAQ,GAAW,CACjC,GAAG,eAAe,EAGlB,EAAQ,UAAU,IAAI,QAAQ,EAC9B,GAAQ,CAAI,EAGZ,EAAM,cAAc,aAAa,EAAE,YAAc,EACjD,EAAM,cAAc,YAAY,EAAE,UAAY,EAG9C,EAAM,cAAc,YAAY,EAAE,YAAY,SAAS,cAAc,IAAI,CAAC,EAC1E,GAAM,GAAS,SAAS,cAAc,GAAG,EACzC,EAAO,YAAY,SAAS,eAAe,oCAAoC,CAAC,EAChF,GAAM,GAAa,SAAS,cAAc,GAAG,EAC7C,EAAW,KAAO,+DAA+D,GAAM,MAAQ,GAAG,SAClG,EAAW,YAAc,oBACzB,EAAW,OAAS,SACpB,EAAW,IAAM,aACjB,EAAO,YAAY,CAAU,EAC7B,EAAM,cAAc,YAAY,EAAE,YAAY,CAAM,EAGpD,EAAM,MAAM,QAAU,OACtB,EAAM,MAAM,WAAa,2BACzB,OAAO,sBAAsB,IAAM,CACjC,OAAO,sBAAsB,IAAM,CACjC,EAAM,MAAM,QAAU,IACtB,EAAM,aAAa,cAAe,OAAO,EACzC,EAAM,MAAM,EAEZ,WAAW,IAAM,CACf,EAAM,MAAM,WAAa,GACzB,EAAQ,CACV,EAAG,GAAG,CACR,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAEM,GAAqB,CAAC,EAAK,EAAO,EAAO,KAAS,GAAK,GAAI,SAAQ,GAAW,CAClF,GAAG,eAAe,EAGlB,GAAM,GAAS,EAAI,cAAc,SAAS,EAC1C,AAAI,GAAQ,EAAO,UAAU,OAAO,QAAQ,EACxC,GAAM,GAAQ,EAAE,EAGpB,EAAM,MAAM,WAAa,2BACzB,OAAO,sBAAsB,IAAM,CACjC,OAAO,sBAAsB,IAAM,CACjC,EAAM,MAAM,QAAU,IACtB,EAAM,aAAa,cAAe,MAAM,EACxC,EAAI,MAAM,EAEV,WAAW,IAAM,CACf,EAAM,MAAM,QAAU,OACtB,EAAM,MAAM,WAAa,GACzB,EAAQ,CACV,EAAG,GAAG,CACR,CAAC,CACH,CAAC,CACH,CAAC,EAEK,GAAc,CAAC,EAAK,EAAO,IAAa,SAAY,CACxD,GAAM,GAAO,OAAO,SAAS,KAAK,QAAQ,KAAM,EAAE,EAClD,GAAI,OAAO,UAAU,eAAe,KAAK,GAAM,CAAI,EAAG,CACpD,GAAM,GAAU,EAAS,KAAK,GAAO,GAAS,EAAI,aAAa,IAAI,CAAC,IAAO,IAAK,GAAM,KAAK,SAAW,EAAK,EAC3G,AAAI,GACF,GAAQ,MAAM,EACV,EAAM,MAAM,UAAY,QAAQ,KAAM,IAAmB,EAAK,EAAO,EAAK,EAAE,EAChF,KAAM,IAAmB,EAAS,EAAO,CAAI,EAAE,EAEnD,CACF,EAEO,GAAQ,CAAC,EAAK,IAAU,CAE7B,GAAI,GAAc,GAAO,EAAY,GACrC,EAAI,iBAAiB,YAAa,IAAM,CACtC,EAAc,GACd,EAAY,EACd,CAAC,EACD,EAAI,iBAAiB,UAAW,IAAM,CACpC,EAAc,EAChB,CAAC,EACD,EAAI,iBAAiB,YAAa,IAAM,CACtC,AAAI,GAAa,GAAY,GAC/B,CAAC,EAGD,GAAM,GAAe,GAAmB,EAAK,CAAK,EAClD,EAAM,cAAc,4BAA4B,EAAE,iBAAiB,QAAS,CAAY,EACxF,EAAM,cAAc,4BAA4B,EAAE,iBAAiB,UAAW,GAAK,CACjF,AAAI,GAAE,MAAQ,SAAW,EAAE,MAAQ,MAAK,EAAa,CAAC,EAAE,KAAK,CAC/D,CAAC,EACD,EAAM,iBAAiB,QAAS,GAAK,CACnC,AAAI,EAAE,SAAW,GAAO,EAAa,CAAC,EAAE,KAAK,CAC/C,CAAC,EACD,EAAM,iBAAiB,UAAW,GAAK,CACrC,AAAI,EAAE,MAAQ,UAAU,EAAa,CAAC,EAAE,KAAK,CAC/C,CAAC,EAED,GAAM,GAAW,CAAE,GAAG,EAAI,iBAAiB,oBAAoB,CAAE,EACjE,EAAS,QAAQ,GAAW,CAE1B,EAAQ,aAAa,WAAY,GAAG,EACpC,EAAQ,iBAAiB,QAAS,IAAM,CAEtC,GAAM,GAAO,EAAQ,sBAAsB,EACrC,EAAU,EAAI,sBAAsB,EACpC,EAAM,KAAK,IAAI,EAAK,IAAK,EAAQ,GAAG,EACpC,EAAO,KAAK,IAAI,EAAK,KAAM,EAAQ,IAAI,EACvC,EAAS,KAAK,IAAI,EAAK,OAAQ,EAAQ,MAAM,EAC7C,EAAQ,KAAK,IAAI,EAAK,MAAO,EAAQ,KAAK,EAC1C,EAAW,EAAK,MAAQ,EAAK,OAInC,AAAI,AAHgB,KAAK,IAAI,EAAQ,EAAM,CAAC,EAAI,KAAK,IAAI,EAAS,EAAK,CAAC,EAGtD,EAAW,KAC3B,EAAI,cAAc,GAAI,aAAY,QAAS,CACzC,OAAQ,CACN,EAAG,CAAE,GAAK,KAAQ,EAAK,MAAQ,EAAM,EAAQ,MAAQ,GACrD,EAAG,CAAE,GAAK,IAAO,EAAK,OAAS,EAAM,EAAQ,OAAS,EACxD,CACF,CAAC,CAAC,CAEN,CAAC,EAGD,GAAM,GAAc,GAAmB,EAAS,EAAO,EAAQ,aAAa,IAAI,CAAC,EACjF,EAAQ,iBAAiB,QAAS,GAAK,CACrC,AAAK,GAAW,EAAY,CAAC,EAAE,KAAK,CACtC,CAAC,EACD,EAAQ,iBAAiB,UAAW,GAAK,CACvC,AAAI,GAAE,MAAQ,SAAW,EAAE,MAAQ,MAAK,EAAY,CAAC,EAAE,KAAK,CAC9D,CAAC,CACH,CAAC,EAGD,EAAI,cAAc,UAAU,EAAE,MAAM,QAAU,OAI9C,OAAO,sBAAsB,IAAM,CACjC,OAAO,sBAAsB,IAAM,CACjC,GAAM,GAAU,GAAY,EAAK,EAAO,CAAQ,EAChD,OAAO,iBAAiB,aAAc,CAAO,EAC7C,EAAQ,EAAE,KAAK,CACjB,CAAC,CACH,CAAC,CACH,ECzKA,OAAmB,WCEnB,GAAM,IAAY,CACjB,CACC,oBACA,iBACA,oBACA,oBACA,mBACA,iBACD,EAEA,CACC,0BACA,uBACA,0BACA,0BACA,yBACA,uBAED,EAEA,CACC,0BACA,yBACA,iCACA,yBACA,yBACA,uBAED,EACA,CACC,uBACA,sBACA,uBACA,uBACA,sBACA,oBACD,EACA,CACC,sBACA,mBACA,sBACA,sBACA,qBACA,mBACD,CACD,EAEM,EAAa,KAAM,CACxB,GAAI,MAAO,UAAa,IACvB,MAAO,GAGR,GAAM,GAAoB,GAAU,GAC9B,EAAc,CAAC,EAErB,OAAW,KAAc,IAExB,GAAI,AADyB,IAAa,IACd,UAAU,CACrC,OAAW,CAAC,EAAO,IAAW,GAAW,QAAQ,EAChD,EAAY,EAAkB,IAAU,EAGzC,MAAO,EACR,CAGD,MAAO,EACR,GAAG,EAEG,GAAe,CACpB,OAAQ,EAAU,iBAClB,MAAO,EAAU,eAClB,EAGI,EAAa,CAEhB,QAAQ,EAAU,SAAS,gBAAiB,EAAS,CACpD,MAAO,IAAI,SAAQ,CAAC,EAAS,IAAW,CACvC,GAAM,GAAsB,IAAM,CACjC,EAAW,IAAI,SAAU,CAAmB,EAC5C,EAAQ,CACT,EAEA,EAAW,GAAG,SAAU,CAAmB,EAE3C,GAAM,GAAgB,EAAQ,EAAU,mBAAmB,CAAO,EAElE,AAAI,YAAyB,UAC5B,EAAc,KAAK,CAAmB,EAAE,MAAM,CAAM,CAEtD,CAAC,CACF,EACA,MAAO,CACN,MAAO,IAAI,SAAQ,CAAC,EAAS,IAAW,CACvC,GAAI,CAAC,EAAW,aAAc,CAC7B,EAAQ,EACR,MACD,CAEA,GAAM,GAAmB,IAAM,CAC9B,EAAW,IAAI,SAAU,CAAgB,EACzC,EAAQ,CACT,EAEA,EAAW,GAAG,SAAU,CAAgB,EAExC,GAAM,GAAgB,SAAS,EAAU,gBAAgB,EAEzD,AAAI,YAAyB,UAC5B,EAAc,KAAK,CAAgB,EAAE,MAAM,CAAM,CAEnD,CAAC,CACF,EACA,OAAO,EAAS,EAAS,CACxB,MAAO,GAAW,aAAe,EAAW,KAAK,EAAI,EAAW,QAAQ,EAAS,CAAO,CACzF,EACA,SAAS,EAAU,CAClB,EAAW,GAAG,SAAU,CAAQ,CACjC,EACA,QAAQ,EAAU,CACjB,EAAW,GAAG,QAAS,CAAQ,CAChC,EACA,GAAG,EAAO,EAAU,CACnB,GAAM,GAAY,GAAa,GAC/B,AAAI,GACH,SAAS,iBAAiB,EAAW,EAAU,EAAK,CAEtD,EACA,IAAI,EAAO,EAAU,CACpB,GAAM,GAAY,GAAa,GAC/B,AAAI,GACH,SAAS,oBAAoB,EAAW,EAAU,EAAK,CAEzD,EACA,IAAK,CACN,EAEA,OAAO,iBAAiB,EAAY,CACnC,aAAc,CACb,IAAK,IAAM,QAAQ,SAAS,EAAU,kBAAkB,CACzD,EACA,QAAS,CACR,WAAY,GACZ,IAAK,IAAM,SAAS,EAAU,oBAAsB,MACrD,EACA,UAAW,CACV,WAAY,GAEZ,IAAK,IAAM,QAAQ,SAAS,EAAU,kBAAkB,CACzD,CACD,CAAC,EAED,AAAK,GACJ,GAAa,CAAC,UAAW,EAAK,GAG/B,GAAO,GAAQ,ED7Jf,OAAuB;;EAKvB,GAAM,IAAgB,CAAC,EAAI,IAAQ,CAGjC,GAAM,GAAQ,EAAG,SAAS,EACpB,EAAQ,EAAM,QAAQ,MAAQ,EAAM,SACpC,EAAS,EAAM,QAAQ,OAAS,EAAM,SACtC,EAAa,KAAK,IAAI,EAAM,MAAQ,EAAO,CAAC,EAAI,EAChD,EAAc,KAAK,IAAI,EAAM,OAAS,EAAQ,CAAC,EAAI,EAMzD,MAAO,CACL,EAAG,KAAK,IAAI,KAAK,IAAI,EAAI,EAAG,CAAU,EAAG,CAAE,GAAa,EAAQ,EAAM,MAAM,EAC5E,EAAG,KAAK,IAAI,KAAK,IAAI,EAAI,EAAG,CAAW,EAAG,CAAE,GAAc,EAAS,EAAM,OAAO,CAClF,CACF,EAEM,GAAc,CAAC,EAAI,EAAS,EAAY,KAAU,CAEtD,EAAG,OAAO,EAGV,GAAM,GAAe,EAAG,SAAS,EAC3B,EAAc,EAAa,QAAQ,MAAQ,EAAa,SACxD,EAAa,EAAa,MAAQ,EAClC,EAAe,EAAa,QAAQ,OAAS,EAAa,SAC1D,EAAc,EAAa,OAAS,EACpC,EAAW,KAAK,IAAI,EAAY,CAAW,EAAI,EAAG,QAAQ,EAG1D,EAAU,KAAK,IAAI,EAAY,CAAW,EAAI,EAAG,QAAQ,EAG/D,EAAG,WAAW,CAAO,EACjB,EAAG,QAAQ,EAAI,GACjB,GAAG,KAAK,CAAO,EACf,EAAG,IAAI,GAAc,EAAI,EAAG,OAAO,CAAC,CAAC,GAIvC,GAAM,GAAa,EAAW,EAC9B,EAAG,WAAW,CAAU,EACpB,EAAG,QAAQ,EAAI,GACjB,GAAG,KAAK,CAAU,EAClB,EAAG,IAAI,GAAc,EAAI,EAAG,OAAO,CAAC,CAAC,GAInC,GACF,GAAG,KAAK,CAAQ,EAChB,EAAG,OAAO,EACV,EAAG,IAAI,GAAc,EAAI,EAAG,OAAO,CAAC,CAAC,EAEzC,EAEM,GAAsB,IAAO,EACjC,mBAAoB,CAAE,aAAc,WAAY,YAAa,aAAc,aAAc,EACzF,KAAK,EAAS,CACZ,GAAM,CAAE,YAAa,EACjB,EAAe,EAAG,EAAU,EAAG,EAAU,EAI7C,KAAK,OAAS,eAAO,EAAQ,WAAY,CACvC,WAAY,WAAO,uBAAyB,WAAO,kBAAoB,WAAO,UAChF,CAAC,EAGD,KAAK,OAAO,IAAI,OAAO,EAAE,IAAI,CAAE,OAAQ,EAAK,CAAC,EAG7C,KAAK,OAAO,GAAG,YAAa,IAAM,EAAS,OAAO,CAAC,EAGnD,KAAK,OAAO,GAAG,mBAAoB,GAAM,CAEvC,AAAI,EAAG,OAAS,YACd,GAAU,EACV,EAAU,GAIZ,EAAS,MAAM,CAAE,EAAG,EAAG,OAAS,EAAS,EAAG,EAAG,OAAS,CAAQ,CAAC,EACjE,EAAU,EAAG,OACb,EAAU,EAAG,MACf,CAAC,EAGD,KAAK,OAAO,GAAG,uBAAwB,GAAM,CAE3C,AAAI,EAAG,OAAS,cACd,GAAe,EAAS,QAAQ,EAChC,EAAS,YAAY,EAAe,EAAG,MAAO,CAAE,EAAG,EAAG,OAAO,EAAG,EAAG,EAAG,OAAO,CAAE,CAAC,GAGlF,EAAS,YAAY,EAAe,EAAG,MAAO,CAAE,EAAG,EAAG,OAAO,EAAG,EAAG,EAAG,OAAO,CAAE,CAAC,CAClF,CAAC,EAGD,EAAQ,WAAW,iBAAiB,YAAa,GAAK,EAAE,eAAe,CAAC,CAC1E,EACA,SAAU,CACR,KAAK,OAAO,QAAQ,CACtB,CACF,GAEO,GAAQ,GAAO,CAIpB,GAAM,GAAU,eAAW,EAAK,CAC9B,qBAAsB,GACtB,QAAS,EACT,UACA,oBAAqB,GAAoB,EACzC,UAAU,EAAQ,EAAQ,CAExB,SAAI,cAAc,GAAI,aAAY,YAAa,CAAE,OAAQ,CAAE,SAAQ,QAAO,CAAE,CAAC,CAAC,EAGvE,GAAc,KAAM,CAAM,CACnC,CACF,CAAC,EAwCD,GAvCA,EAAI,uBAAuB,uBAAuB,EAAE,GAAG,MAAM,WAAa,YAG1E,EAAI,iBAAiB,QAAS,GAAK,CACjC,EAAQ,MAAM,EAAE,MAAM,CACxB,CAAC,EAGD,EAAI,aAAa,WAAY,IAAI,EACjC,EAAI,MAAM,EACV,EAAI,iBAAiB,QAAS,IAAM,CAClC,EAAI,MAAM,CACZ,CAAC,EACD,EAAI,iBAAiB,UAAW,GAAK,CAEnC,GAAM,GAAO,EAAE,SAAW,GAAK,EAG3B,EACJ,AAAI,EAAE,MAAQ,UAAW,EAAM,CAAE,EAAG,EAAG,EAAG,GAAK,CAAK,EAC/C,AAAI,EAAE,MAAQ,YAAa,EAAM,CAAE,EAAG,EAAG,EAAG,IAAM,CAAK,EACvD,AAAI,EAAE,MAAQ,YAAa,EAAM,CAAE,EAAG,GAAK,EAAM,EAAG,CAAE,EAClD,EAAE,MAAQ,cAAc,GAAM,CAAE,EAAG,IAAM,EAAM,EAAG,CAAE,GAGzD,GACF,GAAE,eAAe,EACjB,EAAQ,MAAM,CAAG,EAErB,CAAC,EAGD,GAAY,EAAS,EAAS,EAAI,EAClC,OAAO,iBAAiB,SAAU,IAAM,CACtC,GAAY,EAAS,CAAO,EAC5B,EAAQ,IAAI,GAAc,EAAS,EAAQ,OAAO,CAAC,CAAC,CACtD,CAAC,EAGG,EAAW,UAAW,CAExB,GAAM,GAAmB,SAAS,cAAc,QAAQ,EACxD,EAAiB,UAAY,aAC7B,EAAiB,UAAY,GAC7B,EAAiB,aAAa,OAAQ,QAAQ,EAC9C,EAAiB,aAAa,OAAQ,QAAQ,EAC9C,EAAiB,aAAa,aAAc,YAAY,EACxD,EAAiB,aAAa,eAAgB,OAAO,EAGrD,EAAiB,iBAAiB,QAAS,GAAK,CAC9C,EAAE,eAAe,EACjB,EAAW,OAAO,EAAI,aAAa,CACrC,CAAC,EACD,EAAiB,iBAAiB,UAAW,GAAK,CAChD,AAAI,GAAE,MAAQ,SAAW,EAAE,MAAQ,MACjC,GAAE,eAAe,EACjB,EAAW,OAAO,EAAI,aAAa,EAEvC,CAAC,EAGD,EAAW,GAAG,SAAU,IAAM,CAC5B,EAAiB,UAAY,aAAa,EAAW,aAAe,UAAY,KAChF,EAAiB,UAAY,EAAW,aAAe,GAAe,GACtE,EAAiB,aAAa,eAAiB,EAAC,CAAC,EAAW,cAAc,SAAS,CAAC,CACtF,CAAC,EAGD,EAAI,cAAc,YAAY,CAAgB,CAChD,CACF,EEvMA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,GAAM,GAAM,SAAS,qBAAqB,KAAK,EAAE,GAC3C,EAAO,SAAS,eAAe,MAAM,EAC3C,GAAa,EAAK,CAAI,EACtB,GAAW,CAAG,EACd,GAAQ,CAAG,CACb,CAAC",
  "names": []
}
